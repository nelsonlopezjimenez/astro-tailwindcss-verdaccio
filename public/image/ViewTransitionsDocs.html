<!DOCTYPE html>
<!-- saved from url=(0052)https://docs.astro.build/en/guides/view-transitions/ -->
<html lang="en" dir="ltr" data-has-toc="" data-has-sidebar="" data-theme="light" class="astro-w5t7svrm"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1"><title>View Transitions | Docs</title><link rel="canonical" href="https://docs.astro.build/en/guides/view-transitions/"><link rel="alternate" hreflang="en" href="https://docs.astro.build/en/guides/view-transitions/"><link rel="alternate" hreflang="de" href="https://docs.astro.build/de/guides/view-transitions/"><link rel="alternate" hreflang="pt-BR" href="https://docs.astro.build/pt-br/guides/view-transitions/"><link rel="alternate" hreflang="es" href="https://docs.astro.build/es/guides/view-transitions/"><link rel="alternate" hreflang="zh-CN" href="https://docs.astro.build/zh-cn/guides/view-transitions/"><link rel="alternate" hreflang="zh-TW" href="https://docs.astro.build/zh-tw/guides/view-transitions/"><link rel="alternate" hreflang="fr" href="https://docs.astro.build/fr/guides/view-transitions/"><link rel="alternate" hreflang="hi" href="https://docs.astro.build/hi/guides/view-transitions/"><link rel="alternate" hreflang="ar" href="https://docs.astro.build/ar/guides/view-transitions/"><link rel="alternate" hreflang="ja" href="https://docs.astro.build/ja/guides/view-transitions/"><link rel="alternate" hreflang="ko" href="https://docs.astro.build/ko/guides/view-transitions/"><link rel="alternate" hreflang="pl" href="https://docs.astro.build/pl/guides/view-transitions/"><link rel="alternate" hreflang="ru" href="https://docs.astro.build/ru/guides/view-transitions/"><link rel="alternate" hreflang="it" href="https://docs.astro.build/it/guides/view-transitions/"><link rel="sitemap" href="https://docs.astro.build/sitemap-index.xml"><link rel="icon" href="https://docs.astro.build/favicon.ico" sizes="32x32"><link rel="shortcut icon" href="https://docs.astro.build/favicon.svg" type="image/svg+xml"><meta name="generator" content="Astro v4.6.3"><meta name="generator" content="Starlight v0.21.1"><meta property="og:title" content="View Transitions"><meta property="og:type" content="article"><meta property="og:url" content="https://docs.astro.build/en/guides/view-transitions/"><meta property="og:locale" content="en"><meta property="og:description" content="Enable seamless navigation between pages in Astro with view transitions."><meta property="og:site_name" content="Docs"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:title" content="View Transitions"><meta name="twitter:description" content="Enable seamless navigation between pages in Astro with view transitions."><meta name="description" content="Enable seamless navigation between pages in Astro with view transitions.">
<meta property="og:image" content="https://docs.astro.build/open-graph/en/guides/view-transitions.webp">
<meta name="twitter:image" content="https://docs.astro.build/open-graph/en/guides/view-transitions.webp">

<!-- Algolia docsearch language facet -->
<meta name="docsearch:language" content="en">
<meta name="twitter:site" content="astrodotbuild">

<!-- Fathom analytics -->
<script src="./ViewTransitionsDocs_files/script.js.download" data-site="EZBHTSIG" defer=""></script>
		
		
<script>
	window.StarlightThemeProvider = (() => {
		const storedTheme =
			typeof localStorage !== 'undefined' && localStorage.getItem('starlight-theme');
		const theme =
			storedTheme ||
			(window.matchMedia('(prefers-color-scheme: light)').matches ? 'light' : 'dark');
		document.documentElement.dataset.theme = theme === 'light' ? 'light' : 'dark';
		return {
			updatePickers(theme = storedTheme || 'auto') {
				document.querySelectorAll('starlight-theme-select').forEach((picker) => {
					const select = picker.querySelector('select');
					if (select) select.value = theme;
					/** @type {HTMLTemplateElement | null} */
					const tmpl = document.querySelector(`#theme-icons`);
					const newIcon = tmpl && tmpl.content.querySelector('.' + theme);
					if (newIcon) {
						const oldIcon = picker.querySelector('svg.label-icon');
						if (oldIcon) {
							oldIcon.replaceChildren(...newIcon.cloneNode(true).childNodes);
						}
					}
				});
			},
		};
	})();
</script>

<template id="theme-icons"></template>
	<link rel="stylesheet" href="./ViewTransitionsDocs_files/index.VfaO486A.css">
<style>.action:where(.astro-vnzlvqnm){gap:.5em;align-items:center;border-radius:999rem;padding:.5rem 1.125rem;color:var(--sl-color-white);line-height:1.1875;text-decoration:none;font-size:var(--sl-text-sm)}.action:where(.astro-vnzlvqnm).primary,.action:where(.astro-vnzlvqnm).primary:hover{background:var(--sl-color-text-accent);color:var(--sl-color-black)}.action:where(.astro-vnzlvqnm).secondary{background:var(--sl-color-black);border:2px solid}.action:where(.astro-vnzlvqnm).minimal{padding-inline:0}@media (min-width: 50rem){.action:where(.astro-vnzlvqnm){font-size:var(--sl-text-base);padding:1rem 1.25rem}}
.card-grid:where(.astro-qksvyjqd){display:grid;gap:1rem}.card-grid:where(.astro-qksvyjqd)>*{margin-top:0!important}@media (min-width: 50rem){.card-grid:where(.astro-qksvyjqd){grid-template-columns:1fr 1fr;gap:1.5rem}.stagger:where(.astro-qksvyjqd){--stagger-height: 5rem;padding-bottom:var(--stagger-height)}.stagger:where(.astro-qksvyjqd)>*:nth-child(2n){transform:translateY(var(--stagger-height))}}
.card:where(.astro-ylab74ug){--sl-card-border: var(--sl-color-purple);--sl-card-bg: var(--sl-color-purple-low);border:1px solid var(--sl-color-gray-5);background-color:var(--sl-color-black);padding:clamp(1rem,calc(.125rem + 3vw),2.5rem);flex-direction:column;gap:clamp(.5rem,calc(.125rem + 1vw),1rem)}.card:where(.astro-ylab74ug):nth-child(4n+1){--sl-card-border: var(--sl-color-orange);--sl-card-bg: var(--sl-color-orange-low)}.card:where(.astro-ylab74ug):nth-child(4n+3){--sl-card-border: var(--sl-color-green);--sl-card-bg: var(--sl-color-green-low)}.card:where(.astro-ylab74ug):nth-child(4n+4){--sl-card-border: var(--sl-color-red);--sl-card-bg: var(--sl-color-red-low)}.card:where(.astro-ylab74ug):nth-child(4n+5){--sl-card-border: var(--sl-color-blue);--sl-card-bg: var(--sl-color-blue-low)}.title:where(.astro-ylab74ug){font-weight:600;font-size:var(--sl-text-h4);color:var(--sl-color-white);line-height:var(--sl-line-height-headings);gap:1rem;align-items:center}.card:where(.astro-ylab74ug) .icon:where(.astro-ylab74ug){border:1px solid var(--sl-card-border);background-color:var(--sl-card-bg);padding:.2em;border-radius:.25rem}.card:where(.astro-ylab74ug) .body:where(.astro-ylab74ug){margin:0;font-size:clamp(var(--sl-text-sm),calc(.5rem + 1vw),var(--sl-text-body))}
svg:where(.astro-3zixussu){color:var(--sl-icon-color);font-size:var(--sl-icon-size, 1em);width:1em;height:1em}
starlight-tabs:where(.astro-3jxmturq){display:block}.tablist-wrapper:where(.astro-3jxmturq){overflow-x:auto}:where(.astro-3jxmturq)[role=tablist]{display:flex;list-style:none;border-bottom:2px solid var(--sl-color-gray-5);padding:0}.tab:where(.astro-3jxmturq){margin-bottom:-2px}.tab:where(.astro-3jxmturq)>:where(.astro-3jxmturq)[role=tab]{display:flex;align-items:center;gap:.5rem;padding:0 1.25rem;text-decoration:none;border-bottom:2px solid var(--sl-color-gray-5);color:var(--sl-color-gray-3);outline-offset:var(--sl-outline-offset-inside)}.tab:where(.astro-3jxmturq) :where(.astro-3jxmturq)[role=tab][aria-selected]{color:var(--sl-color-white);border-color:var(--sl-color-text-accent);font-weight:600}.tablist-wrapper:where(.astro-3jxmturq)~[role=tabpanel]{margin-top:1rem}
.badge:where(.astro-w254wjdn){display:inline-block;font-size:var(--sl-text-xs);font-family:var(--__sl-font-mono);border:1px solid;border-radius:.25rem;line-height:1;padding:.375em .5em;white-space:nowrap;color:var(--sl-color-white)}.neutral:where(.astro-w254wjdn){border-color:var(--sl-color-gray-5);background-color:var(--sl-color-gray-6)}.accent:where(.astro-w254wjdn){border-color:var(--sl-color-accent);background-color:var(--sl-color-accent-low)}
.sl-link-card:where(.astro-if2wy6iw){display:grid;grid-template-columns:1fr auto;gap:.5rem;border:1px solid var(--sl-color-gray-5);border-radius:.5rem;padding:1rem;box-shadow:var(--sl-shadow-sm);position:relative}a:where(.astro-if2wy6iw){text-decoration:none;line-height:var(--sl-line-height-headings)}a:where(.astro-if2wy6iw):before{content:"";position:absolute;inset:0}.stack:where(.astro-if2wy6iw){flex-direction:column;gap:.5rem}.title:where(.astro-if2wy6iw){color:var(--sl-color-white);font-weight:600;font-size:var(--sl-text-lg)}.description:where(.astro-if2wy6iw){color:var(--sl-color-gray-3);line-height:1.5}.icon:where(.astro-if2wy6iw){color:var(--sl-color-gray-3)}.sl-link-card:where(.astro-if2wy6iw):hover{background:var(--sl-color-gray-7, var(--sl-color-gray-6));border-color:var(--sl-color-gray-2)}.sl-link-card:where(.astro-if2wy6iw):hover .icon:where(.astro-if2wy6iw){color:var(--sl-color-white)}
.sl-steps{--bullet-size: calc(var(--sl-line-height) * 1rem);--bullet-margin: .375rem;list-style:none;padding-inline-start:0}.sl-steps>li{position:relative;padding-inline-start:calc(var(--bullet-size) + 1rem);padding-bottom:1px;min-height:calc(var(--bullet-size) + var(--bullet-margin))}.sl-steps>li+li{margin-top:0}.sl-steps>li:before{content:counter(list-item);position:absolute;top:0;inset-inline-start:0;width:var(--bullet-size);height:var(--bullet-size);line-height:var(--bullet-size);font-size:var(--sl-text-xs);font-weight:600;text-align:center;color:var(--sl-color-white);background-color:var(--sl-color-gray-6);border-radius:99rem;box-shadow:inset 0 0 0 1px var(--sl-color-gray-5)}.sl-steps>li:not(:last-of-type):after{--guide-width: 1px;content:"";position:absolute;top:calc(var(--bullet-size) + var(--bullet-margin));bottom:var(--bullet-margin);inset-inline-start:calc((var(--bullet-size) - var(--guide-width)) / 2);width:var(--guide-width);background-color:var(--sl-color-hairline-light)}.sl-steps>li>:first-child{--lh: calc(1em * var(--sl-line-height));--shift-y: calc(.5 * (var(--bullet-size) - var(--lh)));transform:translateY(var(--shift-y));margin-bottom:var(--shift-y)}.sl-steps>li>:first-child:where(h1,h2,h3,h4,h5,h6){--lh: calc(1em * var(--sl-line-height-headings))}@supports (--prop: 1lh){.sl-steps>li>:first-child{--lh: 1lh}}
.card:where(.astro-har75nup){position:relative;margin:-.75rem;padding:.75rem;display:grid;grid-template-columns:auto 1fr;gap:.5rem;align-items:center;border-radius:.5rem}.card--minimal:where(.astro-har75nup){grid-template-columns:1fr;justify-items:center;text-align:center}.card:where(.astro-har75nup):hover,.card:where(.astro-har75nup):focus-within{background-color:var(--sl-color-gray-6);outline:1px solid var(--sl-color-text-accent)}@media (forced-colors: active){.card:where(.astro-har75nup):hover,.card:where(.astro-har75nup):focus-within{outline:1px solid LinkText}}.stack:where(.astro-har75nup){flex-direction:column;gap:.5rem}h3:where(.astro-har75nup){line-height:var(--sl-line-height-headings);font-size:var(--sl-text-lg);font-weight:600}.card--minimal:where(.astro-har75nup) h3:where(.astro-har75nup){font-size:var(--sl-text-body)}a:where(.astro-har75nup){text-decoration:none;color:var(--sl-color-white)}a:where(.astro-har75nup):focus{outline:none}a:where(.astro-har75nup):before{content:"";position:absolute;inset:0}
.fluid-grid:where(.astro-oxk5cgh7){--column-min-width: 13rem;text-align:start;margin-block:.5rem;padding-inline-start:0;display:grid;grid-template-columns:repeat(auto-fill,minmax(var(--column-min-width),1fr));grid-template-columns:repeat(auto-fill,minmax(min(var(--column-min-width),100%),1fr));gap:1.5rem 2rem;list-style:none;align-items:start}@media (min-width: 37.75em){.fluid-grid:where(.astro-oxk5cgh7){gap:2rem}}.fluid-grid--minimal:where(.astro-oxk5cgh7){--column-min-width: 8rem;gap:1.5rem .75rem}
.description:where(.astro-kq5jy4fu){color:var(--sl-color-gray-2);font-size:var(--sl-text-body-sm)}.tags:where(.astro-kq5jy4fu){gap:.5rem}
.logo:where(.astro-anndpidy){display:flex;place-content:center;font-size:var(--logo-size);width:1em;height:1em;background-color:#17181c;border:1px solid hsl(224,10%,23%);outline:1px solid transparent;overflow:hidden}.circle:where(.astro-anndpidy){border-radius:50%}.rounded:where(.astro-anndpidy){border-radius:.125em}.logo:where(.astro-anndpidy) img:where(.astro-anndpidy){padding:var(--logo-padding);width:100%;height:100%}
.integrations-nav:where(.astro-hu7fe7u2) .scope{font-weight:400;color:var(--sl-color-text)}
starlight-file-tree:where(.astro-om2t42ka){--x-space: 1.5rem;--y-space: .125rem;--y-pad: 0;display:block;border:1px solid var(--sl-color-gray-5);padding:1rem;background-color:var(--sl-color-gray-6);font-size:var(--sl-text-xs);font-family:var(--__sl-font-mono);overflow-x:auto}starlight-file-tree:where(.astro-om2t42ka) .directory>details{border:0;padding:0;padding-inline-start:var(--x-space);background:transparent}starlight-file-tree:where(.astro-om2t42ka) .directory>details>summary{margin-inline-start:calc(-1 * var(--x-space));border:0;padding:var(--y-pad) .625rem;font-weight:400;color:var(--sl-color-white);max-width:100%;&::marker,&::-webkit-details-marker{color:var(--sl-color-gray-3)}&:hover,&:hover .tree-icon{cursor:pointer;color:var(--sl-color-text-accent);fill:var(--sl-color-text-accent);~ul{border-color:var(--sl-color-gray-4)}}&:hover .highlight .tree-icon{fill:var(--sl-color-text-invert)}}starlight-file-tree:where(.astro-om2t42ka) ul{margin-inline-start:.5rem;border-inline-start:1px solid var(--sl-color-gray-5);padding:0;padding-inline-start:.125rem;list-style:none}starlight-file-tree:where(.astro-om2t42ka)>ul{margin:0;border:0;padding:0}starlight-file-tree:where(.astro-om2t42ka) li{margin:var(--y-space) 0;padding:var(--y-pad) 0}starlight-file-tree:where(.astro-om2t42ka) .file{margin-inline-start:calc(var(--x-space) - .125rem);color:var(--sl-color-white)}starlight-file-tree:where(.astro-om2t42ka) .tree-entry{display:inline-flex;align-items:flex-start;flex-wrap:wrap;max-width:calc(100% - 1rem);@media (min-width: 30em){flex-wrap:nowrap}>:first-child{flex-shrink:0}}starlight-file-tree:where(.astro-om2t42ka) .empty{color:var(--sl-color-gray-3);padding-inline-start:.375rem}starlight-file-tree:where(.astro-om2t42ka) .comment{color:var(--sl-color-gray-3);padding-inline-start:1.625rem;max-width:24rem;min-width:12rem}starlight-file-tree:where(.astro-om2t42ka) .highlight{display:inline-block;border-radius:.25rem;padding-inline-end:.5rem;color:var(--sl-color-text-invert);background-color:var(--sl-color-text-accent)}starlight-file-tree:where(.astro-om2t42ka) svg{display:inline;fill:var(--sl-color-gray-3);vertical-align:middle;margin-inline:.25rem .375rem;width:.875rem;height:.875rem}starlight-file-tree:where(.astro-om2t42ka) .highlight svg.tree-icon{fill:var(--sl-color-text-invert)}
</style><script type="module" src="./ViewTransitionsDocs_files/page.CZ0TFQCk.js.download"></script></head>
	<body class="astro-w5t7svrm">
		<a href="https://docs.astro.build/en/guides/view-transitions/#_top" class="astro-mn25ykfb">Skip to content</a>
		<div class="page sl-flex astro-kfmhqf5u">
	<header class="header astro-kfmhqf5u"><div class="header sl-flex astro-rgpghef3">
	<div class="title-wrapper sl-flex astro-rgpghef3">
		<span class="site-title sl-flex astro-oijwx5iz">
	<a class="astro-logo astro-oijwx5iz" href="https://astro.build/" aria-label="Astro"><svg xmlns="http://www.w3.org/2000/svg" width="106" height="28" viewBox="0 -6 381 100">
  <path class="flame" fill="currentColor" d="M25.8 85.2c-4.5-4.2-5.9-12.8-4-19.1 3.3 4 7.8 5.2 12.5 6 7.2 1 14.3.6 21-2.7l2.4-1.4c.6 1.8.8 3.7.5 5.6-.5 4.5-2.8 8-6.4 10.7-1.4 1.1-3 2-4.5 3-4.6 3.2-5.8 6.8-4 12.1v.6a12 12 0 0 1-5.3-4.6 13 13 0 0 1-2-7c0-1.2 0-2.5-.2-3.7-.4-3-1.8-4.3-4.5-4.4a5.2 5.2 0 0 0-5.4 4.2l-.1.7Z"></path>
  <path fill="currentColor" d="M0 65s13.4-6.5 26.8-6.5l10.1-31.3c.4-1.5 1.5-2.5 2.7-2.5 1.3 0 2.4 1 2.8 2.5l10 31.3c16 0 26.9 6.5 26.9 6.5L56.5 3c-.6-1.8-1.7-3-3.2-3H26c-1.5 0-2.5 1.2-3.2 3L0 65Zm141-19.9c0 5.5-6.8 8.8-16.2 8.8-6.2 0-8.3-1.5-8.3-4.7 0-3.4 2.6-5 8.8-5 5.5 0 10.3 0 15.7.8v.1Zm.1-6.8a71 71 0 0 0-14.5-1.2c-17.7 0-26 4.2-26 14 0 10.1 5.7 14 18.8 14 11.2 0 18.8-2.8 21.6-9.8h.4l-.1 4.7c0 3.6.6 3.9 3.5 3.9h13.8c-.8-2.2-1.2-8.2-1.2-13.4l.2-15.4c0-11.5-6.9-18.8-28.5-18.8-9.3 0-19.6 1.6-27.5 4 .8 3.1 1.8 9.4 2.3 13.5a61.4 61.4 0 0 1 24-4.5c10.4 0 13.2 2.3 13.2 7.1v2Zm37.9 10c-1.9.3-4.5.3-7 .3a60 60 0 0 1-7.1-.4l-.1 2c0 9.5 6.2 15 28.1 15 20.6 0 27.3-5.5 27.3-15.1 0-9.2-4.4-13.7-24-14.7-15.2-.6-16.6-2.3-16.6-4.2 0-2.2 2-3.4 12.2-3.4 10.6 0 13.4 1.5 13.4 4.5v.7a153 153 0 0 1 14.1 0v-1.7c0-11.2-9.2-14.9-27.2-14.9-20.3 0-27 5-27 14.6 0 8.7 5.4 14.1 24.8 15 14.3.4 16 2 16 4.2 0 2.4-2.4 3.5-12.5 3.5-11.5 0-14.4-1.6-14.4-5v-.4Zm66-40.1a58.2 58.2 0 0 1-20.8 11.6v10.8h5V47c0 10 5.3 17.7 21.8 17.7 7 0 11.6-.8 17.4-2-.6-3.7-1.3-9.4-1.5-13.8a41 41 0 0 1-12.6 1.8c-6.6 0-9.3-1.8-9.3-7.1V30.8c8.6 0 17.1.2 22.1.4 0-4 .1-9.7.3-13.5l-22.1.2.2-9.7h-.5Zm44.7 20.1.3-10.6h-15.1c.2 6.5.2 13.3.2 23 0 10 0 16.7-.2 23.2H292c-.3-4.6-.3-12.3-.3-18.9 0-10.3 4.2-13.3 13.7-13.3 4.4 0 7.6.5 10.3 1.5.1-3.8.9-11.4 1.3-14.7a34 34 0 0 0-9.8-1.4c-8.2 0-14.2 3.3-17 11.3l-.6-.1Zm75.1 12.2c0 8.3-6 12.2-15.4 12.2S334 49 334 40.5c0-8.6 6-11.8 15.4-11.8 9.3 0 15.4 3.5 15.4 11.8Zm15.7-.4c0-16.5-13-24-31.1-24-18.3 0-30.8 7.5-30.8 24s11.6 25.3 30.7 25.3c19.2 0 31.2-8.8 31.2-25.3Z"></path>
  <defs>
    <lineargradient id="gradient" x1="21" x2="64.6" y1="100" y2="79.4" gradientUnits="userSpaceOnUse">
      <stop stop-color="#D83333"></stop>
      <stop offset="1" stop-color="#F041FF"></stop>
    </lineargradient>
  </defs>
  <style>
    [data-theme="dark"] .flame {
      fill: url(#gradient);
    }
  </style>
</svg>
</a>
	<a class="docs-logo astro-oijwx5iz" href="https://docs.astro.build/en/getting-started/" aria-label="Docs"><svg xmlns="http://www.w3.org/2000/svg" width="69" height="28" viewBox="0 -6 246 100">
	<path fill="currentColor" d="M29 63.8c16.6 0 28.1-9.5 28.1-23.8 0-14.4-10.8-22.3-27.8-22.3H0v46.1h29ZM13.2 26.6h14.2c9.5 0 16 4.6 16 13.6 0 9.3-6 14.7-15.9 14.7H13.1V26.6Zm80.1 38.8c18.8 0 31-9.7 31-24.6 0-15-12.2-24.6-31-24.6-18.7 0-31 9.6-31 24.6 0 14.8 12.3 24.6 31 24.6Zm0-9.8c-10.3 0-17-6-17-14.8 0-9 6.7-14.9 17-14.9s17.1 6 17.1 14.9-6.8 14.8-17.1 14.8Zm66.3 9.8c15 0 25.5-6 29.3-16.4l-13.5-3c-1.9 6.1-7.2 9.4-15.4 9.4-10.4 0-17-5.8-17-14.7 0-9 6.4-14.7 16.8-14.7 8.4 0 13.7 3.4 15.5 9.7l13.6-2.4c-3-10.7-13.9-17.2-28.9-17.2-18.1 0-30.7 10.2-30.7 24.8 0 14.8 11.7 24.4 30.2 24.4Zm60.3 0c16.6 0 26.1-5.7 26.1-15.9 0-8.5-5.2-12.3-18-13.6l-12.7-1.2c-5.9-.7-7.8-1.8-7.8-4.6 0-3.2 3.9-4.8 11-4.8 8.8 0 15.4 2.8 18.9 7.3l8.2-7c-5.7-6.4-14.8-9.4-26.5-9.4-15.7 0-24.6 5.4-24.6 14.5 0 8.5 5.4 12.7 16.7 14l14.1 1.5c5.5.6 7.5 1.7 7.5 4.6 0 3.6-4 5.3-12.3 5.3-9.4 0-16.5-3.6-20.4-9l-9.3 6.5c4.7 7.3 15.4 11.8 29 11.8Z"></path>
</svg>
</a>
</span>
	</div>
	<div class="sl-flex astro-rgpghef3">
		<sl-doc-search data-translations="{&quot;button&quot;:&quot;Search&quot;,&quot;placeholder&quot;:&quot;Search docs&quot;,&quot;shortcutLabel&quot;:&quot;Press / to search&quot;,&quot;resultsFooterLede&quot;:&quot;Looking for an Astro integration or theme? Need more help?&quot;,&quot;resultsFooterIntegrations&quot;:&quot;Astro integrations directory&quot;,&quot;resultsFooterThemes&quot;:&quot;Astro themes showcase&quot;,&quot;resultsFooterDiscord&quot;:&quot;Join us on Discord&quot;,&quot;modal&quot;:{}}"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"><svg width="15" height="15" class="DocSearch-Control-Key-Icon"><path d="M4.505 4.496h2M5.505 5.496v5M8.216 4.496l.055 5.993M10 7.5c.333.333.5.667.5 1v2M12.326 4.5v5.996M8.384 4.496c1.674 0 2.116 0 2.116 1.5s-.442 1.5-2.116 1.5M3.205 9.303c-.09.448-.277 1.21-1.241 1.203C1 10.5.5 9.513.5 8V7c0-1.57.5-2.5 1.464-2.494.964.006 1.134.598 1.24 1.342M12.553 10.5h1.953" stroke-width="1.2" stroke="currentColor" fill="none" stroke-linecap="square"></path></svg></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></sl-doc-search>

<script type="module" src="./ViewTransitionsDocs_files/Search.astro_astro_type_script_index_0_lang.KVJPDVpd.js.download"></script>
	</div>
	<div class="sl-hidden md:sl-flex right-group astro-rgpghef3">
		<div class="sl-flex social-icons astro-rgpghef3">
			<a href="https://github.com/withastro/astro" rel="me" class="sl-flex astro-6ehpq7mf">
					<span class="sr-only astro-6ehpq7mf">GitHub</span>
					<svg aria-hidden="true" class="astro-6ehpq7mf astro-3zixussu" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M12 .3a12 12 0 0 0-3.8 23.38c.6.12.83-.26.83-.57L9 21.07c-3.34.72-4.04-1.61-4.04-1.61-.55-1.39-1.34-1.76-1.34-1.76-1.08-.74.09-.73.09-.73 1.2.09 1.83 1.24 1.83 1.24 1.08 1.83 2.81 1.3 3.5 1 .1-.78.42-1.31.76-1.61-2.67-.3-5.47-1.33-5.47-5.93 0-1.31.47-2.38 1.24-3.22-.14-.3-.54-1.52.1-3.18 0 0 1-.32 3.3 1.23a11.5 11.5 0 0 1 6 0c2.28-1.55 3.29-1.23 3.29-1.23.64 1.66.24 2.88.12 3.18a4.65 4.65 0 0 1 1.23 3.22c0 4.61-2.8 5.63-5.48 5.92.42.36.81 1.1.81 2.22l-.01 3.29c0 .31.2.69.82.57A12 12 0 0 0 12 .3Z"></path></svg>
				</a><a href="https://astro.build/chat" rel="me" class="sl-flex astro-6ehpq7mf">
					<span class="sr-only astro-6ehpq7mf">Discord</span>
					<svg aria-hidden="true" class="astro-6ehpq7mf astro-3zixussu" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M20.32 4.37a19.8 19.8 0 0 0-4.93-1.51 13.78 13.78 0 0 0-.64 1.28 18.27 18.27 0 0 0-5.5 0 12.64 12.64 0 0 0-.64-1.28h-.05A19.74 19.74 0 0 0 3.64 4.4 20.26 20.26 0 0 0 .11 18.09l.02.02a19.9 19.9 0 0 0 6.04 3.03l.04-.02a14.24 14.24 0 0 0 1.23-2.03.08.08 0 0 0-.05-.07 13.1 13.1 0 0 1-1.9-.92.08.08 0 0 1 .02-.1 10.2 10.2 0 0 0 .41-.31h.04a14.2 14.2 0 0 0 12.1 0l.04.01a9.63 9.63 0 0 0 .4.32.08.08 0 0 1-.03.1 12.29 12.29 0 0 1-1.9.91.08.08 0 0 0-.02.1 15.97 15.97 0 0 0 1.27 2.01h.04a19.84 19.84 0 0 0 6.03-3.05v-.03a20.12 20.12 0 0 0-3.57-13.69ZM8.02 15.33c-1.18 0-2.16-1.08-2.16-2.42 0-1.33.96-2.42 2.16-2.42 1.21 0 2.18 1.1 2.16 2.42 0 1.34-.96 2.42-2.16 2.42Zm7.97 0c-1.18 0-2.15-1.08-2.15-2.42 0-1.33.95-2.42 2.15-2.42 1.22 0 2.18 1.1 2.16 2.42 0 1.34-.94 2.42-2.16 2.42Z"></path></svg>
				</a>


		</div>
		<starlight-theme-select>
	
	<label style="--sl-select-width: 6.25em" class="astro-zjxt2uwz">
	<span class="sr-only astro-zjxt2uwz">Select theme</span>
	<svg aria-hidden="true" class="icon label-icon astro-zjxt2uwz astro-3zixussu" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21 14h-1V7a3 3 0 0 0-3-3H7a3 3 0 0 0-3 3v7H3a1 1 0 0 0-1 1v2a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-2a1 1 0 0 0-1-1ZM6 7a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v7H6V7Zm14 10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1h16v1Z"></path></svg>
	<select value="auto" class="astro-zjxt2uwz">
		<option value="dark" class="astro-zjxt2uwz">Dark</option><option value="light" class="astro-zjxt2uwz">Light</option><option value="auto" selected="true" class="astro-zjxt2uwz">Auto</option>
	</select>
	<svg aria-hidden="true" class="icon caret astro-zjxt2uwz astro-3zixussu" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M17 9.17a1 1 0 0 0-1.41 0L12 12.71 8.46 9.17a1 1 0 1 0-1.41 1.42l4.24 4.24a1.002 1.002 0 0 0 1.42 0L17 10.59a1.002 1.002 0 0 0 0-1.42Z"></path></svg>
</label>
</starlight-theme-select>


<script>
	StarlightThemeProvider.updatePickers();
</script>

<script type="module">class r extends HTMLElement{#e="starlight-theme";constructor(){super(),this.#r(this.#l());const e=this.querySelector("select");e&&e.addEventListener("change",t=>{t.currentTarget instanceof HTMLSelectElement&&this.#r(this.#t(t.currentTarget.value))})}#t(e){return e==="auto"||e==="dark"||e==="light"?e:"auto"}#s(){return matchMedia("(prefers-color-scheme: light)").matches?"light":"dark"}#r(e){StarlightThemeProvider.updatePickers(e),document.documentElement.dataset.theme=e==="auto"?this.#s():e,this.#a(e)}#a(e){typeof localStorage<"u"&&(e==="light"||e==="dark"?localStorage.setItem(this.#e,e):localStorage.removeItem(this.#e))}#l(){const e=typeof localStorage<"u"&&localStorage.getItem(this.#e);return this.#t(e)}}customElements.define("starlight-theme-select",r);</script>
		<starlight-lang-select>
			<label style="--sl-select-width: 7em" class="astro-zjxt2uwz">
	<span class="sr-only astro-zjxt2uwz">Select language</span>
	<svg aria-hidden="true" class="icon label-icon astro-zjxt2uwz astro-3zixussu" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path fill-rule="evenodd" d="M8.516 3a.94.94 0 0 0-.941.94v1.15H2.94a.94.94 0 1 0 0 1.882h7.362a7.422 7.422 0 0 1-1.787 3.958 7.42 7.42 0 0 1-1.422-2.425.94.94 0 1 0-1.774.627 9.303 9.303 0 0 0 1.785 3.043 7.422 7.422 0 0 1-4.164 1.278.94.94 0 1 0 0 1.881 9.303 9.303 0 0 0 5.575-1.855 9.303 9.303 0 0 0 4.11 1.74l-.763 1.525a.968.968 0 0 0-.016.034l-1.385 2.77a.94.94 0 1 0 1.683.841l1.133-2.267h5.806l1.134 2.267a.94.94 0 0 0 1.683-.841l-1.385-2.769a.95.95 0 0 0-.018-.036l-3.476-6.951a.94.94 0 0 0-1.682 0l-1.82 3.639a7.423 7.423 0 0 1-3.593-1.256 9.303 9.303 0 0 0 2.27-5.203h1.894a.94.94 0 0 0 0-1.881H9.456V3.94A.94.94 0 0 0 8.516 3Zm6.426 11.794a1.068 1.068 0 0 1-.02.039l-.703 1.407h3.924l-1.962-3.924-1.24 2.478Z" clip-rule="evenodd"></path></svg>
	<select value="/en/guides/view-transitions/" class="astro-zjxt2uwz">
		<option value="/en/guides/view-transitions/" selected="true" class="astro-zjxt2uwz">English</option><option value="/de/guides/view-transitions/" class="astro-zjxt2uwz">Deutsch</option><option value="/pt-br/guides/view-transitions/" class="astro-zjxt2uwz">Português do Brasil</option><option value="/es/guides/view-transitions/" class="astro-zjxt2uwz">Español</option><option value="/zh-cn/guides/view-transitions/" class="astro-zjxt2uwz">简体中文</option><option value="/zh-tw/guides/view-transitions/" class="astro-zjxt2uwz">正體中文</option><option value="/fr/guides/view-transitions/" class="astro-zjxt2uwz">Français</option><option value="/hi/guides/view-transitions/" class="astro-zjxt2uwz">हिन्दी</option><option value="/ar/guides/view-transitions/" class="astro-zjxt2uwz">العربية</option><option value="/ja/guides/view-transitions/" class="astro-zjxt2uwz">日本語</option><option value="/ko/guides/view-transitions/" class="astro-zjxt2uwz">한국어</option><option value="/pl/guides/view-transitions/" class="astro-zjxt2uwz">Polski</option><option value="/ru/guides/view-transitions/" class="astro-zjxt2uwz">Русский</option><option value="/it/guides/view-transitions/" class="astro-zjxt2uwz">Italiano</option>
	</select>
	<svg aria-hidden="true" class="icon caret astro-zjxt2uwz astro-3zixussu" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M17 9.17a1 1 0 0 0-1.41 0L12 12.71 8.46 9.17a1 1 0 1 0-1.41 1.42l4.24 4.24a1.002 1.002 0 0 0 1.42 0L17 10.59a1.002 1.002 0 0 0 0-1.42Z"></path></svg>
</label>
		</starlight-lang-select>

<script type="module">class n extends HTMLElement{constructor(){super();const e=this.querySelector("select");e&&e.addEventListener("change",t=>{t.currentTarget instanceof HTMLSelectElement&&(window.location.pathname=t.currentTarget.value)})}}customElements.define("starlight-lang-select",n);</script>
	</div>
</div></header>
	<nav class="sidebar astro-kfmhqf5u" aria-label="Main">
				<starlight-menu-button class="astro-eeqfc6th">
	<button aria-expanded="false" aria-label="Menu" aria-controls="starlight__sidebar" class="sl-flex md:sl-hidden astro-eeqfc6th">
		<svg aria-hidden="true" class="astro-eeqfc6th astro-3zixussu" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M3 8h18a1 1 0 1 0 0-2H3a1 1 0 0 0 0 2Zm18 8H3a1 1 0 0 0 0 2h18a1 1 0 0 0 0-2Zm0-5H3a1 1 0 0 0 0 2h18a1 1 0 0 0 0-2Z"></path></svg>
	</button>
</starlight-menu-button>

<script type="module">class s extends HTMLElement{constructor(){super(),this.btn=this.querySelector("button"),this.btn.addEventListener("click",()=>this.toggleExpanded());const t=this.closest("nav");t&&t.addEventListener("keyup",e=>this.closeOnEscape(e))}setExpanded(t){this.setAttribute("aria-expanded",String(t)),document.body.toggleAttribute("data-mobile-menu-expanded",t)}toggleExpanded(){this.setExpanded(this.getAttribute("aria-expanded")!=="true")}closeOnEscape(t){t.code==="Escape"&&(this.setExpanded(!1),this.btn.focus())}}customElements.define("starlight-menu-button",s);</script>
				<div id="starlight__sidebar" class="sidebar-pane astro-kfmhqf5u">
					<div class="sidebar-content sl-flex astro-kfmhqf5u">
						<ul class="top-level astro-f4kmpaoc">
	<li class="astro-f4kmpaoc">
				<details open="" class="astro-f4kmpaoc">
						<summary class="astro-f4kmpaoc">
							<div class="group-label astro-f4kmpaoc">
								<span class="large astro-f4kmpaoc">Start Here</span>
								
							</div>
							<svg aria-hidden="true" class="caret astro-f4kmpaoc astro-3zixussu" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"></path></svg>
						</summary>
						<ul class="astro-f4kmpaoc">
	<li class="astro-f4kmpaoc">
				<a href="https://docs.astro.build/en/getting-started/" class="astro-f4kmpaoc">
						<span class="astro-f4kmpaoc">Getting Started</span>
						
					</a>
			</li><li class="astro-f4kmpaoc">
				<a href="https://docs.astro.build/en/install/auto/" class="astro-f4kmpaoc">
						<span class="astro-f4kmpaoc">Installation</span>
						
					</a>
			</li><li class="astro-f4kmpaoc">
				<a href="https://docs.astro.build/en/editor-setup/" class="astro-f4kmpaoc">
						<span class="astro-f4kmpaoc">Editor Setup</span>
						
					</a>
			</li><li class="astro-f4kmpaoc">
				<a href="https://docs.astro.build/en/upgrade-astro/" class="astro-f4kmpaoc">
						<span class="astro-f4kmpaoc">Upgrade Astro</span>
						
					</a>
			</li>
</ul>
					</details>
			</li><li class="astro-f4kmpaoc">
				<details open="" class="astro-f4kmpaoc">
						<summary class="astro-f4kmpaoc">
							<div class="group-label astro-f4kmpaoc">
								<span class="large astro-f4kmpaoc">Core Concepts</span>
								
							</div>
							<svg aria-hidden="true" class="caret astro-f4kmpaoc astro-3zixussu" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"></path></svg>
						</summary>
						<ul class="astro-f4kmpaoc">
	<li class="astro-f4kmpaoc">
				<a href="https://docs.astro.build/en/concepts/why-astro/" class="astro-f4kmpaoc">
						<span class="astro-f4kmpaoc">Why Astro</span>
						
					</a>
			</li><li class="astro-f4kmpaoc">
				<a href="https://docs.astro.build/en/concepts/islands/" class="astro-f4kmpaoc">
						<span class="astro-f4kmpaoc">Astro Islands</span>
						
					</a>
			</li>
</ul>
					</details>
			</li><li class="astro-f4kmpaoc">
				<details open="" class="astro-f4kmpaoc">
						<summary class="astro-f4kmpaoc">
							<div class="group-label astro-f4kmpaoc">
								<span class="large astro-f4kmpaoc">Tutorials</span>
								
							</div>
							<svg aria-hidden="true" class="caret astro-f4kmpaoc astro-3zixussu" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"></path></svg>
						</summary>
						<ul class="astro-f4kmpaoc">
	<li class="astro-f4kmpaoc">
				<a href="https://docs.astro.build/en/tutorial/0-introduction/" class="astro-f4kmpaoc">
						<span class="astro-f4kmpaoc">Build a Blog</span>
						
					</a>
			</li><li class="astro-f4kmpaoc">
				<a href="https://docs.astro.build/en/tutorials/add-content-collections/" class="astro-f4kmpaoc">
						<span class="astro-f4kmpaoc">Extend with Content Collections</span>
						
					</a>
			</li><li class="astro-f4kmpaoc">
				<a href="https://docs.astro.build/en/tutorials/add-view-transitions/" class="astro-f4kmpaoc">
						<span class="astro-f4kmpaoc">Extend with View Transitions</span>
						
					</a>
			</li>
</ul>
					</details>
			</li><li class="astro-f4kmpaoc">
				<details open="" class="astro-f4kmpaoc">
						<summary class="astro-f4kmpaoc">
							<div class="group-label astro-f4kmpaoc">
								<span class="large astro-f4kmpaoc">Basics</span>
								
							</div>
							<svg aria-hidden="true" class="caret astro-f4kmpaoc astro-3zixussu" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"></path></svg>
						</summary>
						<ul class="astro-f4kmpaoc">
	<li class="astro-f4kmpaoc">
				<a href="https://docs.astro.build/en/basics/project-structure/" class="astro-f4kmpaoc">
						<span class="astro-f4kmpaoc">Project Structure</span>
						
					</a>
			</li><li class="astro-f4kmpaoc">
				<a href="https://docs.astro.build/en/basics/astro-components/" class="astro-f4kmpaoc">
						<span class="astro-f4kmpaoc">Components</span>
						
					</a>
			</li><li class="astro-f4kmpaoc">
				<a href="https://docs.astro.build/en/basics/astro-pages/" class="astro-f4kmpaoc">
						<span class="astro-f4kmpaoc">Pages</span>
						
					</a>
			</li><li class="astro-f4kmpaoc">
				<a href="https://docs.astro.build/en/basics/layouts/" class="astro-f4kmpaoc">
						<span class="astro-f4kmpaoc">Layouts</span>
						
					</a>
			</li><li class="astro-f4kmpaoc">
				<a href="https://docs.astro.build/en/basics/astro-syntax/" class="astro-f4kmpaoc">
						<span class="astro-f4kmpaoc">Astro Template Syntax</span>
						
					</a>
			</li><li class="astro-f4kmpaoc">
				<a href="https://docs.astro.build/en/basics/rendering-modes/" class="astro-f4kmpaoc">
						<span class="astro-f4kmpaoc">Rendering Modes</span>
						
					</a>
			</li>
</ul>
					</details>
			</li><li class="astro-f4kmpaoc">
				<details open="" class="astro-f4kmpaoc">
						<summary class="astro-f4kmpaoc">
							<div class="group-label astro-f4kmpaoc">
								<span class="large astro-f4kmpaoc">Built-ins</span>
								
							</div>
							<svg aria-hidden="true" class="caret astro-f4kmpaoc astro-3zixussu" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"></path></svg>
						</summary>
						<ul class="astro-f4kmpaoc">
	<li class="astro-f4kmpaoc">
				<a href="https://docs.astro.build/en/guides/content-collections/" class="astro-f4kmpaoc">
						<span class="astro-f4kmpaoc">Content Collections</span>
						
					</a>
			</li><li class="astro-f4kmpaoc">
				<a href="https://docs.astro.build/en/guides/view-transitions/" aria-current="page" class="astro-f4kmpaoc">
						<span class="astro-f4kmpaoc">View Transitions</span>
						
					</a>
			</li><li class="astro-f4kmpaoc">
				<a href="https://docs.astro.build/en/guides/prefetch/" class="astro-f4kmpaoc">
						<span class="astro-f4kmpaoc">Prefetch</span>
						
					</a>
			</li><li class="astro-f4kmpaoc">
				<a href="https://docs.astro.build/en/guides/dev-toolbar/" class="astro-f4kmpaoc">
						<span class="astro-f4kmpaoc">Dev Toolbar</span>
						
					</a>
			</li>
</ul>
					</details>
			</li><li class="astro-f4kmpaoc">
				<details open="" class="astro-f4kmpaoc">
						<summary class="astro-f4kmpaoc">
							<div class="group-label astro-f4kmpaoc">
								<span class="large astro-f4kmpaoc">Integrations</span>
								
							</div>
							<svg aria-hidden="true" class="caret astro-f4kmpaoc astro-3zixussu" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"></path></svg>
						</summary>
						<ul class="astro-f4kmpaoc">
	<li class="astro-f4kmpaoc">
				<a href="https://docs.astro.build/en/guides/integrations-guide/" class="astro-f4kmpaoc">
						<span class="astro-f4kmpaoc">Add integrations</span>
						
					</a>
			</li><li class="astro-f4kmpaoc">
				<a href="https://docs.astro.build/en/guides/framework-components/" class="astro-f4kmpaoc">
						<span class="astro-f4kmpaoc">UI Frameworks</span>
						
					</a>
			</li><li class="astro-f4kmpaoc">
				<a href="https://docs.astro.build/en/guides/server-side-rendering/" class="astro-f4kmpaoc">
						<span class="astro-f4kmpaoc">SSR Adapters</span>
						
					</a>
			</li><li class="astro-f4kmpaoc">
				<a href="https://docs.astro.build/en/guides/astro-db/" class="astro-f4kmpaoc">
						<span class="astro-f4kmpaoc">Astro DB</span>
						
					</a>
			</li>
</ul>
					</details>
			</li><li class="astro-f4kmpaoc">
				<details open="" class="astro-f4kmpaoc">
						<summary class="astro-f4kmpaoc">
							<div class="group-label astro-f4kmpaoc">
								<span class="large astro-f4kmpaoc">Recipes</span>
								
							</div>
							<svg aria-hidden="true" class="caret astro-f4kmpaoc astro-3zixussu" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"></path></svg>
						</summary>
						<ul class="astro-f4kmpaoc">
	<li class="astro-f4kmpaoc">
				<a href="https://docs.astro.build/en/guides/migrate-to-astro/" class="astro-f4kmpaoc">
						<span class="astro-f4kmpaoc">Migrate to Astro</span>
						
					</a>
			</li><li class="astro-f4kmpaoc">
				<a href="https://docs.astro.build/en/recipes/studio/" class="astro-f4kmpaoc">
						<span class="astro-f4kmpaoc">Connect to Astro Studio</span>
						
					</a>
			</li><li class="astro-f4kmpaoc">
				<a href="https://docs.astro.build/en/guides/cms/" class="astro-f4kmpaoc">
						<span class="astro-f4kmpaoc">Connect a CMS</span>
						
					</a>
			</li><li class="astro-f4kmpaoc">
				<a href="https://docs.astro.build/en/guides/backend/" class="astro-f4kmpaoc">
						<span class="astro-f4kmpaoc">Add backend services</span>
						
					</a>
			</li><li class="astro-f4kmpaoc">
				<a href="https://docs.astro.build/en/guides/deploy/" class="astro-f4kmpaoc">
						<span class="astro-f4kmpaoc">Deploy your site</span>
						
					</a>
			</li><li class="astro-f4kmpaoc">
				<a href="https://docs.astro.build/en/recipes/" class="astro-f4kmpaoc">
						<span class="astro-f4kmpaoc">More recipes</span>
						
					</a>
			</li>
</ul>
					</details>
			</li><li class="astro-f4kmpaoc">
				<details open="" class="astro-f4kmpaoc">
						<summary class="astro-f4kmpaoc">
							<div class="group-label astro-f4kmpaoc">
								<span class="large astro-f4kmpaoc">Guides</span>
								
							</div>
							<svg aria-hidden="true" class="caret astro-f4kmpaoc astro-3zixussu" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"></path></svg>
						</summary>
						<ul class="astro-f4kmpaoc">
	<li class="astro-f4kmpaoc">
				<a href="https://docs.astro.build/en/guides/routing/" class="astro-f4kmpaoc">
						<span class="astro-f4kmpaoc">Routing</span>
						
					</a>
			</li><li class="astro-f4kmpaoc">
				<a href="https://docs.astro.build/en/guides/markdown-content/" class="astro-f4kmpaoc">
						<span class="astro-f4kmpaoc">Markdown</span>
						
					</a>
			</li><li class="astro-f4kmpaoc">
				<a href="https://docs.astro.build/en/guides/client-side-scripts/" class="astro-f4kmpaoc">
						<span class="astro-f4kmpaoc">Scripts &amp; Event Handling</span>
						
					</a>
			</li><li class="astro-f4kmpaoc">
				<a href="https://docs.astro.build/en/guides/styling/" class="astro-f4kmpaoc">
						<span class="astro-f4kmpaoc">CSS &amp; Styling</span>
						
					</a>
			</li><li class="astro-f4kmpaoc">
				<a href="https://docs.astro.build/en/guides/images/" class="astro-f4kmpaoc">
						<span class="astro-f4kmpaoc">Images</span>
						
					</a>
			</li><li class="astro-f4kmpaoc">
				<a href="https://docs.astro.build/en/guides/fonts/" class="astro-f4kmpaoc">
						<span class="astro-f4kmpaoc">Fonts</span>
						
					</a>
			</li><li class="astro-f4kmpaoc">
				<a href="https://docs.astro.build/en/guides/imports/" class="astro-f4kmpaoc">
						<span class="astro-f4kmpaoc">Imports</span>
						
					</a>
			</li><li class="astro-f4kmpaoc">
				<a href="https://docs.astro.build/en/guides/endpoints/" class="astro-f4kmpaoc">
						<span class="astro-f4kmpaoc">Endpoints</span>
						
					</a>
			</li><li class="astro-f4kmpaoc">
				<a href="https://docs.astro.build/en/guides/data-fetching/" class="astro-f4kmpaoc">
						<span class="astro-f4kmpaoc">Data Fetching</span>
						
					</a>
			</li><li class="astro-f4kmpaoc">
				<a href="https://docs.astro.build/en/guides/internationalization/" class="astro-f4kmpaoc">
						<span class="astro-f4kmpaoc">Internationalization</span>
						
					</a>
			</li><li class="astro-f4kmpaoc">
				<a href="https://docs.astro.build/en/guides/middleware/" class="astro-f4kmpaoc">
						<span class="astro-f4kmpaoc">Middleware</span>
						
					</a>
			</li><li class="astro-f4kmpaoc">
				<a href="https://docs.astro.build/en/guides/ecommerce/" class="astro-f4kmpaoc">
						<span class="astro-f4kmpaoc">E-commerce</span>
						
					</a>
			</li><li class="astro-f4kmpaoc">
				<a href="https://docs.astro.build/en/guides/testing/" class="astro-f4kmpaoc">
						<span class="astro-f4kmpaoc">Testing</span>
						
					</a>
			</li><li class="astro-f4kmpaoc">
				<a href="https://docs.astro.build/en/guides/authentication/" class="astro-f4kmpaoc">
						<span class="astro-f4kmpaoc">Authentication</span>
						
					</a>
			</li><li class="astro-f4kmpaoc">
				<a href="https://docs.astro.build/en/guides/troubleshooting/" class="astro-f4kmpaoc">
						<span class="astro-f4kmpaoc">Troubleshooting</span>
						
					</a>
			</li>
</ul>
					</details>
			</li><li class="astro-f4kmpaoc">
				<details open="" class="astro-f4kmpaoc">
						<summary class="astro-f4kmpaoc">
							<div class="group-label astro-f4kmpaoc">
								<span class="large astro-f4kmpaoc">Configuration</span>
								
							</div>
							<svg aria-hidden="true" class="caret astro-f4kmpaoc astro-3zixussu" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"></path></svg>
						</summary>
						<ul class="astro-f4kmpaoc">
	<li class="astro-f4kmpaoc">
				<a href="https://docs.astro.build/en/guides/configuring-astro/" class="astro-f4kmpaoc">
						<span class="astro-f4kmpaoc">The Astro Config File</span>
						
					</a>
			</li><li class="astro-f4kmpaoc">
				<a href="https://docs.astro.build/en/guides/typescript/" class="astro-f4kmpaoc">
						<span class="astro-f4kmpaoc">TypeScript</span>
						
					</a>
			</li><li class="astro-f4kmpaoc">
				<a href="https://docs.astro.build/en/guides/aliases/" class="astro-f4kmpaoc">
						<span class="astro-f4kmpaoc">Import Aliases</span>
						
					</a>
			</li><li class="astro-f4kmpaoc">
				<a href="https://docs.astro.build/en/guides/environment-variables/" class="astro-f4kmpaoc">
						<span class="astro-f4kmpaoc">Environment Variables</span>
						
					</a>
			</li>
</ul>
					</details>
			</li><li class="astro-f4kmpaoc">
				<details open="" class="astro-f4kmpaoc">
						<summary class="astro-f4kmpaoc">
							<div class="group-label astro-f4kmpaoc">
								<span class="large astro-f4kmpaoc">Reference</span>
								
							</div>
							<svg aria-hidden="true" class="caret astro-f4kmpaoc astro-3zixussu" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"></path></svg>
						</summary>
						<ul class="astro-f4kmpaoc">
	<li class="astro-f4kmpaoc">
				<a href="https://docs.astro.build/en/reference/configuration-reference/" class="astro-f4kmpaoc">
						<span class="astro-f4kmpaoc">Configuration</span>
						
					</a>
			</li><li class="astro-f4kmpaoc">
				<a href="https://docs.astro.build/en/reference/api-reference/" class="astro-f4kmpaoc">
						<span class="astro-f4kmpaoc">Runtime API</span>
						
					</a>
			</li><li class="astro-f4kmpaoc">
				<a href="https://docs.astro.build/en/reference/integrations-reference/" class="astro-f4kmpaoc">
						<span class="astro-f4kmpaoc">Integrations API</span>
						
					</a>
			</li><li class="astro-f4kmpaoc">
				<a href="https://docs.astro.build/en/reference/adapter-reference/" class="astro-f4kmpaoc">
						<span class="astro-f4kmpaoc">Adapter API</span>
						
					</a>
			</li><li class="astro-f4kmpaoc">
				<a href="https://docs.astro.build/en/reference/image-service-reference/" class="astro-f4kmpaoc">
						<span class="astro-f4kmpaoc">Image Service API</span>
						
					</a>
			</li><li class="astro-f4kmpaoc">
				<a href="https://docs.astro.build/en/reference/dev-toolbar-app-reference/" class="astro-f4kmpaoc">
						<span class="astro-f4kmpaoc">Dev Toolbar App API</span>
						
					</a>
			</li><li class="astro-f4kmpaoc">
				<a href="https://docs.astro.build/en/reference/directives-reference/" class="astro-f4kmpaoc">
						<span class="astro-f4kmpaoc">Template Directives</span>
						
					</a>
			</li><li class="astro-f4kmpaoc">
				<a href="https://docs.astro.build/en/reference/cli-reference/" class="astro-f4kmpaoc">
						<span class="astro-f4kmpaoc">The Astro CLI</span>
						
					</a>
			</li><li class="astro-f4kmpaoc">
				<a href="https://docs.astro.build/en/reference/error-reference/" class="astro-f4kmpaoc">
						<span class="astro-f4kmpaoc">Error Reference</span>
						
					</a>
			</li><li class="astro-f4kmpaoc">
				<a href="https://docs.astro.build/en/reference/publish-to-npm/" class="astro-f4kmpaoc">
						<span class="astro-f4kmpaoc">NPM Package Format</span>
						
					</a>
			</li>
</ul>
					</details>
			</li><li class="astro-f4kmpaoc">
				<details open="" class="astro-f4kmpaoc">
						<summary class="astro-f4kmpaoc">
							<div class="group-label astro-f4kmpaoc">
								<span class="large astro-f4kmpaoc">Community Resources</span>
								
							</div>
							<svg aria-hidden="true" class="caret astro-f4kmpaoc astro-3zixussu" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"></path></svg>
						</summary>
						<ul class="astro-f4kmpaoc">
	<li class="astro-f4kmpaoc">
				<a href="https://docs.astro.build/en/community-resources/content/" class="astro-f4kmpaoc">
						<span class="astro-f4kmpaoc">Courses, Guides, and Recipes</span>
						
					</a>
			</li><li class="astro-f4kmpaoc">
				<a href="https://docs.astro.build/en/community-resources/talks/" class="astro-f4kmpaoc">
						<span class="astro-f4kmpaoc">Talks, Interviews, and Streams</span>
						
					</a>
			</li>
</ul>
					</details>
			</li>
</ul>

<div dir="ltr" lang="en" class="sponsors astro-kwmzlgva">
	<h2 class="sponsors-title astro-kwmzlgva">Sponsored by</h2>
	<a href="https://vercel.com/" aria-label="Vercel" class="astro-kwmzlgva">
		<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 284 65" width="95" aria-hidden="true" class="astro-kwmzlgva">
			<path d="M141.7 16.3c-11 0-19 7.1-19 18s9 18 20 18c6.7 0 12.5-2.7 16.2-7.1l-7.7-4.5c-2 2.2-5 3.5-8.5 3.5-4.8 0-8.9-2.5-10.4-6.5h28c.3-1 .4-2.2.4-3.5 0-10.8-8-18-19-18zm-9.5 14.4c1.3-4 4.7-6.4 9.5-6.4s8.2 2.5 9.4 6.4h-18.9zm117.2-14.4c-11 0-19 7.1-19 18s9 18 20 18a21 21 0 0 0 16.2-7.1l-7.7-4.5c-2 2.2-5 3.5-8.5 3.5-4.8 0-8.9-2.5-10.4-6.5h28c.2-1 .4-2.2.4-3.5 0-10.8-8-18-19-18zm-9.5 14.4c1.3-4 4.7-6.4 9.5-6.4s8.2 2.5 9.4 6.4H240zm-39 3.6c0 6 3.9 10 10 10 4.1 0 7.2-2 8.8-5l7.7 4.5a18.5 18.5 0 0 1-16.5 8.5c-11 0-19-7.2-19-18s8-18 19-18c7.3 0 13.3 3.1 16.5 8.4l-7.7 4.5c-1.6-3-4.7-5-8.8-5-6 0-10 4-10 10zm82.5-29v46h-9v-46h9zM37.6.3l37 64H.5l37-64zm92.4 5-27.7 48-27.8-48H85l17.4 30 17.3-30H130zm58.9 12v9.6c-1-.3-2-.5-3.2-.5-5.8 0-10 4-10 10v14.9h-9v-34h9v9.1c0-5 5.9-9.1 13.2-9.1z" class="astro-kwmzlgva"></path>
		</svg>
	</a>
	<a href="https://www.storyblok.com/" aria-label="Storyblok" class="astro-kwmzlgva">
		<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 251 53" width="125" aria-hidden="true" class="astro-kwmzlgva">
			<g class="astro-kwmzlgva">
				<path d="M73 37c-2 0-3.7-.2-5.5-.7-1.6-.6-3.2-1.5-4.5-2.7l2.4-4c1.3 1 2.5 1.6 3.8 2.1 1.2.6 2.4.8 3.6.8a4 4 0 0 0 2-.5c.4-.3.6-.7.6-1.3 0-.5-.2-1-.9-1.4-1-.4-2-.8-3-1L67.7 27a13 13 0 0 1-2.4-1.3c-.6-.4-1.1-1-1.4-1.6a5 5 0 0 1-.4-2c0-2.2.9-4.1 2.5-5.4a9.3 9.3 0 0 1 6.1-2c1.6 0 3.1.2 4.5.6 1.4.5 2.8 1.3 4.1 2.4l-2.6 4c-1-.8-2-1.4-3.2-1.9a7 7 0 0 0-2.8-.6c-.7 0-1.3.1-1.8.5-.5.2-.7.7-.7 1.3 0 .6.2 1 .8 1.4.5.3 1.5.6 3 1l3.8 1.2L80 26c1.3 1 2 2.5 1.8 4.1a6 6 0 0 1-2.4 5.1 10 10 0 0 1-6.4 1.9Zm25.8-1.4-3 1c-1.2.3-2.4.5-3.6.5-.8 0-1.6 0-2.3-.3a4.3 4.3 0 0 1-3.2-2.7c-.3-.8-.5-1.7-.5-2.7V20h-2.7v-4.9h2.7V8.3h6.5v6.8h4.4v5h-4.4v9c0 .7.2 1.2.6 1.6.3.3.8.4 1.3.4s1 0 1.5-.2l1.4-.6 1.2 5.3ZM111 37c-1.6 0-3.3-.3-4.8-.9a10 10 0 0 1-5.9-6 12 12 0 0 1 0-8.5c1-2.8 3.1-5 5.9-6 1.4-.6 3-1 4.8-1a11 11 0 0 1 10.7 7c1.1 2.7 1.1 5.8 0 8.5-1 2.7-3 5-5.8 6-1.5.6-3.2 1-4.9.9Zm-4.7-11c0 1.7.4 3 1.3 4 1 1 2.1 1.6 3.5 1.6 1.3 0 2.5-.6 3.4-1.6a6.4 6.4 0 0 0 1.4-4 6 6 0 0 0-1.4-4.1c-1-1-2-1.6-3.4-1.6-1.3 0-2.6.6-3.4 1.6a6 6 0 0 0-1 1.8c-.3.7-.4 1.5-.4 2.3Zm33.1-5.2c-1.5 0-3 .3-4.3.8a5.2 5.2 0 0 0-2.8 2.2v13h-6.5V15.1h6v4.3a8.4 8.4 0 0 1 2.9-3.4 6.5 6.5 0 0 1 3.6-1.3h1.1v6Zm2.9 19.1c1 .3 1.9.5 2.8.5.8 0 1.4-.2 1.9-.7a9 9 0 0 0 1.2-3L140 15.2h6.7l5 15.9 4.3-15.9h6.2l-8.2 25a8.5 8.5 0 0 1-11.7 5.3V40Zm35.3-2.8a8.1 8.1 0 0 1-7.2-4v3.6h-5.7v-30h6.6v12a8 8 0 0 1 10.8-3c1.1.5 2 1.3 3 2.3a14 14 0 0 1 1.8 12.4c-.5 1.3-1.2 2.6-2 3.5a9.6 9.6 0 0 1-7.3 3.2Zm-1.8-5.5a5 5 0 0 0 4.7-3.4c.8-2 .4-4.4-1-6.2-.8-1-2-1.7-3.4-1.7-1 0-2 .4-2.8 1-.9.8-1.6 1.7-2 2.8v4.5a5 5 0 0 0 4.6 3Zm15-24.8h6.6V29c0 1.7.7 2.5 2.1 2.5a5 5 0 0 0 2.1-.5l1 4.8a15 15 0 0 1-5.9 1.3c-1.9 0-3.3-.5-4.3-1.5s-1.6-2.4-1.6-4.3V6.8Zm24 30.3c-1.6 0-3.2-.3-4.8-.9-2.7-1-4.9-3.3-5.9-6a12 12 0 0 1 2.2-12 11.3 11.3 0 0 1 8.5-3.4 11 11 0 0 1 10.7 6.9c1.6 4.1.8 8.7-2.2 12a10 10 0 0 1-3.6 2.5c-1.6.6-3.2 1-4.9.9ZM210.2 26c0 1.7.4 3 1.3 4 1 1 2.1 1.6 3.5 1.6 1.3 0 2.5-.6 3.4-1.6a6.4 6.4 0 0 0 1.4-4 6 6 0 0 0-1.4-4.1c-1-1-2-1.6-3.4-1.6-1.3 0-2.6.6-3.4 1.6a6 6 0 0 0-1 1.8c-.3.7-.4 1.4-.4 2.3Zm34 10.7-5.6-8.7-2.3 2.4v6.3h-6.6v-30h6.6v17.4l7.2-8.9h7l-7.8 9.3 8.4 12.2h-7Z" class="astro-kwmzlgva"></path>
				<path fill="#0AB3AF" d="M2.3 0C1 0 0 1 0 2.3v40.6c0 1.2 1 2 2.3 2h6V53l7.4-8H43c1.3 0 2-.8 2-2.1V2.3c0-1.2-.7-2.3-2-2.3H2.3Z" class="astro-kwmzlgva"></path>
				<path fill="#FFF" d="M29.1 8.1c1 0 2 .2 2.7.7.8.4 1.5 1 2.1 1.6a7.7 7.7 0 0 1 1.8 5 8 8 0 0 1-1 4 6.5 6.5 0 0 1-3.2 2.7c1.7.5 3 1.3 4 2.5a7.8 7.8 0 0 1 1.4 4.8 6.2 6.2 0 0 1-3 5.6c-1 .6-2 1.2-3.3 1.5-1.2.3-2.6.5-4 .5H8.3V8.1h20.8Zm-3 16.2H15.8v4.9h10c.7 0 1.2-.3 1.7-.7.4-.4.6-1 .6-1.7 0-.6-.2-1.2-.5-1.7-.4-.5-.9-.8-1.5-.8Zm-.8-9.8h-9.5V19H25c.5 0 1-.2 1.4-.5.4-.3.6-1 .6-1.8 0-.7-.2-1.3-.5-1.6a2 2 0 0 0-1.3-.5Z" class="astro-kwmzlgva"></path>
			</g>
		</svg>
	</a>
	<a href="https://sentry.io/welcome/?utm_medium=partner&amp;utm_source=astro&amp;utm_campaign=astro-docs" aria-label="Sentry" class="astro-kwmzlgva">
		<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 44" width="110" height="24" aria-hidden="true" class="astro-kwmzlgva">
			<path d="M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z M124.32,28.28,109.56,9.22h-3.68V34.77h3.73V15.19l15.18,19.58h3.26V9.22h-3.73ZM87.15,23.54h13.23V20.22H87.14V12.53h14.93V9.21H83.34V34.77h18.92V31.45H87.14ZM71.59,20.3h0C66.44,19.06,65,18.08,65,15.7c0-2.14,1.89-3.59,4.71-3.59a12.06,12.06,0,0,1,7.07,2.55l2-2.83a14.1,14.1,0,0,0-9-3c-5.06,0-8.59,3-8.59,7.27,0,4.6,3,6.19,8.46,7.52C74.51,24.74,76,25.78,76,28.11s-2,3.77-5.09,3.77a12.34,12.34,0,0,1-8.3-3.26l-2.25,2.69a15.94,15.94,0,0,0,10.42,3.85c5.48,0,9-2.95,9-7.51C79.75,23.79,77.47,21.72,71.59,20.3ZM195.7,9.22l-7.69,12-7.64-12h-4.46L186,24.67V34.78h3.84V24.55L200,9.22Zm-64.63,3.46h8.37v22.1h3.84V12.68h8.37V9.22H131.08ZM169.41,24.8c3.86-1.07,6-3.77,6-7.63,0-4.91-3.59-8-9.38-8H154.67V34.76h3.8V25.58h6.45l6.48,9.2h4.44l-7-9.82Zm-10.95-2.5V12.6h7.17c3.74,0,5.88,1.77,5.88,4.84s-2.29,4.86-5.84,4.86Z" fill="currentColor" class="astro-kwmzlgva"></path>
		</svg>
	</a>
</div>

<div class="md:sl-hidden astro-3x5efdbn">
	<div class="mobile-preferences sl-flex astro-alkpi2oa">
	<div class="sl-flex social-icons astro-alkpi2oa">
		<a href="https://github.com/withastro/astro" rel="me" class="sl-flex astro-6ehpq7mf">
					<span class="sr-only astro-6ehpq7mf">GitHub</span>
					<svg aria-hidden="true" class="astro-6ehpq7mf astro-3zixussu" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M12 .3a12 12 0 0 0-3.8 23.38c.6.12.83-.26.83-.57L9 21.07c-3.34.72-4.04-1.61-4.04-1.61-.55-1.39-1.34-1.76-1.34-1.76-1.08-.74.09-.73.09-.73 1.2.09 1.83 1.24 1.83 1.24 1.08 1.83 2.81 1.3 3.5 1 .1-.78.42-1.31.76-1.61-2.67-.3-5.47-1.33-5.47-5.93 0-1.31.47-2.38 1.24-3.22-.14-.3-.54-1.52.1-3.18 0 0 1-.32 3.3 1.23a11.5 11.5 0 0 1 6 0c2.28-1.55 3.29-1.23 3.29-1.23.64 1.66.24 2.88.12 3.18a4.65 4.65 0 0 1 1.23 3.22c0 4.61-2.8 5.63-5.48 5.92.42.36.81 1.1.81 2.22l-.01 3.29c0 .31.2.69.82.57A12 12 0 0 0 12 .3Z"></path></svg>
				</a><a href="https://astro.build/chat" rel="me" class="sl-flex astro-6ehpq7mf">
					<span class="sr-only astro-6ehpq7mf">Discord</span>
					<svg aria-hidden="true" class="astro-6ehpq7mf astro-3zixussu" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M20.32 4.37a19.8 19.8 0 0 0-4.93-1.51 13.78 13.78 0 0 0-.64 1.28 18.27 18.27 0 0 0-5.5 0 12.64 12.64 0 0 0-.64-1.28h-.05A19.74 19.74 0 0 0 3.64 4.4 20.26 20.26 0 0 0 .11 18.09l.02.02a19.9 19.9 0 0 0 6.04 3.03l.04-.02a14.24 14.24 0 0 0 1.23-2.03.08.08 0 0 0-.05-.07 13.1 13.1 0 0 1-1.9-.92.08.08 0 0 1 .02-.1 10.2 10.2 0 0 0 .41-.31h.04a14.2 14.2 0 0 0 12.1 0l.04.01a9.63 9.63 0 0 0 .4.32.08.08 0 0 1-.03.1 12.29 12.29 0 0 1-1.9.91.08.08 0 0 0-.02.1 15.97 15.97 0 0 0 1.27 2.01h.04a19.84 19.84 0 0 0 6.03-3.05v-.03a20.12 20.12 0 0 0-3.57-13.69ZM8.02 15.33c-1.18 0-2.16-1.08-2.16-2.42 0-1.33.96-2.42 2.16-2.42 1.21 0 2.18 1.1 2.16 2.42 0 1.34-.96 2.42-2.16 2.42Zm7.97 0c-1.18 0-2.15-1.08-2.15-2.42 0-1.33.95-2.42 2.15-2.42 1.22 0 2.18 1.1 2.16 2.42 0 1.34-.94 2.42-2.16 2.42Z"></path></svg>
				</a>


	</div>
	<starlight-theme-select>
	
	<label style="--sl-select-width: 6.25em" class="astro-zjxt2uwz">
	<span class="sr-only astro-zjxt2uwz">Select theme</span>
	<svg aria-hidden="true" class="icon label-icon astro-zjxt2uwz astro-3zixussu" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21 14h-1V7a3 3 0 0 0-3-3H7a3 3 0 0 0-3 3v7H3a1 1 0 0 0-1 1v2a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-2a1 1 0 0 0-1-1ZM6 7a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v7H6V7Zm14 10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1h16v1Z"></path></svg>
	<select value="auto" class="astro-zjxt2uwz">
		<option value="dark" class="astro-zjxt2uwz">Dark</option><option value="light" class="astro-zjxt2uwz">Light</option><option value="auto" selected="true" class="astro-zjxt2uwz">Auto</option>
	</select>
	<svg aria-hidden="true" class="icon caret astro-zjxt2uwz astro-3zixussu" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M17 9.17a1 1 0 0 0-1.41 0L12 12.71 8.46 9.17a1 1 0 1 0-1.41 1.42l4.24 4.24a1.002 1.002 0 0 0 1.42 0L17 10.59a1.002 1.002 0 0 0 0-1.42Z"></path></svg>
</label>
</starlight-theme-select>


<script>
	StarlightThemeProvider.updatePickers();
</script>


	<starlight-lang-select>
			<label style="--sl-select-width: 7em" class="astro-zjxt2uwz">
	<span class="sr-only astro-zjxt2uwz">Select language</span>
	<svg aria-hidden="true" class="icon label-icon astro-zjxt2uwz astro-3zixussu" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path fill-rule="evenodd" d="M8.516 3a.94.94 0 0 0-.941.94v1.15H2.94a.94.94 0 1 0 0 1.882h7.362a7.422 7.422 0 0 1-1.787 3.958 7.42 7.42 0 0 1-1.422-2.425.94.94 0 1 0-1.774.627 9.303 9.303 0 0 0 1.785 3.043 7.422 7.422 0 0 1-4.164 1.278.94.94 0 1 0 0 1.881 9.303 9.303 0 0 0 5.575-1.855 9.303 9.303 0 0 0 4.11 1.74l-.763 1.525a.968.968 0 0 0-.016.034l-1.385 2.77a.94.94 0 1 0 1.683.841l1.133-2.267h5.806l1.134 2.267a.94.94 0 0 0 1.683-.841l-1.385-2.769a.95.95 0 0 0-.018-.036l-3.476-6.951a.94.94 0 0 0-1.682 0l-1.82 3.639a7.423 7.423 0 0 1-3.593-1.256 9.303 9.303 0 0 0 2.27-5.203h1.894a.94.94 0 0 0 0-1.881H9.456V3.94A.94.94 0 0 0 8.516 3Zm6.426 11.794a1.068 1.068 0 0 1-.02.039l-.703 1.407h3.924l-1.962-3.924-1.24 2.478Z" clip-rule="evenodd"></path></svg>
	<select value="/en/guides/view-transitions/" class="astro-zjxt2uwz">
		<option value="/en/guides/view-transitions/" selected="true" class="astro-zjxt2uwz">English</option><option value="/de/guides/view-transitions/" class="astro-zjxt2uwz">Deutsch</option><option value="/pt-br/guides/view-transitions/" class="astro-zjxt2uwz">Português do Brasil</option><option value="/es/guides/view-transitions/" class="astro-zjxt2uwz">Español</option><option value="/zh-cn/guides/view-transitions/" class="astro-zjxt2uwz">简体中文</option><option value="/zh-tw/guides/view-transitions/" class="astro-zjxt2uwz">正體中文</option><option value="/fr/guides/view-transitions/" class="astro-zjxt2uwz">Français</option><option value="/hi/guides/view-transitions/" class="astro-zjxt2uwz">हिन्दी</option><option value="/ar/guides/view-transitions/" class="astro-zjxt2uwz">العربية</option><option value="/ja/guides/view-transitions/" class="astro-zjxt2uwz">日本語</option><option value="/ko/guides/view-transitions/" class="astro-zjxt2uwz">한국어</option><option value="/pl/guides/view-transitions/" class="astro-zjxt2uwz">Polski</option><option value="/ru/guides/view-transitions/" class="astro-zjxt2uwz">Русский</option><option value="/it/guides/view-transitions/" class="astro-zjxt2uwz">Italiano</option>
	</select>
	<svg aria-hidden="true" class="icon caret astro-zjxt2uwz astro-3zixussu" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M17 9.17a1 1 0 0 0-1.41 0L12 12.71 8.46 9.17a1 1 0 1 0-1.41 1.42l4.24 4.24a1.002 1.002 0 0 0 1.42 0L17 10.59a1.002 1.002 0 0 0 0-1.42Z"></path></svg>
</label>
		</starlight-lang-select>


</div>
</div>
					</div>
				</div>
			</nav>
	<div class="main-frame astro-kfmhqf5u">
			
			<div class="lg:sl-flex astro-yecetyhn">
	<aside class="right-sidebar-container astro-yecetyhn">
				<div class="right-sidebar astro-yecetyhn">
					
			<div class="lg:sl-hidden astro-evux67hy">
				<mobile-starlight-toc data-min-h="2" data-max-h="3" class="astro-yitqccco">
			<nav aria-labelledby="starlight__on-this-page--mobile" class="astro-yitqccco">
				<details id="starlight__mobile-toc" class="astro-yitqccco">
					<summary id="starlight__on-this-page--mobile" class="sl-flex astro-yitqccco">
						<div class="toggle sl-flex astro-yitqccco">
							On this page
							<svg aria-hidden="true" class="caret astro-yitqccco astro-3zixussu" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"></path></svg>
						</div>
						<span class="display-current astro-yitqccco">
					Maintaining State
				</span>
					</summary>
					<div class="dropdown astro-yitqccco">
						<ul class="isMobile astro-duo6c6h2" style="--depth: 0;">
	<li class="astro-duo6c6h2" style="--depth: 0;">
				<a href="https://docs.astro.build/en/guides/view-transitions/#_top" class="astro-duo6c6h2" style="--depth: 0;">
					<span class="astro-duo6c6h2" style="--depth: 0;">Overview</span>
				</a>
				
			</li><li class="astro-duo6c6h2" style="--depth: 0;">
				<a href="https://docs.astro.build/en/guides/view-transitions/#adding-view-transitions-to-a-page" class="astro-duo6c6h2" style="--depth: 0;">
					<span class="astro-duo6c6h2" style="--depth: 0;">Adding View Transitions to a Page</span>
				</a>
				
			</li><li class="astro-duo6c6h2" style="--depth: 0;">
				<a href="https://docs.astro.build/en/guides/view-transitions/#full-site-view-transitions-spa-mode" class="astro-duo6c6h2" style="--depth: 0;">
					<span class="astro-duo6c6h2" style="--depth: 0;">Full site view transitions (SPA mode)</span>
				</a>
				
			</li><li class="astro-duo6c6h2" style="--depth: 0;">
				<a href="https://docs.astro.build/en/guides/view-transitions/#transition-directives" class="astro-duo6c6h2" style="--depth: 0;">
					<span class="astro-duo6c6h2" style="--depth: 0;">Transition Directives</span>
				</a>
				<ul class="isMobile astro-duo6c6h2" style="--depth: 1;">
	<li class="astro-duo6c6h2" style="--depth: 1;">
				<a href="https://docs.astro.build/en/guides/view-transitions/#naming-a-transition" class="astro-duo6c6h2" style="--depth: 1;">
					<span class="astro-duo6c6h2" style="--depth: 1;">Naming a transition</span>
				</a>
				
			</li><li class="astro-duo6c6h2" style="--depth: 1;">
				<a href="https://docs.astro.build/en/guides/view-transitions/#maintaining-state" class="astro-duo6c6h2" style="--depth: 1;" aria-current="true">
					<span class="astro-duo6c6h2" style="--depth: 1;">Maintaining State</span>
				</a>
				
			</li><li class="astro-duo6c6h2" style="--depth: 1;">
				<a href="https://docs.astro.build/en/guides/view-transitions/#built-in-animation-directives" class="astro-duo6c6h2" style="--depth: 1;">
					<span class="astro-duo6c6h2" style="--depth: 1;">Built-in Animation Directives</span>
				</a>
				
			</li><li class="astro-duo6c6h2" style="--depth: 1;">
				<a href="https://docs.astro.build/en/guides/view-transitions/#customizing-animations" class="astro-duo6c6h2" style="--depth: 1;">
					<span class="astro-duo6c6h2" style="--depth: 1;">Customizing Animations</span>
				</a>
				
			</li>
</ul>
			</li><li class="astro-duo6c6h2" style="--depth: 0;">
				<a href="https://docs.astro.build/en/guides/view-transitions/#router-control" class="astro-duo6c6h2" style="--depth: 0;">
					<span class="astro-duo6c6h2" style="--depth: 0;">Router control</span>
				</a>
				<ul class="isMobile astro-duo6c6h2" style="--depth: 1;">
	<li class="astro-duo6c6h2" style="--depth: 1;">
				<a href="https://docs.astro.build/en/guides/view-transitions/#preventing-client-side-navigation" class="astro-duo6c6h2" style="--depth: 1;">
					<span class="astro-duo6c6h2" style="--depth: 1;">Preventing client-side navigation</span>
				</a>
				
			</li><li class="astro-duo6c6h2" style="--depth: 1;">
				<a href="https://docs.astro.build/en/guides/view-transitions/#trigger-navigation" class="astro-duo6c6h2" style="--depth: 1;">
					<span class="astro-duo6c6h2" style="--depth: 1;">Trigger navigation</span>
				</a>
				
			</li><li class="astro-duo6c6h2" style="--depth: 1;">
				<a href="https://docs.astro.build/en/guides/view-transitions/#replace-entries-in-the-browser-history" class="astro-duo6c6h2" style="--depth: 1;">
					<span class="astro-duo6c6h2" style="--depth: 1;">Replace entries in the browser history</span>
				</a>
				
			</li><li class="astro-duo6c6h2" style="--depth: 1;">
				<a href="https://docs.astro.build/en/guides/view-transitions/#transitions-with-forms" class="astro-duo6c6h2" style="--depth: 1;">
					<span class="astro-duo6c6h2" style="--depth: 1;">Transitions with forms</span>
				</a>
				
			</li>
</ul>
			</li><li class="astro-duo6c6h2" style="--depth: 0;">
				<a href="https://docs.astro.build/en/guides/view-transitions/#fallback-control" class="astro-duo6c6h2" style="--depth: 0;">
					<span class="astro-duo6c6h2" style="--depth: 0;">Fallback control</span>
				</a>
				
			</li><li class="astro-duo6c6h2" style="--depth: 0;">
				<a href="https://docs.astro.build/en/guides/view-transitions/#client-side-navigation-process" class="astro-duo6c6h2" style="--depth: 0;">
					<span class="astro-duo6c6h2" style="--depth: 0;">Client-side navigation process</span>
				</a>
				
			</li><li class="astro-duo6c6h2" style="--depth: 0;">
				<a href="https://docs.astro.build/en/guides/view-transitions/#script-behavior-with-view-transitions" class="astro-duo6c6h2" style="--depth: 0;">
					<span class="astro-duo6c6h2" style="--depth: 0;">Script behavior with view transitions</span>
				</a>
				<ul class="isMobile astro-duo6c6h2" style="--depth: 1;">
	<li class="astro-duo6c6h2" style="--depth: 1;">
				<a href="https://docs.astro.build/en/guides/view-transitions/#script-order" class="astro-duo6c6h2" style="--depth: 1;">
					<span class="astro-duo6c6h2" style="--depth: 1;">Script order</span>
				</a>
				
			</li><li class="astro-duo6c6h2" style="--depth: 1;">
				<a href="https://docs.astro.build/en/guides/view-transitions/#script-re-execution" class="astro-duo6c6h2" style="--depth: 1;">
					<span class="astro-duo6c6h2" style="--depth: 1;">Script re-execution</span>
				</a>
				
			</li>
</ul>
			</li><li class="astro-duo6c6h2" style="--depth: 0;">
				<a href="https://docs.astro.build/en/guides/view-transitions/#lifecycle-events" class="astro-duo6c6h2" style="--depth: 0;">
					<span class="astro-duo6c6h2" style="--depth: 0;">Lifecycle events</span>
				</a>
				<ul class="isMobile astro-duo6c6h2" style="--depth: 1;">
	<li class="astro-duo6c6h2" style="--depth: 1;">
				<a href="https://docs.astro.build/en/guides/view-transitions/#astrobefore-preparation" class="astro-duo6c6h2" style="--depth: 1;">
					<span class="astro-duo6c6h2" style="--depth: 1;">astro:before-preparation</span>
				</a>
				
			</li><li class="astro-duo6c6h2" style="--depth: 1;">
				<a href="https://docs.astro.build/en/guides/view-transitions/#astroafter-preparation" class="astro-duo6c6h2" style="--depth: 1;">
					<span class="astro-duo6c6h2" style="--depth: 1;">astro:after-preparation</span>
				</a>
				
			</li><li class="astro-duo6c6h2" style="--depth: 1;">
				<a href="https://docs.astro.build/en/guides/view-transitions/#astrobefore-swap" class="astro-duo6c6h2" style="--depth: 1;">
					<span class="astro-duo6c6h2" style="--depth: 1;">astro:before-swap</span>
				</a>
				
			</li><li class="astro-duo6c6h2" style="--depth: 1;">
				<a href="https://docs.astro.build/en/guides/view-transitions/#astroafter-swap" class="astro-duo6c6h2" style="--depth: 1;">
					<span class="astro-duo6c6h2" style="--depth: 1;">astro:after-swap</span>
				</a>
				
			</li><li class="astro-duo6c6h2" style="--depth: 1;">
				<a href="https://docs.astro.build/en/guides/view-transitions/#astropage-load" class="astro-duo6c6h2" style="--depth: 1;">
					<span class="astro-duo6c6h2" style="--depth: 1;">astro:page-load</span>
				</a>
				
			</li>
</ul>
			</li><li class="astro-duo6c6h2" style="--depth: 0;">
				<a href="https://docs.astro.build/en/guides/view-transitions/#accessibility" class="astro-duo6c6h2" style="--depth: 0;">
					<span class="astro-duo6c6h2" style="--depth: 0;">Accessibility</span>
				</a>
				<ul class="isMobile astro-duo6c6h2" style="--depth: 1;">
	<li class="astro-duo6c6h2" style="--depth: 1;">
				<a href="https://docs.astro.build/en/guides/view-transitions/#route-announcement" class="astro-duo6c6h2" style="--depth: 1;">
					<span class="astro-duo6c6h2" style="--depth: 1;">Route announcement</span>
				</a>
				
			</li><li class="astro-duo6c6h2" style="--depth: 1;">
				<a href="https://docs.astro.build/en/guides/view-transitions/#prefers-reduced-motion" class="astro-duo6c6h2" style="--depth: 1;">
					<span class="astro-duo6c6h2" style="--depth: 1;">prefers-reduced-motion</span>
				</a>
				
			</li>
</ul>
			</li><li class="astro-duo6c6h2" style="--depth: 0;">
				<a href="https://docs.astro.build/en/guides/view-transitions/#upgrade-to-v30-from-v2x" class="astro-duo6c6h2" style="--depth: 0;">
					<span class="astro-duo6c6h2" style="--depth: 0;">Upgrade to v3.0 from v2.x</span>
				</a>
				<ul class="isMobile astro-duo6c6h2" style="--depth: 1;">
	<li class="astro-duo6c6h2" style="--depth: 1;">
				<a href="https://docs.astro.build/en/guides/view-transitions/#upgrade-from-experimentalviewtransitions" class="astro-duo6c6h2" style="--depth: 1;">
					<span class="astro-duo6c6h2" style="--depth: 1;">Upgrade from experimental.viewTransitions</span>
				</a>
				
			</li>
</ul>
			</li>
</ul>
					</div>
				</details>
			</nav>
		</mobile-starlight-toc>



<script type="module" src="./ViewTransitionsDocs_files/MobileTableOfContents.astro_astro_type_script_index_0_lang.CKU6Rn8R.js.download"></script>
			</div>
			<div class="right-sidebar-panel sl-hidden lg:sl-block astro-evux67hy">
				<div class="sl-container astro-evux67hy">
					<starlight-toc data-min-h="2" data-max-h="3" class="astro-gbqdos4t">
			<nav aria-labelledby="starlight__on-this-page" class="astro-gbqdos4t">
				<h2 id="starlight__on-this-page" class="astro-gbqdos4t">
					On this page
				</h2>
				
						<ul class="astro-duo6c6h2" style="--depth: 0;">
	<li class="astro-duo6c6h2" style="--depth: 0;">
				<a href="https://docs.astro.build/en/guides/view-transitions/#_top" class="astro-duo6c6h2" style="--depth: 0;">
					<span class="astro-duo6c6h2" style="--depth: 0;">Overview</span>
				</a>
				
			</li><li class="astro-duo6c6h2" style="--depth: 0;">
				<a href="https://docs.astro.build/en/guides/view-transitions/#adding-view-transitions-to-a-page" class="astro-duo6c6h2" style="--depth: 0;">
					<span class="astro-duo6c6h2" style="--depth: 0;">Adding View Transitions to a Page</span>
				</a>
				
			</li><li class="astro-duo6c6h2" style="--depth: 0;">
				<a href="https://docs.astro.build/en/guides/view-transitions/#full-site-view-transitions-spa-mode" class="astro-duo6c6h2" style="--depth: 0;">
					<span class="astro-duo6c6h2" style="--depth: 0;">Full site view transitions (SPA mode)</span>
				</a>
				
			</li><li class="astro-duo6c6h2" style="--depth: 0;">
				<a href="https://docs.astro.build/en/guides/view-transitions/#transition-directives" class="astro-duo6c6h2" style="--depth: 0;">
					<span class="astro-duo6c6h2" style="--depth: 0;">Transition Directives</span>
				</a>
				<ul class="astro-duo6c6h2" style="--depth: 1;">
	<li class="astro-duo6c6h2" style="--depth: 1;">
				<a href="https://docs.astro.build/en/guides/view-transitions/#naming-a-transition" class="astro-duo6c6h2" style="--depth: 1;">
					<span class="astro-duo6c6h2" style="--depth: 1;">Naming a transition</span>
				</a>
				
			</li><li class="astro-duo6c6h2" style="--depth: 1;">
				<a href="https://docs.astro.build/en/guides/view-transitions/#maintaining-state" class="astro-duo6c6h2" style="--depth: 1;" aria-current="true">
					<span class="astro-duo6c6h2" style="--depth: 1;">Maintaining State</span>
				</a>
				
			</li><li class="astro-duo6c6h2" style="--depth: 1;">
				<a href="https://docs.astro.build/en/guides/view-transitions/#built-in-animation-directives" class="astro-duo6c6h2" style="--depth: 1;">
					<span class="astro-duo6c6h2" style="--depth: 1;">Built-in Animation Directives</span>
				</a>
				
			</li><li class="astro-duo6c6h2" style="--depth: 1;">
				<a href="https://docs.astro.build/en/guides/view-transitions/#customizing-animations" class="astro-duo6c6h2" style="--depth: 1;">
					<span class="astro-duo6c6h2" style="--depth: 1;">Customizing Animations</span>
				</a>
				
			</li>
</ul>
			</li><li class="astro-duo6c6h2" style="--depth: 0;">
				<a href="https://docs.astro.build/en/guides/view-transitions/#router-control" class="astro-duo6c6h2" style="--depth: 0;">
					<span class="astro-duo6c6h2" style="--depth: 0;">Router control</span>
				</a>
				<ul class="astro-duo6c6h2" style="--depth: 1;">
	<li class="astro-duo6c6h2" style="--depth: 1;">
				<a href="https://docs.astro.build/en/guides/view-transitions/#preventing-client-side-navigation" class="astro-duo6c6h2" style="--depth: 1;">
					<span class="astro-duo6c6h2" style="--depth: 1;">Preventing client-side navigation</span>
				</a>
				
			</li><li class="astro-duo6c6h2" style="--depth: 1;">
				<a href="https://docs.astro.build/en/guides/view-transitions/#trigger-navigation" class="astro-duo6c6h2" style="--depth: 1;">
					<span class="astro-duo6c6h2" style="--depth: 1;">Trigger navigation</span>
				</a>
				
			</li><li class="astro-duo6c6h2" style="--depth: 1;">
				<a href="https://docs.astro.build/en/guides/view-transitions/#replace-entries-in-the-browser-history" class="astro-duo6c6h2" style="--depth: 1;">
					<span class="astro-duo6c6h2" style="--depth: 1;">Replace entries in the browser history</span>
				</a>
				
			</li><li class="astro-duo6c6h2" style="--depth: 1;">
				<a href="https://docs.astro.build/en/guides/view-transitions/#transitions-with-forms" class="astro-duo6c6h2" style="--depth: 1;">
					<span class="astro-duo6c6h2" style="--depth: 1;">Transitions with forms</span>
				</a>
				
			</li>
</ul>
			</li><li class="astro-duo6c6h2" style="--depth: 0;">
				<a href="https://docs.astro.build/en/guides/view-transitions/#fallback-control" class="astro-duo6c6h2" style="--depth: 0;">
					<span class="astro-duo6c6h2" style="--depth: 0;">Fallback control</span>
				</a>
				
			</li><li class="astro-duo6c6h2" style="--depth: 0;">
				<a href="https://docs.astro.build/en/guides/view-transitions/#client-side-navigation-process" class="astro-duo6c6h2" style="--depth: 0;">
					<span class="astro-duo6c6h2" style="--depth: 0;">Client-side navigation process</span>
				</a>
				
			</li><li class="astro-duo6c6h2" style="--depth: 0;">
				<a href="https://docs.astro.build/en/guides/view-transitions/#script-behavior-with-view-transitions" class="astro-duo6c6h2" style="--depth: 0;">
					<span class="astro-duo6c6h2" style="--depth: 0;">Script behavior with view transitions</span>
				</a>
				<ul class="astro-duo6c6h2" style="--depth: 1;">
	<li class="astro-duo6c6h2" style="--depth: 1;">
				<a href="https://docs.astro.build/en/guides/view-transitions/#script-order" class="astro-duo6c6h2" style="--depth: 1;">
					<span class="astro-duo6c6h2" style="--depth: 1;">Script order</span>
				</a>
				
			</li><li class="astro-duo6c6h2" style="--depth: 1;">
				<a href="https://docs.astro.build/en/guides/view-transitions/#script-re-execution" class="astro-duo6c6h2" style="--depth: 1;">
					<span class="astro-duo6c6h2" style="--depth: 1;">Script re-execution</span>
				</a>
				
			</li>
</ul>
			</li><li class="astro-duo6c6h2" style="--depth: 0;">
				<a href="https://docs.astro.build/en/guides/view-transitions/#lifecycle-events" class="astro-duo6c6h2" style="--depth: 0;">
					<span class="astro-duo6c6h2" style="--depth: 0;">Lifecycle events</span>
				</a>
				<ul class="astro-duo6c6h2" style="--depth: 1;">
	<li class="astro-duo6c6h2" style="--depth: 1;">
				<a href="https://docs.astro.build/en/guides/view-transitions/#astrobefore-preparation" class="astro-duo6c6h2" style="--depth: 1;">
					<span class="astro-duo6c6h2" style="--depth: 1;">astro:before-preparation</span>
				</a>
				
			</li><li class="astro-duo6c6h2" style="--depth: 1;">
				<a href="https://docs.astro.build/en/guides/view-transitions/#astroafter-preparation" class="astro-duo6c6h2" style="--depth: 1;">
					<span class="astro-duo6c6h2" style="--depth: 1;">astro:after-preparation</span>
				</a>
				
			</li><li class="astro-duo6c6h2" style="--depth: 1;">
				<a href="https://docs.astro.build/en/guides/view-transitions/#astrobefore-swap" class="astro-duo6c6h2" style="--depth: 1;">
					<span class="astro-duo6c6h2" style="--depth: 1;">astro:before-swap</span>
				</a>
				
			</li><li class="astro-duo6c6h2" style="--depth: 1;">
				<a href="https://docs.astro.build/en/guides/view-transitions/#astroafter-swap" class="astro-duo6c6h2" style="--depth: 1;">
					<span class="astro-duo6c6h2" style="--depth: 1;">astro:after-swap</span>
				</a>
				
			</li><li class="astro-duo6c6h2" style="--depth: 1;">
				<a href="https://docs.astro.build/en/guides/view-transitions/#astropage-load" class="astro-duo6c6h2" style="--depth: 1;">
					<span class="astro-duo6c6h2" style="--depth: 1;">astro:page-load</span>
				</a>
				
			</li>
</ul>
			</li><li class="astro-duo6c6h2" style="--depth: 0;">
				<a href="https://docs.astro.build/en/guides/view-transitions/#accessibility" class="astro-duo6c6h2" style="--depth: 0;">
					<span class="astro-duo6c6h2" style="--depth: 0;">Accessibility</span>
				</a>
				<ul class="astro-duo6c6h2" style="--depth: 1;">
	<li class="astro-duo6c6h2" style="--depth: 1;">
				<a href="https://docs.astro.build/en/guides/view-transitions/#route-announcement" class="astro-duo6c6h2" style="--depth: 1;">
					<span class="astro-duo6c6h2" style="--depth: 1;">Route announcement</span>
				</a>
				
			</li><li class="astro-duo6c6h2" style="--depth: 1;">
				<a href="https://docs.astro.build/en/guides/view-transitions/#prefers-reduced-motion" class="astro-duo6c6h2" style="--depth: 1;">
					<span class="astro-duo6c6h2" style="--depth: 1;">prefers-reduced-motion</span>
				</a>
				
			</li>
</ul>
			</li><li class="astro-duo6c6h2" style="--depth: 0;">
				<a href="https://docs.astro.build/en/guides/view-transitions/#upgrade-to-v30-from-v2x" class="astro-duo6c6h2" style="--depth: 0;">
					<span class="astro-duo6c6h2" style="--depth: 0;">Upgrade to v3.0 from v2.x</span>
				</a>
				<ul class="astro-duo6c6h2" style="--depth: 1;">
	<li class="astro-duo6c6h2" style="--depth: 1;">
				<a href="https://docs.astro.build/en/guides/view-transitions/#upgrade-from-experimentalviewtransitions" class="astro-duo6c6h2" style="--depth: 1;">
					<span class="astro-duo6c6h2" style="--depth: 1;">Upgrade from experimental.viewTransitions</span>
				</a>
				
			</li>
</ul>
			</li>
</ul>
						<h2 class="contribute astro-gbqdos4t">Contribute</h2>
						<ul class="astro-gbqdos4t">
							<li class="astro-gbqdos4t">
								<a href="https://docs.astro.build/en/contribute/" class="astro-gbqdos4t">
									<svg aria-hidden="true" class="astro-gbqdos4t astro-3zixussu" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21.17 2.06A13.1 13.1 0 0 0 19 1.87a12.94 12.94 0 0 0-7 2.05 12.94 12.94 0 0 0-7-2 13.1 13.1 0 0 0-2.17.19 1 1 0 0 0-.83 1v12a1 1 0 0 0 1.17 1 10.9 10.9 0 0 1 8.25 1.91l.12.07h.11a.91.91 0 0 0 .7 0h.11l.12-.07A10.899 10.899 0 0 1 20.83 16 1 1 0 0 0 22 15V3a1 1 0 0 0-.83-.94ZM11 15.35a12.87 12.87 0 0 0-6-1.48H4v-10c.333-.02.667-.02 1 0a10.86 10.86 0 0 1 6 1.8v9.68Zm9-1.44h-1a12.87 12.87 0 0 0-6 1.48V5.67a10.86 10.86 0 0 1 6-1.8c.333-.02.667-.02 1 0v10.04Zm1.17 4.15a13.098 13.098 0 0 0-2.17-.19 12.94 12.94 0 0 0-7 2.05 12.94 12.94 0 0 0-7-2.05c-.727.003-1.453.066-2.17.19A1 1 0 0 0 2 19.21a1 1 0 0 0 1.17.79 10.9 10.9 0 0 1 8.25 1.91 1 1 0 0 0 1.16 0A10.9 10.9 0 0 1 20.83 20a1 1 0 0 0 1.17-.79 1 1 0 0 0-.83-1.15Z"></path></svg> Contribute
								</a>
							</li>
							<li class="astro-gbqdos4t">
								<a href="https://github.com/withastro/docs/edit/main/src/content/docs/en/guides/view-transitions.mdx" class="astro-gbqdos4t">
									<svg aria-hidden="true" class="astro-gbqdos4t astro-3zixussu" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M22 7.24a1 1 0 0 0-.29-.71l-4.24-4.24a1 1 0 0 0-1.1-.22 1 1 0 0 0-.32.22l-2.83 2.83L2.29 16.05a1 1 0 0 0-.29.71V21a1 1 0 0 0 1 1h4.24a1 1 0 0 0 .76-.29l10.87-10.93L21.71 8c.1-.1.17-.2.22-.33a1 1 0 0 0 0-.24v-.14l.07-.05ZM6.83 20H4v-2.83l9.93-9.93 2.83 2.83L6.83 20ZM18.17 8.66l-2.83-2.83 1.42-1.41 2.82 2.82-1.41 1.42Z"></path></svg> Edit this page
								</a>
							</li>
							<li class="astro-gbqdos4t">
								<a href="https://contribute.docs.astro.build/guides/i18n/" class="astro-gbqdos4t">
									<svg aria-hidden="true" class="astro-gbqdos4t astro-3zixussu" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path fill-rule="evenodd" d="M8.516 3a.94.94 0 0 0-.941.94v1.15H2.94a.94.94 0 1 0 0 1.882h7.362a7.422 7.422 0 0 1-1.787 3.958 7.42 7.42 0 0 1-1.422-2.425.94.94 0 1 0-1.774.627 9.303 9.303 0 0 0 1.785 3.043 7.422 7.422 0 0 1-4.164 1.278.94.94 0 1 0 0 1.881 9.303 9.303 0 0 0 5.575-1.855 9.303 9.303 0 0 0 4.11 1.74l-.763 1.525a.968.968 0 0 0-.016.034l-1.385 2.77a.94.94 0 1 0 1.683.841l1.133-2.267h5.806l1.134 2.267a.94.94 0 0 0 1.683-.841l-1.385-2.769a.95.95 0 0 0-.018-.036l-3.476-6.951a.94.94 0 0 0-1.682 0l-1.82 3.639a7.423 7.423 0 0 1-3.593-1.256 9.303 9.303 0 0 0 2.27-5.203h1.894a.94.94 0 0 0 0-1.881H9.456V3.94A.94.94 0 0 0 8.516 3Zm6.426 11.794a1.068 1.068 0 0 1-.02.039l-.703 1.407h3.924l-1.962-3.924-1.24 2.478Z" clip-rule="evenodd"></path></svg> Translate this page
								</a>
							</li>
						</ul>
						<feedback-form class="astro-skt2cqnz">
	<button data-open-modal="" class="astro-skt2cqnz">
		Give us feedback
	</button>

	<dialog style="padding:0" aria-label="Feedback form" class="astro-skt2cqnz">
		<div class="dialog-frame astro-skt2cqnz">
			<button data-close-modal="" class="astro-skt2cqnz">
				<span class="sr-only astro-skt2cqnz">Close feedback form</span>
				<svg aria-hidden="true" class="astro-skt2cqnz astro-3zixussu" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 2em;"><path d="m13.41 12 6.3-6.29a1.004 1.004 0 1 0-1.42-1.42L12 10.59l-6.29-6.3a1.004 1.004 0 0 0-1.42 1.42l6.3 6.29-6.3 6.29a1 1 0 0 0 0 1.42.998.998 0 0 0 1.42 0l6.29-6.3 6.29 6.3a.999.999 0 0 0 1.42 0 1 1 0 0 0 0-1.42L13.41 12Z"></path></svg>
			</button>
			<div class="select-pane astro-skt2cqnz" tabindex="-1">
				<h1 class="astro-skt2cqnz">What’s on your mind?</h1>
				<div class="select-buttons astro-skt2cqnz">
					<a class="github-button astro-skt2cqnz" href="https://github.com/withastro/docs/issues/new" target="_blank" rel="noopener noreferrer">
						<svg aria-hidden="true" class="astro-skt2cqnz astro-3zixussu" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 4;"><path d="M12 .3a12 12 0 0 0-3.8 23.38c.6.12.83-.26.83-.57L9 21.07c-3.34.72-4.04-1.61-4.04-1.61-.55-1.39-1.34-1.76-1.34-1.76-1.08-.74.09-.73.09-.73 1.2.09 1.83 1.24 1.83 1.24 1.08 1.83 2.81 1.3 3.5 1 .1-.78.42-1.31.76-1.61-2.67-.3-5.47-1.33-5.47-5.93 0-1.31.47-2.38 1.24-3.22-.14-.3-.54-1.52.1-3.18 0 0 1-.32 3.3 1.23a11.5 11.5 0 0 1 6 0c2.28-1.55 3.29-1.23 3.29-1.23.64 1.66.24 2.88.12 3.18a4.65 4.65 0 0 1 1.23 3.22c0 4.61-2.8 5.63-5.48 5.92.42.36.81 1.1.81 2.22l-.01 3.29c0 .31.2.69.82.57A12 12 0 0 0 12 .3Z"></path></svg>
						<h2 class="astro-skt2cqnz">
							Create GitHub Issue
						</h2>
						<p class="astro-skt2cqnz">
							Quickest way to alert our team of a problem.
						</p>
					</a>
					<button data-select-feedback="" class="astro-skt2cqnz">
						<svg aria-hidden="true" class="astro-skt2cqnz astro-3zixussu" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 4;"><path d="M12 16a1 1 0 1 0 0 2 1 1 0 0 0 0-2Zm10.67 1.47-8.05-14a3 3 0 0 0-5.24 0l-8 14A3 3 0 0 0 3.94 22h16.12a3 3 0 0 0 2.61-4.53Zm-1.73 2a1 1 0 0 1-.88.51H3.94a1 1 0 0 1-.88-.51 1 1 0 0 1 0-1l8-14a1 1 0 0 1 1.78 0l8.05 14a1 1 0 0 1 .05 1.02v-.02ZM12 8a1 1 0 0 0-1 1v4a1 1 0 0 0 2 0V9a1 1 0 0 0-1-1Z"></path></svg>
						<h2 class="astro-skt2cqnz">
							Send us feedback
						</h2>
						<p class="astro-skt2cqnz">
							Send us a message directly.
						</p>
					</button>
				</div>
			</div>
			<form hidden="" class="astro-skt2cqnz">
				<button data-back-button="" class="astro-skt2cqnz">
					<span class="sr-only astro-skt2cqnz">Close feedback form</span>
					<svg aria-hidden="true" class="astro-skt2cqnz astro-3zixussu" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M17 11H9.41l3.3-3.29a1.004 1.004 0 1 0-1.42-1.42l-5 5a1 1 0 0 0-.21.33 1 1 0 0 0 0 .76 1 1 0 0 0 .21.33l5 5a1.002 1.002 0 0 0 1.639-.325 1 1 0 0 0-.219-1.095L9.41 13H17a1 1 0 0 0 0-2Z"></path></svg>
				</button>
				<h1 class="astro-skt2cqnz">Send us feedback</h1>
				<fieldset class="category-options astro-skt2cqnz">
					<legend class="sr-only astro-skt2cqnz">Choose feedback category</legend>
					<span class="category-option astro-skt2cqnz">
								<input class="sr-only astro-skt2cqnz" id="issueilv55t" type="radio" name="category" value="issue" checked="true">
								<label for="issueilv55t" class="astro-skt2cqnz">
									<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentcolor" viewBox="0 0 24 24" class="astro-skt2cqnz">
										<path d="M12 16a1 1 0 1 0 0 2 1 1 0 0 0 0-2Zm10.67 1.47-8.05-14a3 3 0 0 0-5.24 0l-8 14A3 3 0 0 0 3.94 22h16.12a3 3 0 0 0 2.61-4.53Zm-1.73 2a1 1 0 0 1-.88.51H3.94a1 1 0 0 1-.88-.51 1 1 0 0 1 0-1l8-14a1 1 0 0 1 1.78 0l8.05 14a1 1 0 0 1 .05 1.02v-.02ZM12 8a1 1 0 0 0-1 1v4a1 1 0 0 0 2 0V9a1 1 0 0 0-1-1Z" class="astro-skt2cqnz"></path>
									</svg>
									<span class="astro-skt2cqnz">
										Issue
									</span>
								</label>
							</span><span class="category-option astro-skt2cqnz">
								<input class="sr-only astro-skt2cqnz" id="ideailv55t" type="radio" name="category" value="idea">
								<label for="ideailv55t" class="astro-skt2cqnz">
									<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentcolor" viewBox="0 0 24 24" class="astro-skt2cqnz">
										<path d="M17.09 2.82A8 8 0 0 0 5.86 14.13c.7.8 1.1 1.8 1.14 2.87v3a3 3 0 0 0 3 3h4a3 3 0 0 0 3-3v-2.81c.03-1.17.46-2.3 1.22-3.19a8 8 0 0 0-1.13-11.2v.02ZM15 20a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1v-1h6v1Zm1.67-7.24c-1 1.2-1.6 2.68-1.67 4.24h-2v-3a1 1 0 0 0-2 0v3H9a6.5 6.5 0 0 0-1.6-4.16 6 6 0 1 1 9.27-.08Z" class="astro-skt2cqnz"></path>
									</svg>
									<span class="astro-skt2cqnz">
										Idea
									</span>
								</label>
							</span><span class="category-option astro-skt2cqnz">
								<input class="sr-only astro-skt2cqnz" id="otherilv55t" type="radio" name="category" value="other">
								<label for="otherilv55t" class="astro-skt2cqnz">
									<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentcolor" viewBox="0 0 24 24" class="astro-skt2cqnz">
										<path d="M12 10a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm-7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm14 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4Z" class="astro-skt2cqnz"></path>
									</svg>
									<span class="astro-skt2cqnz">
										Other
									</span>
								</label>
							</span>
				</fieldset>
				<label for="textareailv55t" class="sr-only astro-skt2cqnz">
					Message
				</label>
				<textarea id="textareailv55t" name="text" cols="34" rows="3" required="" placeholder="What do you want us to know?" class="astro-skt2cqnz"></textarea>
				<button type="submit" class="astro-skt2cqnz">Submit feedback</button>
				<a href="https://astro.build/privacy/" style="text-decoration: underline; align-self: start; color: var(--sl-color-text-accent);" target="_blank" rel="noopener" class="astro-skt2cqnz">
					Privacy Policy
				</a>
			</form>
			<div class="success-pane astro-skt2cqnz" hidden="" tabindex="-1">
				<img src="./ViewTransitionsDocs_files/houston-happy.fP8mBnGj.webp" alt="" width="128" height="128" class="astro-skt2cqnz">
				<p class="astro-skt2cqnz">
					Thanks! We received your feedback.
				</p>
			</div>
		</div>
	</dialog>
</feedback-form>

<script type="module">class p extends HTMLElement{constructor(){super();const n=this.querySelector("button[data-open-modal]"),h=this.querySelector("button[data-close-modal]"),b=this.querySelector("button[data-back-button]"),r=this.querySelector('button[type="submit"]'),i=this.querySelector("dialog"),f=this.querySelector(".dialog-frame"),m=this.querySelector("div.select-pane"),t=this.querySelector("form"),a=this.querySelector("div.success-pane"),d=this.querySelector("a.github-button"),y=this.querySelector("button[data-select-feedback]"),o=e=>{m.hidden=e!=="select",t.hidden=e!=="form",a.hidden=e!=="success",a.hidden||a.focus()},l=e=>{f.contains(e.target)||u()},k=e=>{o("select"),i.showModal(),t.querySelector("input:checked")?.focus(),e.stopPropagation(),window.addEventListener("click",l)},u=()=>{i.close(),window.removeEventListener("click",l)};n.addEventListener("click",k),h.addEventListener("click",u),b.addEventListener("click",()=>{o("select")}),d.addEventListener("click",()=>{const e=new URL("https://github.com/withastro/docs/issues/new"),s={issue:"⚠️ Issue",idea:"💡 Idea",other:"🐠 Feedback"};if(t.category.value in s){const c=s[t.category.value];e.searchParams.set("title",c)}t.text.value&&e.searchParams.set("body",t.text.value),d.href=e.href}),y.addEventListener("click",()=>{o("form")}),t.addEventListener("submit",async e=>{e.preventDefault(),r.disabled=!0;try{const s=await fetch("https://api.feedback.fish/feedback",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({projectId:"1b24b5d16c81bd",text:t.text.value,category:t.category.value,metadata:{url:location.pathname.replace(/\/$/,"")}})});if(!s.ok)throw new Error(s.statusText);const c=await s.json();if(c.error)throw new Error(c.error)}catch(s){console.error(`Error submitting feedback form
`,s)}o("success"),r.disabled=!1,t.reset()}),n.disabled=!1}}customElements.define("feedback-form",p);</script>
					
			</nav>
		</starlight-toc>



<script type="module" src="./ViewTransitionsDocs_files/TableOfContents.astro_astro_type_script_index_0_lang.ok1Xr1fd.js.download"></script>
				</div>
				<div class="sl-container astro-evux67hy">
					<aside class="not-content astro-mmwdqvkz">
	<div class="astro-mmwdqvkz">
		<a href="https://starlight.astro.build/" class="astro-mmwdqvkz">
			<h2 class="astro-mmwdqvkz">Want to build your own Docs?</h2>
		</a>
		<p class="astro-mmwdqvkz">
			Grab this template to get started.<b class="astro-mmwdqvkz">→</b>
		</p>
	</div>
	<div class="astro-mmwdqvkz">
		<img src="./ViewTransitionsDocs_files/houston_omg.CKiB_MJZ_wdOqF.webp" alt="" class="astro-mmwdqvkz" width="180" height="112" loading="lazy" decoding="async">
	</div>
</aside>
				</div>
			</div>
		


				</div>
			</aside>
	<div class="main-pane astro-yecetyhn">
				
				<main data-pagefind-body="" lang="en" dir="ltr" class="astro-w5t7svrm">
					
					
					
								<div class="content-panel astro-rof3un3p">
	<div class="sl-container astro-rof3un3p">
									<h1 id="_top" class="astro-ziuotvdb">View Transitions</h1>


									</div>
</div>
								<div class="content-panel astro-rof3un3p">
	<div class="sl-container astro-rof3un3p">
									<div class="sl-markdown-content astro-klj6ju3r">
	
										<p>Astro supports <strong>opt-in, per-page, view transitions</strong> with just a few lines of code. View transitions update your page content without the browser’s normal, full-page navigation refresh and provide seamless animations between pages.</p>
<p>Astro provides a <code>&lt;ViewTransitions /&gt;</code> routing component that can be added to a single page’s <code>&lt;head&gt;</code> to control page transitions as you navigate away to another page. It provides a lightweight client-side router that <a href="https://docs.astro.build/en/guides/view-transitions/#client-side-navigation-process">intercepts navigation</a> and allows you to customize the transition between pages.</p>
<p>Add this component to a reusable <code>.astro</code> component, such as a common head or layout, for <a href="https://docs.astro.build/en/guides/view-transitions/#full-site-view-transitions-spa-mode">animated page transitions across your entire site (SPA mode)</a>.</p>
<p>Astro’s view transitions support is powered by the new <a href="https://developer.chrome.com/docs/web-platform/view-transitions/">View Transitions</a> browser API and also includes:</p>
<ul>
<li>A few <a href="https://docs.astro.build/en/guides/view-transitions/#built-in-animation-directives">built-in animation options</a>, such as <code>fade</code>, <code>slide</code>, and <code>none</code>.</li>
<li>Support for both forwards and backwards navigation animations.</li>
<li>The ability to fully <a href="https://docs.astro.build/en/guides/view-transitions/#customizing-animations">customize all aspects of transition animation</a>, and build your own animations.</li>
<li>The option to <a href="https://docs.astro.build/en/guides/view-transitions/#preventing-client-side-navigation">prevent client-side navigation for non-page links</a>.</li>
<li><a href="https://docs.astro.build/en/guides/view-transitions/#fallback-control">Control over fallback behavior</a> for browsers that do not yet support the View Transition APIs.</li>
<li>Automatic support for <a href="https://docs.astro.build/en/guides/view-transitions/#prefers-reduced-motion"><code>prefers-reduced-motion</code></a>.</li>
</ul>
<aside aria-label="Note" class="starlight-aside starlight-aside--note"><p class="starlight-aside__title" aria-hidden="true"><svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor" class="starlight-aside__icon"><path d="M12 11C11.7348 11 11.4804 11.1054 11.2929 11.2929C11.1054 11.4804 11 11.7348 11 12V16C11 16.2652 11.1054 16.5196 11.2929 16.7071C11.4804 16.8946 11.7348 17 12 17C12.2652 17 12.5196 16.8946 12.7071 16.7071C12.8946 16.5196 13 16.2652 13 16V12C13 11.7348 12.8946 11.4804 12.7071 11.2929C12.5196 11.1054 12.2652 11 12 11ZM12.38 7.08C12.1365 6.97998 11.8635 6.97998 11.62 7.08C11.4973 7.12759 11.3851 7.19896 11.29 7.29C11.2017 7.3872 11.1306 7.49882 11.08 7.62C11.024 7.73868 10.9966 7.86882 11 8C10.9992 8.13161 11.0245 8.26207 11.0742 8.38391C11.124 8.50574 11.1973 8.61656 11.29 8.71C11.3872 8.79833 11.4988 8.86936 11.62 8.92C11.7715 8.98224 11.936 9.00632 12.099 8.99011C12.2619 8.97391 12.4184 8.91792 12.5547 8.82707C12.691 8.73622 12.8029 8.61328 12.8805 8.46907C12.9582 8.32486 12.9992 8.16378 13 8C12.9963 7.73523 12.8927 7.48163 12.71 7.29C12.6149 7.19896 12.5028 7.12759 12.38 7.08ZM12 2C10.0222 2 8.08879 2.58649 6.4443 3.6853C4.79981 4.78412 3.51809 6.3459 2.76121 8.17317C2.00433 10.0004 1.8063 12.0111 2.19215 13.9509C2.578 15.8907 3.53041 17.6725 4.92894 19.0711C6.32746 20.4696 8.10929 21.422 10.0491 21.8079C11.9889 22.1937 13.9996 21.9957 15.8268 21.2388C17.6541 20.4819 19.2159 19.2002 20.3147 17.5557C21.4135 15.9112 22 13.9778 22 12C22 10.6868 21.7413 9.38642 21.2388 8.17317C20.7363 6.95991 19.9997 5.85752 19.0711 4.92893C18.1425 4.00035 17.0401 3.26375 15.8268 2.7612C14.6136 2.25866 13.3132 2 12 2ZM12 20C10.4178 20 8.87104 19.5308 7.55544 18.6518C6.23985 17.7727 5.21447 16.5233 4.60897 15.0615C4.00347 13.5997 3.84504 11.9911 4.15372 10.4393C4.4624 8.88743 5.22433 7.46197 6.34315 6.34315C7.46197 5.22433 8.88743 4.4624 10.4393 4.15372C11.9911 3.84504 13.5997 4.00346 15.0615 4.60896C16.5233 5.21447 17.7727 6.23984 18.6518 7.55544C19.5308 8.87103 20 10.4177 20 12C20 14.1217 19.1572 16.1566 17.6569 17.6569C16.1566 19.1571 14.1217 20 12 20Z"></path></svg>Note</p><section class="starlight-aside__content"><p>By default, every page will use regular, full-page, browser navigation. You must opt in to view transitions and can use them either on a per-page basis or site-wide.</p></section></aside>
<div tabindex="-1" class="heading-wrapper level-h2"><h2 id="adding-view-transitions-to-a-page">Adding View Transitions to a Page</h2><a class="anchor-link" href="https://docs.astro.build/en/guides/view-transitions/#adding-view-transitions-to-a-page"><span aria-hidden="true" class="anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span is:raw="" class="sr-only">Section titled Adding View Transitions to a Page</span></a></div>
<p>Opt in to using view transitions on individual pages by importing and adding the <code>&lt;ViewTransitions /&gt;</code> routing component to <code>&lt;head&gt;</code> on every desired page.</p>
<div class="expressive-code"><link rel="stylesheet" href="./ViewTransitionsDocs_files/ec.pjkke.css"><script type="module" src="./ViewTransitionsDocs_files/ec.sgewm.js.download"></script><figure class="frame has-title not-content"><figcaption class="header"><span class="title">src/pages/index.astro</span></figcaption><pre tabindex="0"><code><div class="ec-line"><div class="code"><span style="--0:#809191;--1:#616671">---</span></div></div><div class="ec-line highlight ins"><div class="code"><span style="--0:#cb9bec;--1:#6a3587">import</span><span style="--0:#D6DEEB;--1:#403F53"> { ViewTransitions } </span><span style="--0:#cb9bec;--1:#6a3587">from</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#773d3c">astro:transitions</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#809191;--1:#616671">---</span></div></div><div class="ec-line"><div class="code"><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">html</span><span style="--0:#7FDBCA"> </span></span><span style="--0:#C5E478;--1:#3C63B3">lang</span><span style="--0:#7FDBCA;--1:#8D46B4">=</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#9B504E">en</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#7FDBCA;--1:#8D46B4">&gt;</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">head</span><span style="--0:#7FDBCA">&gt;</span></span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">title</span><span style="--0:#7FDBCA">&gt;</span></span><span style="--0:#D6DEEB;--1:#403F53">My Homepage</span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;/</span><span style="--0:#CAECE6">title</span><span style="--0:#7FDBCA">&gt;</span></span></div></div><div class="ec-line highlight ins"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#6a3587">&lt;</span><span style="--0:#C5E478;--1:#2e4c89">ViewTransitions</span><span style="--0:#7FDBCA;--1:#6a3587"> /&gt;</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;/</span><span style="--0:#CAECE6">head</span><span style="--0:#7FDBCA">&gt;</span></span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">body</span><span style="--0:#7FDBCA">&gt;</span></span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">h1</span><span style="--0:#7FDBCA">&gt;</span></span><span style="--0:#D6DEEB;--1:#403F53">Welcome to my website!</span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;/</span><span style="--0:#CAECE6">h1</span><span style="--0:#7FDBCA">&gt;</span></span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;/</span><span style="--0:#CAECE6">body</span><span style="--0:#7FDBCA">&gt;</span></span></div></div><div class="ec-line"><div class="code"><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;/</span><span style="--0:#CAECE6">html</span><span style="--0:#7FDBCA">&gt;</span></span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="---import { ViewTransitions } from &#39;astro:transitions&#39;;---&lt;html lang=&quot;en&quot;&gt;  &lt;head&gt;    &lt;title&gt;My Homepage&lt;/title&gt;    &lt;ViewTransitions /&gt;  &lt;/head&gt;  &lt;body&gt;    &lt;h1&gt;Welcome to my website!&lt;/h1&gt;  &lt;/body&gt;&lt;/html&gt;"><div></div></button></div></figure></div>
<div tabindex="-1" class="heading-wrapper level-h2"><h2 id="full-site-view-transitions-spa-mode">Full site view transitions (SPA mode)</h2><a class="anchor-link" href="https://docs.astro.build/en/guides/view-transitions/#full-site-view-transitions-spa-mode"><span aria-hidden="true" class="anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span is:raw="" class="sr-only">Section titled Full site view transitions (SPA mode)</span></a></div>
<p>Import and add the <code>&lt;ViewTransitions /&gt;</code> component to your common <code>&lt;head&gt;</code> or shared layout component. Astro will create default page animations based on the similarities between the old and new page, and will also provide fallback behavior for unsupported browsers.</p>
<p>The example below shows adding Astro’s default page navigation animations site-wide, including the default fallback control option for non-supporting browsers, by importing and adding this component to a <code>&lt;CommonHead /&gt;</code> Astro component:</p>
<div class="expressive-code"><figure class="frame has-title not-content"><figcaption class="header"><span class="title">src/components/CommonHead.astro</span></figcaption><pre tabindex="0"><code><div class="ec-line"><div class="code"><span style="--0:#809191;--1:#616671">---</span></div></div><div class="ec-line highlight ins"><div class="code"><span style="--0:#cb9bec;--1:#6a3587">import</span><span style="--0:#D6DEEB;--1:#403F53"> { ViewTransitions } </span><span style="--0:#cb9bec;--1:#6a3587">from</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#773d3c">astro:transitions</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#809191;--1:#616671">---</span></div></div><div class="ec-line"><div class="code"><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">link</span><span style="--0:#7FDBCA"> </span></span><span style="--0:#C5E478;--1:#3C63B3">rel</span><span style="--0:#7FDBCA;--1:#8D46B4">=</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#9B504E">icon</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#7FDBCA;--1:#8D46B4"> </span><span style="--0:#C5E478;--1:#3C63B3">type</span><span style="--0:#7FDBCA;--1:#8D46B4">=</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#9B504E">image/svg+xml</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#7FDBCA;--1:#8D46B4"> </span><span style="--0:#C5E478;--1:#3C63B3">href</span><span style="--0:#7FDBCA;--1:#8D46B4">=</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#9B504E">/favicon.svg</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#7FDBCA;--1:#8D46B4"> /&gt;</span></div></div><div class="ec-line"><div class="code"><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">meta</span><span style="--0:#7FDBCA"> </span></span><span style="--0:#C5E478;--1:#3C63B3">name</span><span style="--0:#7FDBCA;--1:#8D46B4">=</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#9B504E">generator</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#7FDBCA;--1:#8D46B4"> </span><span style="--0:#C5E478;--1:#3C63B3">content</span><span style="--0:#7FDBCA;--1:#8D46B4">=</span><span style="--0:#DD6B68;--1:#B73936">{</span><span style="--0:#D6DEEB;--1:#403F53">Astro</span><span style="--0:#C792EA;--1:#8D46B4">.</span><span style="--0:#7FDBCA;--1:#097174">generator</span><span style="--0:#DD6B68;--1:#B73936">}</span><span style="--0:#7FDBCA;--1:#8D46B4"> /&gt;</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#809191;--1:#616671">&lt;!-- Primary Meta Tags --&gt;</span></div></div><div class="ec-line"><div class="code"><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">title</span><span style="--0:#7FDBCA">&gt;</span></span><span style="--0:#DD6B68;--1:#B73936">{</span><span style="--0:#D6DEEB;--1:#403F53">title</span><span style="--0:#DD6B68;--1:#B73936">}</span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;/</span><span style="--0:#CAECE6">title</span><span style="--0:#7FDBCA">&gt;</span></span></div></div><div class="ec-line"><div class="code"><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">meta</span><span style="--0:#7FDBCA"> </span></span><span style="--0:#C5E478;--1:#3C63B3">name</span><span style="--0:#7FDBCA;--1:#8D46B4">=</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#9B504E">title</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#7FDBCA;--1:#8D46B4"> </span><span style="--0:#C5E478;--1:#3C63B3">content</span><span style="--0:#7FDBCA;--1:#8D46B4">=</span><span style="--0:#DD6B68;--1:#B73936">{</span><span style="--0:#D6DEEB;--1:#403F53">title</span><span style="--0:#DD6B68;--1:#B73936">}</span><span style="--0:#7FDBCA;--1:#8D46B4"> /&gt;</span></div></div><div class="ec-line"><div class="code"><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">meta</span><span style="--0:#7FDBCA"> </span></span><span style="--0:#C5E478;--1:#3C63B3">name</span><span style="--0:#7FDBCA;--1:#8D46B4">=</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#9B504E">description</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#7FDBCA;--1:#8D46B4"> </span><span style="--0:#C5E478;--1:#3C63B3">content</span><span style="--0:#7FDBCA;--1:#8D46B4">=</span><span style="--0:#DD6B68;--1:#B73936">{</span><span style="--0:#D6DEEB;--1:#403F53">description</span><span style="--0:#DD6B68;--1:#B73936">}</span><span style="--0:#7FDBCA;--1:#8D46B4"> /&gt;</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line highlight ins"><div class="code"><span style="--0:#7FDBCA;--1:#6a3587">&lt;</span><span style="--0:#C5E478;--1:#2e4c89">ViewTransitions</span><span style="--0:#7FDBCA;--1:#6a3587"> /&gt;</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="---import { ViewTransitions } from &#39;astro:transitions&#39;;---&lt;link rel=&quot;icon&quot; type=&quot;image/svg+xml&quot; href=&quot;/favicon.svg&quot; /&gt;&lt;meta name=&quot;generator&quot; content={Astro.generator} /&gt;&lt;!-- Primary Meta Tags --&gt;&lt;title&gt;{title}&lt;/title&gt;&lt;meta name=&quot;title&quot; content={title} /&gt;&lt;meta name=&quot;description&quot; content={description} /&gt;&lt;ViewTransitions /&gt;"><div></div></button></div></figure></div>
<p>No other configuration is necessary to enable Astro’s default client-side navigation!</p>
<p>Use <a href="https://docs.astro.build/en/guides/view-transitions/#transition-directives">transition directives</a> or <a href="https://docs.astro.build/en/guides/view-transitions/#preventing-client-side-navigation">override default client-side navigation</a> on individual elements for finer control.</p>
<div tabindex="-1" class="heading-wrapper level-h2"><h2 id="transition-directives">Transition Directives</h2><a class="anchor-link" href="https://docs.astro.build/en/guides/view-transitions/#transition-directives"><span aria-hidden="true" class="anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span is:raw="" class="sr-only">Section titled Transition Directives</span></a></div>
<p>Astro will automatically assign corresponding elements found in both the old page and the new page a shared, unique <code>view-transition-name</code>. This pair of matching elements is inferred by both the type of element and its location in the DOM.</p>
<p>Use optional <code>transition:*</code> directives on page elements in your <code>.astro</code> components for finer control over the page transition behaviour during navigation.</p>
<ul>
<li><code>transition:name</code>: Allows you to override Astro’s default element matching for old/new content animation and <a href="https://docs.astro.build/en/guides/view-transitions/#naming-a-transition">specify a transition name</a> to associate a pair of DOM elements.</li>
<li><code>transition:animate</code>: Allows you to override Astro’s default animation while replacing the old element with the new one by specifying an animation type. Use Astro’s <a href="https://docs.astro.build/en/guides/view-transitions/#built-in-animation-directives">built-in animation directives</a> or <a href="https://docs.astro.build/en/guides/view-transitions/#customizing-animations">create custom transition animations</a>.</li>
<li><code>transition:persist</code>: Allows you to override Astro’s default replacing old elements for new ones and instead <a href="https://docs.astro.build/en/guides/view-transitions/#maintaining-state">persist components and HTML elements</a> when navigating to another page.</li>
</ul>
<div tabindex="-1" class="heading-wrapper level-h3"><h3 id="naming-a-transition">Naming a transition</h3><a class="anchor-link" href="https://docs.astro.build/en/guides/view-transitions/#naming-a-transition"><span aria-hidden="true" class="anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span is:raw="" class="sr-only">Section titled Naming a transition</span></a></div>
<p>In some cases, you may want or need to identify the corresponding view transition elements yourself. You can specify a name for a pair of elements using the <code>transition:name</code> directive.</p>
<div class="expressive-code"><figure class="frame has-title not-content"><figcaption class="header"><span class="title">src/pages/old-page.astro</span></figcaption><pre tabindex="0"><code><div class="ec-line"><div class="code"><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">aside</span><span style="--0:#7FDBCA"> </span></span><span style="--0:#C5E478;--1:#3C63B3">transition:name</span><span style="--0:#7FDBCA;--1:#8D46B4">=</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#9B504E">hero</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#7FDBCA;--1:#8D46B4">&gt;</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="&lt;aside transition:name=&quot;hero&quot;&gt;"><div></div></button></div></figure></div>
<div class="expressive-code"><figure class="frame has-title not-content"><figcaption class="header"><span class="title">src/pages/new-page.astro</span></figcaption><pre tabindex="0"><code><div class="ec-line"><div class="code"><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">aside</span><span style="--0:#7FDBCA"> </span></span><span style="--0:#C5E478;--1:#3C63B3">transition:name</span><span style="--0:#7FDBCA;--1:#8D46B4">=</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#9B504E">hero</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#7FDBCA;--1:#8D46B4">&gt;</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="&lt;aside transition:name=&quot;hero&quot;&gt;"><div></div></button></div></figure></div>
<p>Note that the provided <code>transition:name</code> value can only be used once on each page. Set this manually when Astro can’t infer a proper name itself, or for more fine control over matching elements.</p>
<div tabindex="-1" class="heading-wrapper level-h3"><h3 id="maintaining-state">Maintaining State</h3><a class="anchor-link" href="https://docs.astro.build/en/guides/view-transitions/#maintaining-state"><span aria-hidden="true" class="anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span is:raw="" class="sr-only">Section titled Maintaining State</span></a></div>
<p><span>
	<strong>Added in:</strong>
	<code>astro@2.10.0</code>
	
	
</span></p>
<p>You can persist components and HTML elements (instead of replacing them) across page navigations using the <code>transition:persist</code> directive.</p>
<p>For example, the following <code>&lt;video&gt;</code> will continue to play as you navigate to another page that contains the same video element. This works for both forwards and backwards navigation.</p>
<div class="expressive-code"><figure class="frame has-title not-content"><figcaption class="header"><span class="title">src/components/Video.astro</span></figcaption><pre tabindex="0"><code><div class="ec-line"><div class="code"><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">video</span><span style="--0:#7FDBCA"> </span></span><span style="--0:#C5E478;--1:#3C63B3">controls</span><span style="--0:#7FDBCA;--1:#8D46B4">=</span><span style="--0:#D9F5DD;--1:#111111">""</span><span style="--0:#7FDBCA;--1:#8D46B4"> </span><span style="--0:#C5E478;--1:#3C63B3">autoplay</span><span style="--0:#7FDBCA;--1:#8D46B4">=</span><span style="--0:#D9F5DD;--1:#111111">""</span><span style="--0:#7FDBCA;--1:#8D46B4"> </span><mark><span style="--0:#C5E478;--1:#335497">transition:persist</span></mark><span style="--0:#7FDBCA;--1:#8D46B4">&gt;</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">source</span><span style="--0:#7FDBCA"> </span></span><span style="--0:#C5E478;--1:#3C63B3">src</span><span style="--0:#7FDBCA;--1:#8D46B4">=</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#9B504E">https://ia804502.us.archive.org/33/items/GoldenGa1939_3/GoldenGa1939_3_512kb.mp4</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#7FDBCA;--1:#8D46B4"> </span><span style="--0:#C5E478;--1:#3C63B3">type</span><span style="--0:#7FDBCA;--1:#8D46B4">=</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#9B504E">video/mp4</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#7FDBCA;--1:#8D46B4">&gt;</span></div></div><div class="ec-line"><div class="code"><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;/</span><span style="--0:#CAECE6">video</span><span style="--0:#7FDBCA">&gt;</span></span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="&lt;video controls=&quot;&quot; autoplay=&quot;&quot; transition:persist&gt;  &lt;source src=&quot;https://ia804502.us.archive.org/33/items/GoldenGa1939_3/GoldenGa1939_3_512kb.mp4&quot; type=&quot;video/mp4&quot;&gt;&lt;/video&gt;"><div></div></button></div></figure></div>
<p>You can also place the directive on an <a href="https://docs.astro.build/en/concepts/islands/">Astro island</a> (a UI framework component with a <a href="https://docs.astro.build/en/reference/directives-reference/#client-directives"><code>client:</code> directive</a>). If that component exists on the next page, the island from the old page <strong>with its current state</strong> will continue to be displayed, instead of replacing it with the island from the new page.</p>
<p>In the example below, the component’s internal state of the count will not be reset when navigating back and forth across pages that contain the <code>&lt;Counter /&gt;</code> component with the <code>transition:persist</code> attribute.</p>
<div class="expressive-code"><figure class="frame has-title not-content"><figcaption class="header"><span class="title">components/Header.astro</span></figcaption><pre tabindex="0"><code><div class="ec-line"><div class="code"><span style="--0:#7FDBCA;--1:#8D46B4">&lt;</span><span style="--0:#C5E478;--1:#3C63B3">Counter</span><span style="--0:#7FDBCA;--1:#8D46B4"> </span><span style="--0:#C5E478;--1:#3C63B3">client:load</span><span style="--0:#7FDBCA;--1:#8D46B4"> </span><mark><span style="--0:#C5E478;--1:#335497">transition:persist</span></mark><span style="--0:#7FDBCA;--1:#8D46B4"> </span><span style="--0:#C5E478;--1:#3C63B3">initialCount</span><span style="--0:#7FDBCA;--1:#8D46B4">=</span><span style="--0:#DD6B68;--1:#B73936">{</span><span style="--0:#F78C6C;--1:#AA0982">5</span><span style="--0:#DD6B68;--1:#B73936">}</span><span style="--0:#7FDBCA;--1:#8D46B4"> /&gt;</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="&lt;Counter client:load transition:persist initialCount={5} /&gt;"><div></div></button></div></figure></div>
<aside aria-label="Known limitations" class="starlight-aside starlight-aside--note"><p class="starlight-aside__title" aria-hidden="true"><svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor" class="starlight-aside__icon"><path d="M12 11C11.7348 11 11.4804 11.1054 11.2929 11.2929C11.1054 11.4804 11 11.7348 11 12V16C11 16.2652 11.1054 16.5196 11.2929 16.7071C11.4804 16.8946 11.7348 17 12 17C12.2652 17 12.5196 16.8946 12.7071 16.7071C12.8946 16.5196 13 16.2652 13 16V12C13 11.7348 12.8946 11.4804 12.7071 11.2929C12.5196 11.1054 12.2652 11 12 11ZM12.38 7.08C12.1365 6.97998 11.8635 6.97998 11.62 7.08C11.4973 7.12759 11.3851 7.19896 11.29 7.29C11.2017 7.3872 11.1306 7.49882 11.08 7.62C11.024 7.73868 10.9966 7.86882 11 8C10.9992 8.13161 11.0245 8.26207 11.0742 8.38391C11.124 8.50574 11.1973 8.61656 11.29 8.71C11.3872 8.79833 11.4988 8.86936 11.62 8.92C11.7715 8.98224 11.936 9.00632 12.099 8.99011C12.2619 8.97391 12.4184 8.91792 12.5547 8.82707C12.691 8.73622 12.8029 8.61328 12.8805 8.46907C12.9582 8.32486 12.9992 8.16378 13 8C12.9963 7.73523 12.8927 7.48163 12.71 7.29C12.6149 7.19896 12.5028 7.12759 12.38 7.08ZM12 2C10.0222 2 8.08879 2.58649 6.4443 3.6853C4.79981 4.78412 3.51809 6.3459 2.76121 8.17317C2.00433 10.0004 1.8063 12.0111 2.19215 13.9509C2.578 15.8907 3.53041 17.6725 4.92894 19.0711C6.32746 20.4696 8.10929 21.422 10.0491 21.8079C11.9889 22.1937 13.9996 21.9957 15.8268 21.2388C17.6541 20.4819 19.2159 19.2002 20.3147 17.5557C21.4135 15.9112 22 13.9778 22 12C22 10.6868 21.7413 9.38642 21.2388 8.17317C20.7363 6.95991 19.9997 5.85752 19.0711 4.92893C18.1425 4.00035 17.0401 3.26375 15.8268 2.7612C14.6136 2.25866 13.3132 2 12 2ZM12 20C10.4178 20 8.87104 19.5308 7.55544 18.6518C6.23985 17.7727 5.21447 16.5233 4.60897 15.0615C4.00347 13.5997 3.84504 11.9911 4.15372 10.4393C4.4624 8.88743 5.22433 7.46197 6.34315 6.34315C7.46197 5.22433 8.88743 4.4624 10.4393 4.15372C11.9911 3.84504 13.5997 4.00346 15.0615 4.60896C16.5233 5.21447 17.7727 6.23984 18.6518 7.55544C19.5308 8.87103 20 10.4177 20 12C20 14.1217 19.1572 16.1566 17.6569 17.6569C16.1566 19.1571 14.1217 20 12 20Z"></path></svg>Known limitations</p><section class="starlight-aside__content"><p>Not all state can be preserved in this way. The restart of CSS animations and the reload of iframes cannot be avoided during view transitions even when using <code>transition:persist</code>.</p></section></aside>
<p>You can also <a href="https://docs.astro.build/en/guides/view-transitions/#naming-a-transition">manually identify corresponding elements</a> if the island/element is in a different component between the two pages.</p>
<div class="expressive-code"><figure class="frame has-title not-content"><figcaption class="header"><span class="title">src/pages/old-page.astro</span></figcaption><pre tabindex="0"><code><div class="ec-line"><div class="code"><span style="--0:#7FDBCA;--1:#8D46B4">&lt;</span><mark><span style="--0:#C5E478;--1:#335497">Video</span></mark><span style="--0:#7FDBCA;--1:#8D46B4"> </span><span style="--0:#C5E478;--1:#3C63B3">controls</span><span style="--0:#7FDBCA;--1:#8D46B4">=</span><span style="--0:#D9F5DD;--1:#111111">""</span><span style="--0:#7FDBCA;--1:#8D46B4"> </span><span style="--0:#C5E478;--1:#3C63B3">autoplay</span><span style="--0:#7FDBCA;--1:#8D46B4">=</span><span style="--0:#D9F5DD;--1:#111111">""</span><span style="--0:#7FDBCA;--1:#8D46B4"> </span><mark><span style="--0:#C5E478;--1:#335497">transition:name</span><span style="--0:#7FDBCA;--1:#773b98">=</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#834442">media-player</span><span style="--0:#D9F5DD;--1:#111111">"</span></mark><span style="--0:#7FDBCA;--1:#8D46B4"> </span><span style="--0:#C5E478;--1:#3C63B3">transition:persist</span><span style="--0:#7FDBCA;--1:#8D46B4"> /&gt;</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="&lt;Video controls=&quot;&quot; autoplay=&quot;&quot; transition:name=&quot;media-player&quot; transition:persist /&gt;"><div></div></button></div></figure></div>
<div class="expressive-code"><figure class="frame has-title not-content"><figcaption class="header"><span class="title">src/pages/new-page.astro</span></figcaption><pre tabindex="0"><code><div class="ec-line"><div class="code"><span style="--0:#7FDBCA;--1:#8D46B4">&lt;</span><mark><span style="--0:#C5E478;--1:#335497">MyVideo</span></mark><span style="--0:#7FDBCA;--1:#8D46B4"> </span><span style="--0:#C5E478;--1:#3C63B3">controls</span><span style="--0:#7FDBCA;--1:#8D46B4">=</span><span style="--0:#D9F5DD;--1:#111111">""</span><span style="--0:#7FDBCA;--1:#8D46B4"> </span><span style="--0:#C5E478;--1:#3C63B3">autoplay</span><span style="--0:#7FDBCA;--1:#8D46B4">=</span><span style="--0:#D9F5DD;--1:#111111">""</span><span style="--0:#7FDBCA;--1:#8D46B4"> </span><mark><span style="--0:#C5E478;--1:#335497">transition:name</span><span style="--0:#7FDBCA;--1:#773b98">=</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#834442">media-player</span><span style="--0:#D9F5DD;--1:#111111">"</span></mark><span style="--0:#7FDBCA;--1:#8D46B4"> </span><span style="--0:#C5E478;--1:#3C63B3">transition:persist</span><span style="--0:#7FDBCA;--1:#8D46B4"> /&gt;</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="&lt;MyVideo controls=&quot;&quot; autoplay=&quot;&quot; transition:name=&quot;media-player&quot; transition:persist /&gt;"><div></div></button></div></figure></div>
<p>As a convenient shorthand, <code>transition:persist</code> can alternatively take a transition name as a value.</p>
<div class="expressive-code"><figure class="frame has-title not-content"><figcaption class="header"><span class="title">src/pages/index.astro</span></figcaption><pre tabindex="0"><code><div class="ec-line"><div class="code"><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">video</span><span style="--0:#7FDBCA"> </span></span><span style="--0:#C5E478;--1:#3C63B3">controls</span><span style="--0:#7FDBCA;--1:#8D46B4">=</span><span style="--0:#D9F5DD;--1:#111111">""</span><span style="--0:#7FDBCA;--1:#8D46B4"> </span><span style="--0:#C5E478;--1:#3C63B3">autoplay</span><span style="--0:#7FDBCA;--1:#8D46B4">=</span><span style="--0:#D9F5DD;--1:#111111">""</span><span style="--0:#7FDBCA;--1:#8D46B4"> </span><span style="--0:#C5E478;--1:#3C63B3">transition:persist</span><mark><span style="--0:#7FDBCA;--1:#773b98">=</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#834442">media-player</span><span style="--0:#D9F5DD;--1:#111111">"</span></mark><span style="--0:#7FDBCA;--1:#8D46B4">&gt;</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="&lt;video controls=&quot;&quot; autoplay=&quot;&quot; transition:persist=&quot;media-player&quot;&gt;"><div></div></button></div></figure></div>
<div tabindex="-1" class="heading-wrapper level-h4"><h4 id="transitionpersist-props"><code dir="auto">transition:persist-props</code></h4><a class="anchor-link" href="https://docs.astro.build/en/guides/view-transitions/#transitionpersist-props"><span aria-hidden="true" class="anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span is:raw="" class="sr-only">Section titled transition:persist-props</span></a></div>
<p><span>
	<strong>Added in:</strong>
	<code>astro@4.5.0</code>
	
	
</span></p>
<p>This allows you to control whether or not an island’s props should be persisted upon navigation.</p>
<p>By default, when you add <code>transition:persist</code> to an island, the state is retained upon navigation, but your component will re-render with new props. This is useful, for example, when a component receives page-specific props such as the current page’s <code>title</code>.</p>
<p>You can override this behavior with <code>transition:persist-props</code>. Adding this directive will keep an island’s existing props (not re-render with new values) in addition to maintaining its existing state.</p>
<div tabindex="-1" class="heading-wrapper level-h3"><h3 id="built-in-animation-directives">Built-in Animation Directives</h3><a class="anchor-link" href="https://docs.astro.build/en/guides/view-transitions/#built-in-animation-directives"><span aria-hidden="true" class="anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span is:raw="" class="sr-only">Section titled Built-in Animation Directives</span></a></div>
<p>Astro comes with a few built-in animations to override the default <code>fade</code> transition. Add the <code>transition:animate</code> directive to individual elements to customize the behavior of specific transitions.</p>
<ul>
<li><code>fade</code> (default): An opinionated crossfade animation. The old content fades out and the new content fades in.</li>
<li><code>initial</code>: Opt out of Astro’s opinionated crossfade animation and use the browser’s default styling.</li>
<li><code>slide</code>: An animation where the old content slides out to the left and new content slides in from the right. On backwards navigation, the animations are the opposite.</li>
<li><code>none</code>: Disable the browser’s default animations. Use on a page’s <code>&lt;html&gt;</code> element to disable the default fade for every element on the page.</li>
</ul>
<p>Combine directives for full control over your page animation. Set a page default on the <code>&lt;html&gt;</code> element, and override on any individual elements as desired.</p>
<p>The example below produces a slide animation for the body content while disabling the browser’s default fade animation for the rest of the page:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><div class="code"><span style="--0:#809191;--1:#616671">---</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">import</span><span style="--0:#D6DEEB;--1:#403F53"> CommonHead </span><span style="--0:#C792EA;--1:#8D46B4">from</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#9B504E">../components/CommonHead.astro</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#809191;--1:#616671">---</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">html</span><span style="--0:#7FDBCA"> </span></span><span style="--0:#C5E478;--1:#3C63B3">transition:animate</span><span style="--0:#7FDBCA;--1:#8D46B4">=</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#9B504E">none</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#7FDBCA;--1:#8D46B4">&gt;</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">head</span><span style="--0:#7FDBCA">&gt;</span></span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#8D46B4">&lt;</span><span style="--0:#C5E478;--1:#3C63B3">CommonHead</span><span style="--0:#7FDBCA;--1:#8D46B4"> /&gt;</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;/</span><span style="--0:#CAECE6">head</span><span style="--0:#7FDBCA">&gt;</span></span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">body</span><span style="--0:#7FDBCA">&gt;</span></span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">header</span><span style="--0:#7FDBCA">&gt;</span></span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">      </span></span><span style="--0:#D6DEEB;--1:#403F53">...</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;/</span><span style="--0:#CAECE6">header</span><span style="--0:#7FDBCA">&gt;</span></span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#809191;--1:#616671">&lt;!-- Override your page default on a single element --&gt;</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">main</span><span style="--0:#7FDBCA"> </span></span><span style="--0:#C5E478;--1:#3C63B3">transition:animate</span><span style="--0:#7FDBCA;--1:#8D46B4">=</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#9B504E">slide</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#7FDBCA;--1:#8D46B4">&gt;</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">      </span></span><span style="--0:#D6DEEB;--1:#403F53">...</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;/</span><span style="--0:#CAECE6">main</span><span style="--0:#7FDBCA">&gt;</span></span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;/</span><span style="--0:#CAECE6">body</span><span style="--0:#7FDBCA">&gt;</span></span></div></div><div class="ec-line"><div class="code"><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;/</span><span style="--0:#CAECE6">html</span><span style="--0:#7FDBCA">&gt;</span></span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="---import CommonHead from &#39;../components/CommonHead.astro&#39;;---&lt;html transition:animate=&quot;none&quot;&gt;  &lt;head&gt;    &lt;CommonHead /&gt;  &lt;/head&gt;  &lt;body&gt;    &lt;header&gt;      ...    &lt;/header&gt;    &lt;!-- Override your page default on a single element --&gt;    &lt;main transition:animate=&quot;slide&quot;&gt;      ...    &lt;/main&gt;  &lt;/body&gt;&lt;/html&gt;"><div></div></button></div></figure></div>
<div tabindex="-1" class="heading-wrapper level-h3"><h3 id="customizing-animations">Customizing Animations</h3><a class="anchor-link" href="https://docs.astro.build/en/guides/view-transitions/#customizing-animations"><span aria-hidden="true" class="anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span is:raw="" class="sr-only">Section titled Customizing Animations</span></a></div>
<p>You can customize all aspects of a transition with any CSS animation properties.</p>
<p>To customize a built-in animation, first import the animation from <code>astro:transitions</code>, and then pass in customization options.</p>
<p>The example below customizes the duration of the built-in <code>fade</code> animation:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><div class="code"><span style="--0:#809191;--1:#616671">---</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">import</span><span style="--0:#D6DEEB;--1:#403F53"> { fade } </span><span style="--0:#C792EA;--1:#8D46B4">from</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#9B504E">astro:transitions</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#809191;--1:#616671">---</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">header</span><span style="--0:#7FDBCA"> </span></span><span style="--0:#C5E478;--1:#3C63B3">transition:animate</span><span style="--0:#7FDBCA;--1:#8D46B4">=</span><span style="--0:#DD6B68;--1:#B73936">{</span><span style="--0:#82AAFF;--1:#3C63B3">fade</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#7FDBCA;--1:#8D46B4">{ duration: </span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#9B504E">0.4s</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#7FDBCA;--1:#8D46B4"> }</span><span style="--0:#D6DEEB;--1:#403F53">)</span><span style="--0:#DD6B68;--1:#B73936">}</span><span style="--0:#7FDBCA;--1:#8D46B4">&gt;</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="---import { fade } from &#39;astro:transitions&#39;;---&lt;header transition:animate={fade({ duration: &#39;0.4s&#39; })}&gt;"><div></div></button></div></figure></div>
<p>You can also define your own animations for use with <code>transition:animate</code> by defining both the forwards and backwards behavior, as well as new and old pages, according to the following types:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">export</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">interface</span><span style="--0:#D6DEEB;--1:#403F53"> TransitionAnimation {</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">name</span><span style="--0:#7FDBCA;--1:#097174">:</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3C63B3">string</span><span style="--0:#D6DEEB;--1:#403F53">; </span><span style="--0:#809191;--1:#5E6578">// The name of the keyframe</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">delay</span><span style="--0:#7FDBCA;--1:#097174">?:</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3C63B3">number</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#097174">|</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3C63B3">string</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">duration</span><span style="--0:#7FDBCA;--1:#097174">?:</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3C63B3">number</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#097174">|</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3C63B3">string</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">easing</span><span style="--0:#7FDBCA;--1:#097174">?:</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3C63B3">string</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">fillMode</span><span style="--0:#7FDBCA;--1:#097174">?:</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3C63B3">string</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">direction</span><span style="--0:#7FDBCA;--1:#097174">?:</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3C63B3">string</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">export</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">interface</span><span style="--0:#D6DEEB;--1:#403F53"> TransitionAnimationPair {</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">old</span><span style="--0:#7FDBCA;--1:#097174">:</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#FFCB8B;--1:#111111">TransitionAnimation</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#097174">|</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#FFCB8B;--1:#111111">TransitionAnimation</span><span style="--0:#D6DEEB;--1:#403F53">[];</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">new</span><span style="--0:#7FDBCA;--1:#097174">:</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#FFCB8B;--1:#111111">TransitionAnimation</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#097174">|</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#FFCB8B;--1:#111111">TransitionAnimation</span><span style="--0:#D6DEEB;--1:#403F53">[];</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">export</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">interface</span><span style="--0:#D6DEEB;--1:#403F53"> TransitionDirectionalAnimations {</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">forwards</span><span style="--0:#7FDBCA;--1:#097174">:</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#FFCB8B;--1:#111111">TransitionAnimationPair</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">backwards</span><span style="--0:#7FDBCA;--1:#097174">:</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#FFCB8B;--1:#111111">TransitionAnimationPair</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="export interface TransitionAnimation {  name: string; // The name of the keyframe  delay?: number | string;  duration?: number | string;  easing?: string;  fillMode?: string;  direction?: string;}export interface TransitionAnimationPair {  old: TransitionAnimation | TransitionAnimation[];  new: TransitionAnimation | TransitionAnimation[];}export interface TransitionDirectionalAnimations {  forwards: TransitionAnimationPair;  backwards: TransitionAnimationPair;}"><div></div></button></div></figure></div>
<p>The following example shows all the necessary properties to define a custom <code>fade</code> animation:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><div class="code"><span style="--0:#809191;--1:#616671">---</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">const </span><span style="--0:#82AAFF;--1:#3C63B3">anim</span><span style="--0:#C792EA;--1:#8D46B4"> = {</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C792EA;--1:#8D46B4">  </span></span><span style="--0:#C792EA;--1:#8D46B4">old: {</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C792EA;--1:#8D46B4">    </span></span><span style="--0:#C792EA;--1:#8D46B4">name: </span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#9B504E">fadeIn</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#C792EA;--1:#8D46B4">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C792EA;--1:#8D46B4">    </span></span><span style="--0:#C792EA;--1:#8D46B4">duration: </span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#9B504E">0.2s</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#C792EA;--1:#8D46B4">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C792EA;--1:#8D46B4">    </span></span><span style="--0:#C792EA;--1:#8D46B4">easing: </span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#9B504E">linear</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#C792EA;--1:#8D46B4">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C792EA;--1:#8D46B4">    </span></span><span style="--0:#C792EA;--1:#8D46B4">fillMode: </span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#9B504E">forwards</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#C792EA;--1:#8D46B4">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C792EA;--1:#8D46B4">  </span></span><span style="--0:#C792EA;--1:#8D46B4">},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C792EA;--1:#8D46B4">  </span></span><span style="--0:#C792EA;--1:#8D46B4">new: {</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C792EA;--1:#8D46B4">    </span></span><span style="--0:#C792EA;--1:#8D46B4">name: </span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#9B504E">fadeOut</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#C792EA;--1:#8D46B4">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C792EA;--1:#8D46B4">    </span></span><span style="--0:#C792EA;--1:#8D46B4">duration: </span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#9B504E">0.3s</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#C792EA;--1:#8D46B4">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C792EA;--1:#8D46B4">    </span></span><span style="--0:#C792EA;--1:#8D46B4">easing: </span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#9B504E">linear</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#C792EA;--1:#8D46B4">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C792EA;--1:#8D46B4">    </span></span><span style="--0:#C792EA;--1:#8D46B4">fillMode: </span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#9B504E">backwards</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#C792EA;--1:#8D46B4">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C792EA;--1:#8D46B4">  </span></span><span style="--0:#C792EA;--1:#8D46B4">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">}</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">const </span><span style="--0:#82AAFF;--1:#3C63B3">myFade</span><span style="--0:#C792EA;--1:#8D46B4"> = {</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C792EA;--1:#8D46B4">  </span></span><span style="--0:#C792EA;--1:#8D46B4">forwards: </span><span style="--0:#D6DEEB;--1:#403F53">anim</span><span style="--0:#C792EA;--1:#8D46B4">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C792EA;--1:#8D46B4">  </span></span><span style="--0:#C792EA;--1:#8D46B4">backwards: </span><span style="--0:#D6DEEB;--1:#403F53">anim</span><span style="--0:#C792EA;--1:#8D46B4">,</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">}</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#809191;--1:#616671">---</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">header</span><span style="--0:#7FDBCA"> </span></span><span style="--0:#C5E478;--1:#3C63B3">transition:animate</span><span style="--0:#7FDBCA;--1:#8D46B4">=</span><span style="--0:#DD6B68;--1:#B73936">{</span><span style="--0:#D6DEEB;--1:#403F53">myFade</span><span style="--0:#DD6B68;--1:#B73936">}</span><span style="--0:#7FDBCA;--1:#8D46B4">&gt;</span><span style="--0:#D6DEEB;--1:#403F53"> ... </span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;/</span><span style="--0:#CAECE6">header</span><span style="--0:#7FDBCA">&gt;</span></span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="---const anim = {  old: {    name: &#39;fadeIn&#39;,    duration: &#39;0.2s&#39;,    easing: &#39;linear&#39;,    fillMode: &#39;forwards&#39;,  },  new: {    name: &#39;fadeOut&#39;,    duration: &#39;0.3s&#39;,    easing: &#39;linear&#39;,    fillMode: &#39;backwards&#39;,  }};const myFade = {  forwards: anim,  backwards: anim,};---&lt;header transition:animate={myFade}&gt; ... &lt;/header&gt;"><div></div></button></div></figure></div>
<div tabindex="-1" class="heading-wrapper level-h2"><h2 id="router-control">Router control</h2><a class="anchor-link" href="https://docs.astro.build/en/guides/view-transitions/#router-control"><span aria-hidden="true" class="anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span is:raw="" class="sr-only">Section titled Router control</span></a></div>
<p>The <code>&lt;ViewTransitions /&gt;</code> router handles navigation by listening to:</p>
<ul>
<li>Clicks on <code>&lt;a&gt;</code> elements.</li>
<li>Backwards and forwards navigation events.</li>
</ul>
<p>The following options allow you to further control when navigation occurs within the router:</p>
<ul>
<li><code>data-astro-reload</code>: an <code>&lt;a&gt;</code> tag attribute to <a href="https://docs.astro.build/en/guides/view-transitions/#preventing-client-side-navigation">force a full-page navigation</a></li>
<li><code>data-astro-history="auto | push | replace"</code>: an <code>&lt;a&gt;</code> tag attribute to <a href="https://docs.astro.build/en/guides/view-transitions/#replace-entries-in-the-browser-history">control the browser’s history</a></li>
<li><code>navigate(href, options)</code>: a method available to any client script or client component to <a href="https://docs.astro.build/en/guides/view-transitions/#trigger-navigation">trigger navigation</a></li>
</ul>
<div tabindex="-1" class="heading-wrapper level-h3"><h3 id="preventing-client-side-navigation">Preventing client-side navigation</h3><a class="anchor-link" href="https://docs.astro.build/en/guides/view-transitions/#preventing-client-side-navigation"><span aria-hidden="true" class="anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span is:raw="" class="sr-only">Section titled Preventing client-side navigation</span></a></div>
<p>There are some cases where you cannot navigate via client-side routing since both pages involved must use the <code>&lt;ViewTransitions /&gt;</code> router to prevent a full-page reload. You may also not want client-side routing on every navigation change and would prefer a traditional page navigation on select routes instead.</p>
<p>You can opt out of client-side routing on a per-link basis by adding the <code>data-astro-reload</code> attribute to any <code>&lt;a&gt;</code> or <code>&lt;form&gt;</code> tag. This attribute will override any existing <code>&lt;ViewTransitions /&gt;</code> component and instead trigger a browser refresh during navigation.</p>
<p>The following example shows preventing client-side routing when navigating to an article from the home page only. This still allows you to have animation on shared elements, such as a hero image, when navigating to the same page from an article listing page:</p>
<div class="expressive-code"><figure class="frame has-title not-content"><figcaption class="header"><span class="title">src/pages/index.astro</span></figcaption><pre tabindex="0"><code><div class="ec-line"><div class="code"><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">a</span><span style="--0:#7FDBCA"> </span></span><span style="--0:#C5E478;--1:#3C63B3">href</span><span style="--0:#7FDBCA;--1:#8D46B4">=</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#9B504E">/articles/emperor-penguins</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#7FDBCA;--1:#8D46B4"> </span><span style="--0:#C5E478;--1:#3C63B3">data-astro-reload</span><span style="--0:#7FDBCA;--1:#8D46B4">&gt;</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="&lt;a href=&quot;/articles/emperor-penguins&quot; data-astro-reload&gt;"><div></div></button></div></figure></div>
<div class="expressive-code"><figure class="frame has-title not-content"><figcaption class="header"><span class="title">src/pages/articles.astro</span></figcaption><pre tabindex="0"><code><div class="ec-line"><div class="code"><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">a</span><span style="--0:#7FDBCA"> </span></span><span style="--0:#C5E478;--1:#3C63B3">href</span><span style="--0:#7FDBCA;--1:#8D46B4">=</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#9B504E">/articles/emperor-penguins</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#7FDBCA;--1:#8D46B4">&gt;</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="&lt;a href=&quot;/articles/emperor-penguins&quot;&gt;"><div></div></button></div></figure></div>
<p>Links with the <code>data-astro-reload</code> attribute will be ignored by the router and a full-page navigation will occur.</p>
<div tabindex="-1" class="heading-wrapper level-h3"><h3 id="trigger-navigation">Trigger navigation</h3><a class="anchor-link" href="https://docs.astro.build/en/guides/view-transitions/#trigger-navigation"><span aria-hidden="true" class="anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span is:raw="" class="sr-only">Section titled Trigger navigation</span></a></div>
<p>You can also trigger client-side navigation via events not normally listened to by the <code>&lt;ViewTransitions /&gt;</code> router using <code>navigate</code>. This function from the <code>astro:transitions/client</code> module can be used in scripts, and in framework components that are hydrated with a <a href="https://docs.astro.build/en/reference/directives-reference/#client-directives">client directive</a>.</p>
<p>The following example shows an Astro component that navigates a visitor to another page they select from a menu:</p>
<div class="expressive-code"><figure class="frame has-title not-content"><figcaption class="header"><span class="title">src/components/Form.astro</span></figcaption><pre tabindex="0"><code><div class="ec-line"><div class="code"><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">script</span><span style="--0:#7FDBCA">&gt;</span></span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#C792EA;--1:#8D46B4">import</span><span style="--0:#D6DEEB;--1:#403F53"> { navigate } </span><span style="--0:#C792EA;--1:#8D46B4">from</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#9B504E">astro:transitions/client</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#809191;--1:#5E6578">// Navigate to the selected option automatically.</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#7FDBCA;--1:#097174">document</span><span style="--0:#C792EA;--1:#8D46B4">.</span><span style="--0:#82AAFF;--1:#3C63B3">querySelector</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#9B504E">select</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#D6DEEB;--1:#403F53">)</span><span style="--0:#C792EA;--1:#8D46B4">.</span><span style="--0:#82AAFF;--1:#3C63B3">onchange</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#D7DBE0;--1:#403F53">ev</span><span style="--0:#D9F5DD;--1:#111111">)</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">=&gt;</span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C792EA;--1:#8D46B4">let </span><span style="--0:#D7DBE0;--1:#403F53">href</span><span style="--0:#C792EA;--1:#8D46B4"> = </span><span style="--0:#7FDBCA;--1:#097174">ev</span><span style="--0:#C792EA;--1:#8D46B4">.</span><span style="--0:#FAF39F;--1:#111111">target</span><span style="--0:#C792EA;--1:#8D46B4">.</span><span style="--0:#7FDBCA;--1:#097174">value</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#82AAFF;--1:#3C63B3">navigate</span><span style="--1:#403F53"><span style="--0:#D6DEEB">(</span><span style="--0:#D7DBE0">href</span><span style="--0:#D6DEEB">);</span></span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">};</span></div></div><div class="ec-line"><div class="code"><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;/</span><span style="--0:#CAECE6">script</span><span style="--0:#7FDBCA">&gt;</span></span></div></div><div class="ec-line"><div class="code"><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">select</span><span style="--0:#7FDBCA">&gt;</span></span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">option</span><span style="--0:#7FDBCA"> </span></span><span style="--0:#C5E478;--1:#3C63B3">value</span><span style="--0:#7FDBCA;--1:#8D46B4">=</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#9B504E">/play</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#7FDBCA;--1:#8D46B4">&gt;</span><span style="--0:#D6DEEB;--1:#403F53">Play</span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;/</span><span style="--0:#CAECE6">option</span><span style="--0:#7FDBCA">&gt;</span></span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">option</span><span style="--0:#7FDBCA"> </span></span><span style="--0:#C5E478;--1:#3C63B3">value</span><span style="--0:#7FDBCA;--1:#8D46B4">=</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#9B504E">/blog</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#7FDBCA;--1:#8D46B4">&gt;</span><span style="--0:#D6DEEB;--1:#403F53">Blog</span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;/</span><span style="--0:#CAECE6">option</span><span style="--0:#7FDBCA">&gt;</span></span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">option</span><span style="--0:#7FDBCA"> </span></span><span style="--0:#C5E478;--1:#3C63B3">value</span><span style="--0:#7FDBCA;--1:#8D46B4">=</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#9B504E">/about</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#7FDBCA;--1:#8D46B4">&gt;</span><span style="--0:#D6DEEB;--1:#403F53">About</span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;/</span><span style="--0:#CAECE6">option</span><span style="--0:#7FDBCA">&gt;</span></span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">option</span><span style="--0:#7FDBCA"> </span></span><span style="--0:#C5E478;--1:#3C63B3">value</span><span style="--0:#7FDBCA;--1:#8D46B4">=</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#9B504E">/contact</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#7FDBCA;--1:#8D46B4">&gt;</span><span style="--0:#D6DEEB;--1:#403F53">Contact</span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;/</span><span style="--0:#CAECE6">option</span><span style="--0:#7FDBCA">&gt;</span></span></div></div><div class="ec-line"><div class="code"><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;/</span><span style="--0:#CAECE6">select</span><span style="--0:#7FDBCA">&gt;</span></span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="&lt;script&gt;  import { navigate } from &#39;astro:transitions/client&#39;;  // Navigate to the selected option automatically.  document.querySelector(&#39;select&#39;).onchange = (ev) =&gt; {    let href = ev.target.value;    navigate(href);  };&lt;/script&gt;&lt;select&gt;  &lt;option value=&quot;/play&quot;&gt;Play&lt;/option&gt;  &lt;option value=&quot;/blog&quot;&gt;Blog&lt;/option&gt;  &lt;option value=&quot;/about&quot;&gt;About&lt;/option&gt;  &lt;option value=&quot;/contact&quot;&gt;Contact&lt;/option&gt;&lt;/select&gt;"><div></div></button></div></figure></div>
<div class="expressive-code"><figure class="frame has-title not-content"><figcaption class="header"><span class="title">src/pages/index.astro</span></figcaption><pre tabindex="0"><code><div class="ec-line"><div class="code"><span style="--0:#809191;--1:#616671">---</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">import</span><span style="--0:#D6DEEB;--1:#403F53"> Form </span><span style="--0:#C792EA;--1:#8D46B4">from</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#9B504E">../components/Form.astro</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">import</span><span style="--0:#D6DEEB;--1:#403F53"> { ViewTransitions } </span><span style="--0:#C792EA;--1:#8D46B4">from</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#9B504E">astro:transitions</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#809191;--1:#616671">---</span></div></div><div class="ec-line"><div class="code"><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">html</span><span style="--0:#7FDBCA">&gt;</span></span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">head</span><span style="--0:#7FDBCA">&gt;</span></span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#8D46B4">&lt;</span><span style="--0:#C5E478;--1:#3C63B3">ViewTransitions</span><span style="--0:#7FDBCA;--1:#8D46B4"> /&gt;</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;/</span><span style="--0:#CAECE6">head</span><span style="--0:#7FDBCA">&gt;</span></span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">body</span><span style="--0:#7FDBCA">&gt;</span></span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#8D46B4">&lt;</span><span style="--0:#C5E478;--1:#3C63B3">Form</span><span style="--0:#7FDBCA;--1:#8D46B4"> /&gt;</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;/</span><span style="--0:#CAECE6">body</span><span style="--0:#7FDBCA">&gt;</span></span></div></div><div class="ec-line"><div class="code"><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;/</span><span style="--0:#CAECE6">html</span><span style="--0:#7FDBCA">&gt;</span></span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="---import Form from &quot;../components/Form.astro&quot;;import { ViewTransitions } from &quot;astro:transitions&quot;;---&lt;html&gt;  &lt;head&gt;    &lt;ViewTransitions /&gt;  &lt;/head&gt;  &lt;body&gt;    &lt;Form /&gt;  &lt;/body&gt;&lt;/html&gt;"><div></div></button></div></figure></div>
<p>The following example implements the same using <code>navigate()</code> in a React <code>&lt;Form /&gt;</code> component:</p>
<div class="expressive-code"><figure class="frame has-title not-content"><figcaption class="header"><span class="title">src/components/Form.jsx</span></figcaption><pre tabindex="0"><code><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">import</span><span style="--0:#D6DEEB;--1:#403F53"> { navigate } </span><span style="--0:#C792EA;--1:#8D46B4">from</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#9B504E">astro:transitions/client</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">export</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">default</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">function</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3C63B3">Form</span><span style="--0:#D9F5DD;--1:#111111">()</span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#C792EA;--1:#8D46B4">return</span><span style="--0:#D6DEEB;--1:#403F53"> (</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">select</span><span style="--0:#7FDBCA"> </span></span><span style="--0:#C5E478;--1:#3C63B3">onChange</span><span style="--0:#C792EA;--1:#8D46B4">=</span><span style="--0:#DD6B68;--1:#B73936">{</span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#D7DBE0;--1:#403F53">e</span><span style="--0:#D9F5DD;--1:#111111">)</span><span style="--1:#8D46B4"><span style="--0:#7FDBCA"> </span><span style="--0:#C792EA">=&gt;</span><span style="--0:#7FDBCA"> </span></span><span style="--0:#82AAFF;--1:#3C63B3">navigate</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#7FDBCA;--1:#097174">e</span><span style="--0:#C792EA;--1:#8D46B4">.</span><span style="--0:#FAF39F;--1:#111111">target</span><span style="--0:#C792EA;--1:#8D46B4">.</span><span style="--0:#7FDBCA;--1:#097174">value</span><span style="--0:#D6DEEB;--1:#403F53">)</span><span style="--0:#DD6B68;--1:#B73936">}</span><span style="--0:#7FDBCA;--1:#8D46B4">&gt;</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">option</span><span style="--0:#7FDBCA"> </span></span><span style="--0:#C5E478;--1:#3C63B3">value</span><span style="--0:#C792EA;--1:#8D46B4">=</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#9B504E">/play</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#7FDBCA;--1:#8D46B4">&gt;</span><span style="--0:#D6DEEB;--1:#403F53">Play</span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;/</span><span style="--0:#CAECE6">option</span><span style="--0:#7FDBCA">&gt;</span></span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">option</span><span style="--0:#7FDBCA"> </span></span><span style="--0:#C5E478;--1:#3C63B3">value</span><span style="--0:#C792EA;--1:#8D46B4">=</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#9B504E">/blog</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#7FDBCA;--1:#8D46B4">&gt;</span><span style="--0:#D6DEEB;--1:#403F53">Blog</span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;/</span><span style="--0:#CAECE6">option</span><span style="--0:#7FDBCA">&gt;</span></span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">option</span><span style="--0:#7FDBCA"> </span></span><span style="--0:#C5E478;--1:#3C63B3">value</span><span style="--0:#C792EA;--1:#8D46B4">=</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#9B504E">/about</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#7FDBCA;--1:#8D46B4">&gt;</span><span style="--0:#D6DEEB;--1:#403F53">About</span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;/</span><span style="--0:#CAECE6">option</span><span style="--0:#7FDBCA">&gt;</span></span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">option</span><span style="--0:#7FDBCA"> </span></span><span style="--0:#C5E478;--1:#3C63B3">value</span><span style="--0:#C792EA;--1:#8D46B4">=</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#9B504E">/contact</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#7FDBCA;--1:#8D46B4">&gt;</span><span style="--0:#D6DEEB;--1:#403F53">Contact</span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;/</span><span style="--0:#CAECE6">option</span><span style="--0:#7FDBCA">&gt;</span></span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;/</span><span style="--0:#CAECE6">select</span><span style="--0:#7FDBCA">&gt;</span></span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">);</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="import { navigate } from &quot;astro:transitions/client&quot;;export default function Form() {  return (    &lt;select onChange={(e) =&gt; navigate(e.target.value)}&gt;      &lt;option value=&quot;/play&quot;&gt;Play&lt;/option&gt;      &lt;option value=&quot;/blog&quot;&gt;Blog&lt;/option&gt;      &lt;option value=&quot;/about&quot;&gt;About&lt;/option&gt;      &lt;option value=&quot;/contact&quot;&gt;Contact&lt;/option&gt;    &lt;/select&gt;  );}"><div></div></button></div></figure></div>
<p>The <code>&lt;Form /&gt;</code> component can then be rendered on an Astro page that uses the <code>&lt;ViewTransitions /&gt;</code> router, with a client directive:</p>
<div class="expressive-code"><figure class="frame has-title not-content"><figcaption class="header"><span class="title">src/pages/index.astro</span></figcaption><pre tabindex="0"><code><div class="ec-line"><div class="code"><span style="--0:#809191;--1:#616671">---</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">import</span><span style="--0:#D6DEEB;--1:#403F53"> Form </span><span style="--0:#C792EA;--1:#8D46B4">from</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#9B504E">../components/Form.jsx</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">import</span><span style="--0:#D6DEEB;--1:#403F53"> { ViewTransitions } </span><span style="--0:#C792EA;--1:#8D46B4">from</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#9B504E">astro:transitions</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#809191;--1:#616671">---</span></div></div><div class="ec-line"><div class="code"><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">html</span><span style="--0:#7FDBCA">&gt;</span></span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">head</span><span style="--0:#7FDBCA">&gt;</span></span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#8D46B4">&lt;</span><span style="--0:#C5E478;--1:#3C63B3">ViewTransitions</span><span style="--0:#7FDBCA;--1:#8D46B4"> /&gt;</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;/</span><span style="--0:#CAECE6">head</span><span style="--0:#7FDBCA">&gt;</span></span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">body</span><span style="--0:#7FDBCA">&gt;</span></span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#8D46B4">&lt;</span><span style="--0:#C5E478;--1:#3C63B3">Form</span><span style="--0:#7FDBCA;--1:#8D46B4"> </span><span style="--0:#C5E478;--1:#3C63B3">client:load</span><span style="--0:#7FDBCA;--1:#8D46B4"> /&gt;</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;/</span><span style="--0:#CAECE6">body</span><span style="--0:#7FDBCA">&gt;</span></span></div></div><div class="ec-line"><div class="code"><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;/</span><span style="--0:#CAECE6">html</span><span style="--0:#7FDBCA">&gt;</span></span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="---import Form from &quot;../components/Form.jsx&quot;;import { ViewTransitions } from &quot;astro:transitions&quot;;---&lt;html&gt;  &lt;head&gt;    &lt;ViewTransitions /&gt;  &lt;/head&gt;  &lt;body&gt;    &lt;Form client:load /&gt;  &lt;/body&gt;&lt;/html&gt;"><div></div></button></div></figure></div>
<p>The <code>navigate</code> method takes these arguments:</p>
<ul>
<li><code>href</code> (required) - The new page to navigate to.</li>
<li><code>options</code> - An optional object with the following properties:
<ul>
<li><code>history</code>: <code>'push'</code> | <code>'replace'</code> | <code>'auto'</code>
<ul>
<li><code>'push'</code>: the router will use <code>history.pushState</code> to create a new entry in the browser history.</li>
<li><code>'replace'</code>: the router will use <code>history.replaceState</code> to update the URL without adding a new entry into navigation.</li>
<li><code>'auto'</code> (default): the router will attempt <code>history.pushState</code>, but if the URL is not one that can be transitioned to, the current URL will remain with no changes to the browser history.</li>
</ul>
</li>
<li><code>formData</code>: A FormData object for <code>POST</code> requests.</li>
</ul>
</li>
</ul>
<p>For backward and forward navigation through the browser history, you can combine <code>navigate()</code> with the built-in <code>history.back()</code>, <code>history.forward()</code> and <code>history.go()</code> functions of the browser. If <code>navigate()</code> is called during the server-side render of your component, it has no effect.</p>
<div tabindex="-1" class="heading-wrapper level-h3"><h3 id="replace-entries-in-the-browser-history">Replace entries in the browser history</h3><a class="anchor-link" href="https://docs.astro.build/en/guides/view-transitions/#replace-entries-in-the-browser-history"><span aria-hidden="true" class="anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span is:raw="" class="sr-only">Section titled Replace entries in the browser history</span></a></div>
<p>Normally, each time you navigate, a new entry is written to the browser’s history. This allows navigation between pages using the browser’s <code>back</code> and <code>forward</code> buttons.</p>
<p>The <code>&lt;ViewTransitions /&gt;</code> router allows you to overwrite history entries by adding the <code>data-astro-history</code> attribute to any individual <code>&lt;a&gt;</code> tag.</p>
<p>The <code>data-astro-history</code> attribute can be set to the same three values as the <a href="https://docs.astro.build/en/guides/view-transitions/#trigger-navigation"><code>history</code> option of the <code>navigate()</code> function</a>:</p>
<p><code>data-astro-history</code>: <code>'push'</code> | <code>'replace'</code> | <code>'auto'</code></p>
<ul>
<li><code>'push'</code>: the router will use <code>history.pushState</code> to create a new entry in the browser history.</li>
<li><code>'replace'</code>: the router will use <code>history.replaceState</code> to update the URL without adding a new entry into navigation.</li>
<li><code>'auto'</code> (default): the router will attempt <code>history.pushState</code>, but if the URL is not one that can be transitioned to, the current URL will remain with no changes to the browser history.</li>
</ul>
<p>The following example navigates to the <code>/main</code> page but does not add a new entry to the browsing history. Instead, it reuses the current entry in the history (<code>/confirmation</code>) and overwrites it.</p>
<div class="expressive-code"><figure class="frame has-title not-content"><figcaption class="header"><span class="title">src/pages/confirmation.astro</span></figcaption><pre tabindex="0"><code><div class="ec-line"><div class="code"><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">a</span><span style="--0:#7FDBCA"> </span></span><span style="--0:#C5E478;--1:#3C63B3">href</span><span style="--0:#7FDBCA;--1:#8D46B4">=</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#9B504E">/main</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#7FDBCA;--1:#8D46B4"> </span><span style="--0:#C5E478;--1:#3C63B3">data-astro-history</span><span style="--0:#7FDBCA;--1:#8D46B4">=</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#9B504E">replace</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#7FDBCA;--1:#8D46B4">&gt;</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="&lt;a href=&quot;/main&quot; data-astro-history=&quot;replace&quot;&gt;"><div></div></button></div></figure></div>
<p>This has the effect that if you go back from the <code>/main</code> page, the browser will not display the <code>/confirmation</code> page, but the page before it.</p>
<div tabindex="-1" class="heading-wrapper level-h3"><h3 id="transitions-with-forms">Transitions with forms</h3><a class="anchor-link" href="https://docs.astro.build/en/guides/view-transitions/#transitions-with-forms"><span aria-hidden="true" class="anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span is:raw="" class="sr-only">Section titled Transitions with forms</span></a></div>
<p><span>
	<strong>Added in:</strong>
	<code>astro@4.0.0</code>
	
	
</span></p>
<p>The <code>&lt;ViewTransitions /&gt;</code> router will trigger in-page transitions from <code>&lt;form&gt;</code> elements, supporting both <code>GET</code> and <code>POST</code> requests.</p>
<p>By default, Astro submits your form data as <code>multipart/form-data</code> when your <code>method</code> is set to <code>POST</code>. If you want to match the default behavior of web browsers, use the <code>enctype</code> attribute to submit your data encoded as <code>application/x-www-form-urlencoded</code>:</p>
<div class="expressive-code"><figure class="frame has-title not-content"><figcaption class="header"><span class="title">src/components/Form.astro</span></figcaption><pre tabindex="0"><code><div class="ec-line"><div class="code"><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">form</span><span style="--0:#7FDBCA"> </span></span><span style="--0:#C5E478;--1:#3C63B3">action</span><span style="--0:#7FDBCA;--1:#8D46B4">=</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#9B504E">/contact</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#7FDBCA;--1:#8D46B4"> </span><span style="--0:#C5E478;--1:#3C63B3">method</span><span style="--0:#7FDBCA;--1:#8D46B4">=</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#9B504E">POST</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#7FDBCA;--1:#8D46B4"> </span><span style="--0:#C5E478;--1:#3C63B3">enctype</span><span style="--0:#7FDBCA;--1:#8D46B4">=</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#9B504E">application/x-www-form-urlencoded</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#7FDBCA;--1:#8D46B4">&gt;</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#809191;--1:#616671">&lt;!-- --&gt;</span></div></div><div class="ec-line"><div class="code"><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;/</span><span style="--0:#CAECE6">form</span><span style="--0:#7FDBCA">&gt;</span></span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="&lt;form action=&quot;/contact&quot; method=&quot;POST&quot; enctype=&quot;application/x-www-form-urlencoded&quot;&gt;  &lt;!-- --&gt;&lt;/form&gt;"><div></div></button></div></figure></div>
<p>You can opt out of router transitions on any individual form using the <code>data-astro-reload</code> attribute:</p>
<div class="expressive-code"><figure class="frame has-title not-content"><figcaption class="header"><span class="title">src/components/Form.astro</span></figcaption><pre tabindex="0"><code><div class="ec-line"><div class="code"><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">form</span><span style="--0:#7FDBCA"> </span></span><span style="--0:#C5E478;--1:#3C63B3">action</span><span style="--0:#7FDBCA;--1:#8D46B4">=</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#9B504E">/contact</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#7FDBCA;--1:#8D46B4"> </span><span style="--0:#C5E478;--1:#3C63B3">data-astro-reload</span><span style="--0:#7FDBCA;--1:#8D46B4">&gt;</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#809191;--1:#616671">&lt;!-- --&gt;</span></div></div><div class="ec-line"><div class="code"><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;/</span><span style="--0:#CAECE6">form</span><span style="--0:#7FDBCA">&gt;</span></span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="&lt;form action=&quot;/contact&quot; data-astro-reload&gt;  &lt;!-- --&gt;&lt;/form&gt;"><div></div></button></div></figure></div>
<div tabindex="-1" class="heading-wrapper level-h2"><h2 id="fallback-control">Fallback control</h2><a class="anchor-link" href="https://docs.astro.build/en/guides/view-transitions/#fallback-control"><span aria-hidden="true" class="anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span is:raw="" class="sr-only">Section titled Fallback control</span></a></div>
<p>The <code>&lt;ViewTransitions /&gt;</code> router works best in browsers that support View Transitions (i.e. Chromium browsers), but also includes default fallback support for other browsers. Even if the browser does not support the View Transitions API, Astro will still provide in-browser navigation using one of the fallback options for a comparable experience.</p>
<p>You can override Astro’s default fallback support by adding a <code>fallback</code> property on the <code>&lt;ViewTransitions /&gt;</code> component and setting it to <code>swap</code> or <code>none</code>:</p>
<ul>
<li><code>animate</code> (default, recommended) - Astro will simulate view transitions using custom attributes before updating page content.</li>
<li><code>swap</code> - Astro will not attempt to animate the page. Instead, the old page will be immediately replaced by the new one.</li>
<li><code>none</code> - Astro will not do any animated page transitions at all. Instead, you will get full page navigation in non-supporting browsers.</li>
</ul>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><div class="code"><span style="--0:#809191;--1:#616671">---</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">import</span><span style="--0:#D6DEEB;--1:#403F53"> { ViewTransitions } </span><span style="--0:#C792EA;--1:#8D46B4">from</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#9B504E">astro:transitions</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#809191;--1:#616671">---</span></div></div><div class="ec-line"><div class="code"><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">title</span><span style="--0:#7FDBCA">&gt;</span></span><span style="--0:#D6DEEB;--1:#403F53">My site</span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;/</span><span style="--0:#CAECE6">title</span><span style="--0:#7FDBCA">&gt;</span></span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#7FDBCA;--1:#8D46B4">&lt;</span><span style="--0:#C5E478;--1:#3C63B3">ViewTransitions</span><span style="--0:#7FDBCA;--1:#8D46B4"> </span><span style="--0:#C5E478;--1:#3C63B3">fallback</span><span style="--0:#7FDBCA;--1:#8D46B4">=</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#9B504E">swap</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#7FDBCA;--1:#8D46B4"> /&gt;</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="---import { ViewTransitions } from &#39;astro:transitions&#39;;---&lt;title&gt;My site&lt;/title&gt;&lt;ViewTransitions fallback=&quot;swap&quot; /&gt;"><div></div></button></div></figure></div>
<aside aria-label="Known limitations" class="starlight-aside starlight-aside--note"><p class="starlight-aside__title" aria-hidden="true"><svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor" class="starlight-aside__icon"><path d="M12 11C11.7348 11 11.4804 11.1054 11.2929 11.2929C11.1054 11.4804 11 11.7348 11 12V16C11 16.2652 11.1054 16.5196 11.2929 16.7071C11.4804 16.8946 11.7348 17 12 17C12.2652 17 12.5196 16.8946 12.7071 16.7071C12.8946 16.5196 13 16.2652 13 16V12C13 11.7348 12.8946 11.4804 12.7071 11.2929C12.5196 11.1054 12.2652 11 12 11ZM12.38 7.08C12.1365 6.97998 11.8635 6.97998 11.62 7.08C11.4973 7.12759 11.3851 7.19896 11.29 7.29C11.2017 7.3872 11.1306 7.49882 11.08 7.62C11.024 7.73868 10.9966 7.86882 11 8C10.9992 8.13161 11.0245 8.26207 11.0742 8.38391C11.124 8.50574 11.1973 8.61656 11.29 8.71C11.3872 8.79833 11.4988 8.86936 11.62 8.92C11.7715 8.98224 11.936 9.00632 12.099 8.99011C12.2619 8.97391 12.4184 8.91792 12.5547 8.82707C12.691 8.73622 12.8029 8.61328 12.8805 8.46907C12.9582 8.32486 12.9992 8.16378 13 8C12.9963 7.73523 12.8927 7.48163 12.71 7.29C12.6149 7.19896 12.5028 7.12759 12.38 7.08ZM12 2C10.0222 2 8.08879 2.58649 6.4443 3.6853C4.79981 4.78412 3.51809 6.3459 2.76121 8.17317C2.00433 10.0004 1.8063 12.0111 2.19215 13.9509C2.578 15.8907 3.53041 17.6725 4.92894 19.0711C6.32746 20.4696 8.10929 21.422 10.0491 21.8079C11.9889 22.1937 13.9996 21.9957 15.8268 21.2388C17.6541 20.4819 19.2159 19.2002 20.3147 17.5557C21.4135 15.9112 22 13.9778 22 12C22 10.6868 21.7413 9.38642 21.2388 8.17317C20.7363 6.95991 19.9997 5.85752 19.0711 4.92893C18.1425 4.00035 17.0401 3.26375 15.8268 2.7612C14.6136 2.25866 13.3132 2 12 2ZM12 20C10.4178 20 8.87104 19.5308 7.55544 18.6518C6.23985 17.7727 5.21447 16.5233 4.60897 15.0615C4.00347 13.5997 3.84504 11.9911 4.15372 10.4393C4.4624 8.88743 5.22433 7.46197 6.34315 6.34315C7.46197 5.22433 8.88743 4.4624 10.4393 4.15372C11.9911 3.84504 13.5997 4.00346 15.0615 4.60896C16.5233 5.21447 17.7727 6.23984 18.6518 7.55544C19.5308 8.87103 20 10.4177 20 12C20 14.1217 19.1572 16.1566 17.6569 17.6569C16.1566 19.1571 14.1217 20 12 20Z"></path></svg>Known limitations</p><section class="starlight-aside__content"><p>The <code>initial</code> browser animation is not simulated by Astro. So any element using this animation will not currently be animated.</p></section></aside>
<div tabindex="-1" class="heading-wrapper level-h2"><h2 id="client-side-navigation-process">Client-side navigation process</h2><a class="anchor-link" href="https://docs.astro.build/en/guides/view-transitions/#client-side-navigation-process"><span aria-hidden="true" class="anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span is:raw="" class="sr-only">Section titled Client-side navigation process</span></a></div>
<p>When using the <code>&lt;ViewTransitions /&gt;</code> router, the following steps occur to produce Astro’s client-side navigation:</p>
<ol role="list" class="sl-steps">
<li>
<p>A visitor to your site triggers navigation by any of the following actions:</p>
<ul>
<li>Clicking an <code>&lt;a&gt;</code> tag linking internally to another page on your site.</li>
<li>Clicking the back button.</li>
<li>Clicking the forward button.</li>
</ul>
</li>
<li>
<p>The router starts fetching the next page.</p>
</li>
<li>
<p>The router adds the <code>data-astro-transition</code> attribute to the HTML element with a value of <code>'forward'</code> or <code>'back'</code> as appropriate.</p>
</li>
<li>
<p>The router calls <code>document.startViewTransition</code>. This triggers the browser’s own <a href="https://developer.mozilla.org/en-US/docs/Web/API/View_Transitions_API#the_view_transition_process">view transition process</a>. Importantly, the browser screenshots the current state of the page.</p>
</li>
<li>
<p>Inside the <code>startViewTransition</code> callback, the router performs a <strong>swap</strong>, which consists of the following sequence of events:</p>
<ul>
<li>
<p>The contents of the <code>&lt;head&gt;</code> are swapped out, with some elements kept:</p>
<ul>
<li>Stylesheet DOM nodes are left in if they exist on the new page, to prevent FOUC.</li>
<li>Scripts are left in if they exist on the new page.</li>
<li>Any other head elements with <code>transition:persist</code> are left in if there is a corresponding element in the new page.</li>
</ul>
</li>
<li>
<p>The <code>&lt;body&gt;</code> is completely replaced with the new page’s body.</p>
</li>
<li>
<p>Elements marked <code>transition:persist</code> are moved over to the new DOM if they exist on the new page.</p>
</li>
<li>
<p>Scroll position is restored if necessary.</p>
</li>
<li>
<p>The <code>astro:after-swap</code> event is triggered on the <code>document</code>. This is the end of the <strong>swap</strong> process.</p>
</li>
</ul>
</li>
<li>
<p>The router waits for any new stylesheets to load before resolving the transition.</p>
</li>
<li>
<p>The router executes any new scripts added to the page.</p>
</li>
<li>
<p>The <code>astro:page-load</code> event fires. This is the end of the navigation process.</p>
</li>
</ol>


<div tabindex="-1" class="heading-wrapper level-h2"><h2 id="script-behavior-with-view-transitions">Script behavior with view transitions</h2><a class="anchor-link" href="https://docs.astro.build/en/guides/view-transitions/#script-behavior-with-view-transitions"><span aria-hidden="true" class="anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span is:raw="" class="sr-only">Section titled Script behavior with view transitions</span></a></div>
<p>When you add view transitions to an existing Astro project, some of your scripts may no longer re-run after page navigation like they did with full-page browser refreshes. Use the following information to ensure that your scripts execute as expected.</p>
<div tabindex="-1" class="heading-wrapper level-h3"><h3 id="script-order">Script order</h3><a class="anchor-link" href="https://docs.astro.build/en/guides/view-transitions/#script-order"><span aria-hidden="true" class="anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span is:raw="" class="sr-only">Section titled Script order</span></a></div>
<p>When navigating between pages with the <code>&lt;ViewTransitions /&gt;</code> component, scripts are run in sequential order to match browser behavior.</p>
<div tabindex="-1" class="heading-wrapper level-h3"><h3 id="script-re-execution">Script re-execution</h3><a class="anchor-link" href="https://docs.astro.build/en/guides/view-transitions/#script-re-execution"><span aria-hidden="true" class="anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span is:raw="" class="sr-only">Section titled Script re-execution</span></a></div>
<p><a href="https://docs.astro.build/en/guides/client-side-scripts/#script-processing">Bundled module scripts</a>, which are the default scripts in Astro, are only ever executed once. After initial execution they will be ignored, even if the script exists on the new page after a transition.</p>
<p>Unlike bundled module scripts, <a href="https://docs.astro.build/en/guides/client-side-scripts/#opting-out-of-processing">inline scripts</a> have the potential to be re-executed during a user’s visit to a site if they exist on a page that is visited multiple times. Inline scripts might also re-execute when a visitor navigates to a page without the script, and then back to one with the script.</p>
<div tabindex="-1" class="heading-wrapper level-h4"><h4 id="data-astro-rerun"><code dir="auto">data-astro-rerun</code></h4><a class="anchor-link" href="https://docs.astro.build/en/guides/view-transitions/#data-astro-rerun"><span aria-hidden="true" class="anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span is:raw="" class="sr-only">Section titled data-astro-rerun</span></a></div>
<p><span>
	<strong>Added in:</strong>
	<code>astro@4.5.0</code>
	
	
</span></p>
<p>To force inline scripts to re-execute after every transition, add the <code>data-astro-rerun</code> property. Adding any attribute to a script also implicitly adds <code>is:inline</code>, so this is only available for scripts that are not bundled and processed by Astro.</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><div class="code"><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">script</span><span style="--0:#7FDBCA"> </span></span><span style="--0:#C5E478;--1:#3C63B3">is:inline</span><span style="--0:#7FDBCA;--1:#8D46B4"> </span><span style="--0:#C5E478;--1:#3C63B3">data-astro-rerun</span><span style="--0:#7FDBCA;--1:#8D46B4">&gt;</span><span style="--0:#7FDBCA;--1:#097174">...</span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;/</span><span style="--0:#CAECE6">script</span><span style="--0:#7FDBCA">&gt;</span></span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="&lt;script is:inline data-astro-rerun&gt;...&lt;/script&gt;"><div></div></button></div></figure></div>
<p>To ensure that a script runs every time a page is loaded during client-side navigation, it should be executed by a <a href="https://docs.astro.build/en/guides/view-transitions/#lifecycle-events">lifecycle event</a>. For example, event listeners for <code>DOMContentLoaded</code> can be replaced by the <a href="https://docs.astro.build/en/guides/view-transitions/#astropage-load"><code>astro:page-load</code></a> lifecycle event.</p>
<p>If you have code that sets up a global state in an inline script, this state will need to take into account that the script might execute more than once. Check for the global state in your <code>&lt;script&gt;</code> tag, and conditionally execute your code where possible. This works because <code>window</code> is preserved.</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><div class="code"><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">script</span><span style="--0:#7FDBCA"> </span></span><span style="--0:#C5E478;--1:#3C63B3">is:inline</span><span style="--0:#7FDBCA;--1:#8D46B4">&gt;</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#C792EA;--1:#8D46B4">if</span><span style="--0:#D6DEEB;--1:#403F53"> (</span><span style="--0:#C792EA;--1:#8D46B4">!</span><span style="--0:#7FDBCA;--1:#097174">window</span><span style="--0:#C792EA;--1:#8D46B4">.</span><span style="--0:#7FDBCA;--1:#097174">SomeGlobal</span><span style="--0:#D6DEEB;--1:#403F53">) {</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#097174">window</span><span style="--0:#C792EA;--1:#8D46B4">.</span><span style="--0:#7FDBCA;--1:#097174">SomeGlobal</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">=</span><span style="--0:#D6DEEB;--1:#403F53"> {} </span><span style="--0:#809191;--1:#5E6578">// ....</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code"><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;/</span><span style="--0:#CAECE6">script</span><span style="--0:#7FDBCA">&gt;</span></span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="&lt;script is:inline&gt;  if (!window.SomeGlobal) {    window.SomeGlobal = {} // ....  }&lt;/script&gt;"><div></div></button></div></figure></div>
<p>See the <a href="https://docs.astro.build/en/tutorials/add-view-transitions/#update-scripts">Add View Transitions Tutorial</a> for an example of updating existing scripts in a project.</p>
<div tabindex="-1" class="heading-wrapper level-h2"><h2 id="lifecycle-events">Lifecycle events</h2><a class="anchor-link" href="https://docs.astro.build/en/guides/view-transitions/#lifecycle-events"><span aria-hidden="true" class="anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span is:raw="" class="sr-only">Section titled Lifecycle events</span></a></div>
<p>The <code>&lt;ViewTransition /&gt;</code> router fires a number of events on the <code>document</code> during navigation. These events provide hooks into the lifecycle of navigation, allowing you to do things like show indicators that a new page is loading, override default behavior, and restore state as navigation is completing.</p>
<p>The navigation process involves a <strong>preparation</strong> phase, when new content is loaded; a <strong>DOM swap</strong> phase, where the old page’s content is replaced by the new page’s content; and a <strong>completion</strong> phase where scripts are executed, loading is reported as completed and clean-up work is carried out.</p>
<p>Astro’s View Transition API lifecycle events in order are:</p>
<ul>
<li><a href="https://docs.astro.build/en/guides/view-transitions/#astrobefore-preparation"><code>astro:before-preparation</code></a></li>
<li><a href="https://docs.astro.build/en/guides/view-transitions/#astroafter-preparation"><code>astro:after-preparation</code></a></li>
<li><a href="https://docs.astro.build/en/guides/view-transitions/#astrobefore-swap"><code>astro:before-swap</code></a></li>
<li><a href="https://docs.astro.build/en/guides/view-transitions/#astroafter-swap"><code>astro:after-swap</code></a></li>
<li><a href="https://docs.astro.build/en/guides/view-transitions/#astropage-load"><code>astro:page-load</code></a></li>
</ul>
<aside aria-label="Tip" class="starlight-aside starlight-aside--tip"><p class="starlight-aside__title" aria-hidden="true"><svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor" class="starlight-aside__icon"><path fill-rule="evenodd" clip-rule="evenodd" d="M1.43909 8.85483L1.44039 8.85354L4.96668 5.33815C5.30653 4.99386 5.7685 4.79662 6.2524 4.78972L6.26553 4.78963L12.9014 4.78962L13.8479 3.84308C16.9187 0.772319 20.0546 0.770617 21.4678 0.975145C21.8617 1.02914 22.2271 1.21053 22.5083 1.4917C22.7894 1.77284 22.9708 2.13821 23.0248 2.53199C23.2294 3.94517 23.2278 7.08119 20.1569 10.1521L19.2107 11.0983V17.7338L19.2106 17.7469C19.2037 18.2308 19.0067 18.6933 18.6624 19.0331L15.1456 22.5608C14.9095 22.7966 14.6137 22.964 14.29 23.0449C13.9663 23.1259 13.6267 23.1174 13.3074 23.0204C12.9881 22.9235 12.7011 22.7417 12.4771 22.4944C12.2533 22.2473 12.1006 21.9441 12.0355 21.6171L11.1783 17.3417L6.65869 12.822L4.34847 12.3589L2.38351 11.965C2.05664 11.8998 1.75272 11.747 1.50564 11.5232C1.25835 11.2992 1.07653 11.0122 0.979561 10.6929C0.882595 10.3736 0.874125 10.034 0.955057 9.7103C1.03599 9.38659 1.20328 9.09092 1.43909 8.85483ZM6.8186 10.8724L2.94619 10.096L6.32006 6.73268H10.9583L6.8186 10.8724ZM15.2219 5.21703C17.681 2.75787 20.0783 2.75376 21.1124 2.8876C21.2462 3.92172 21.2421 6.31895 18.783 8.77812L12.0728 15.4883L8.51172 11.9272L15.2219 5.21703ZM13.9042 21.0538L13.1279 17.1811L17.2676 13.0414V17.68L13.9042 21.0538Z"></path><path d="M9.31827 18.3446C9.45046 17.8529 9.17864 17.3369 8.68945 17.1724C8.56178 17.1294 8.43145 17.1145 8.30512 17.1243C8.10513 17.1398 7.91519 17.2172 7.76181 17.3434C7.62613 17.455 7.51905 17.6048 7.45893 17.7835C6.97634 19.2186 5.77062 19.9878 4.52406 20.4029C4.08525 20.549 3.6605 20.644 3.29471 20.7053C3.35607 20.3395 3.45098 19.9148 3.59711 19.476C4.01221 18.2294 4.78141 17.0237 6.21648 16.5411C6.39528 16.481 6.54504 16.3739 6.65665 16.2382C6.85126 16.0016 6.92988 15.678 6.84417 15.3647C6.83922 15.3466 6.83373 15.3286 6.82767 15.3106C6.74106 15.053 6.55701 14.8557 6.33037 14.7459C6.10949 14.6389 5.84816 14.615 5.59715 14.6994C5.47743 14.7397 5.36103 14.7831 5.24786 14.8294C3.22626 15.6569 2.2347 17.4173 1.75357 18.8621C1.49662 19.6337 1.36993 20.3554 1.30679 20.8818C1.27505 21.1464 1.25893 21.3654 1.25072 21.5213C1.24662 21.5993 1.24448 21.6618 1.24337 21.7066L1.243 21.7226L1.24235 21.7605L1.2422 21.7771L1.24217 21.7827L1.24217 21.7856C1.24217 22.3221 1.67703 22.7579 2.2137 22.7579L2.2155 22.7579L2.22337 22.7578L2.23956 22.7577C2.25293 22.7575 2.27096 22.7572 2.29338 22.7567C2.33821 22.7555 2.40073 22.7534 2.47876 22.7493C2.63466 22.7411 2.85361 22.725 3.11822 22.6932C3.64462 22.6301 4.36636 22.5034 5.13797 22.2464C6.58274 21.7653 8.3431 20.7738 9.17063 18.7522C9.21696 18.639 9.26037 18.5226 9.30064 18.4029C9.30716 18.3835 9.31304 18.364 9.31827 18.3446Z"></path></svg>Tip</p><section class="starlight-aside__content"><p><code>before-</code> events allow you to influence and modify actions that are about to take place, and <code>after-</code> events are notifications that a phase is complete.</p></section></aside>
<p>While some actions can be triggered during any event, some tasks can only be performed during a specific event for best results, such as displaying a loading spinner before preparation or overriding animation pairs before swapping content.</p>
<div tabindex="-1" class="heading-wrapper level-h3"><h3 id="astrobefore-preparation"><code dir="auto">astro:before-preparation</code></h3><a class="anchor-link" href="https://docs.astro.build/en/guides/view-transitions/#astrobefore-preparation"><span aria-hidden="true" class="anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span is:raw="" class="sr-only">Section titled astro:before-preparation</span></a></div>
<p><span>
	<strong>Added in:</strong>
	<code>astro@3.6.0</code>
	
	
</span></p>
<p>An event that fires at the beginning of the preparation phase, after navigation has started (e.g. after the user has clicked a link), but before content is loaded.</p>
<p>This event is used:</p>
<ul>
<li>To do something before loading has started, such as showing a loading spinner.</li>
<li>To alter loading, such as loading content you’ve defined in a template rather than from the external URL.</li>
<li>To change the <code>direction</code> of the navigation (which is usually either <code>forward</code> or <code>backward</code>) for custom animation.</li>
</ul>
<p>Here is an example of using the <code>astro:before-preparation</code> event to load a spinner before the content is loaded and stop it immediately after loading. Note that using the loader callback in this way allows asynchronous execution of code.</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><div class="code"><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">script</span><span style="--0:#7FDBCA"> </span></span><span style="--0:#C5E478;--1:#3C63B3">is</span><span style="--0:#7FDBCA;--1:#8D46B4">:</span><span style="--0:#C5E478;--1:#3C63B3">inline</span><span style="--0:#7FDBCA;--1:#8D46B4">&gt;</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">document.addEventListener('astro:before-preparation', ev =&gt; </span><span style="--0:#DD6B68;--1:#B73936">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--1:#403F53">    </span></span><span style="--0:#D7DBE0;--1:#403F53">const</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D7DBE0;--1:#403F53">originalLoader</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#097174">ev</span><span style="--0:#C792EA;--1:#8D46B4">.</span><span style="--0:#7FDBCA;--1:#097174">loader</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#097174">ev</span><span style="--0:#C792EA;--1:#8D46B4">.</span><span style="--0:#82AAFF;--1:#3C63B3">loader</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">async</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">function</span><span style="--0:#D9F5DD;--1:#111111">()</span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#C792EA;--1:#8D46B4">const { </span><span style="--0:#82AAFF;--1:#3C63B3">startSpinner</span><span style="--0:#C792EA;--1:#8D46B4"> } = await </span><span style="--0:#7FDBCA;--1:#097174">import</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#9B504E">./spinner.js</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#D6DEEB;--1:#403F53">);</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#C792EA;--1:#8D46B4">const </span><span style="--0:#82AAFF;--1:#3C63B3">stop</span><span style="--0:#C792EA;--1:#8D46B4"> = </span><span style="--0:#82AAFF;--1:#3C63B3">startSpinner</span><span style="--0:#D6DEEB;--1:#403F53">();</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#C792EA;--1:#8D46B4">await</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3C63B3">originalLoader</span><span style="--0:#D6DEEB;--1:#403F53">();</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#82AAFF;--1:#3C63B3">stop</span><span style="--0:#D6DEEB;--1:#403F53">();</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">};</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#DD6B68;--1:#B73936">}</span><span style="--0:#D6DEEB;--1:#403F53">);</span></div></div><div class="ec-line"><div class="code"><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;/</span><span style="--0:#CAECE6">script</span><span style="--0:#7FDBCA">&gt;</span></span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="&lt;script is:inline&gt;  document.addEventListener(&#39;astro:before-preparation&#39;, ev =&gt; {    const originalLoader = ev.loader;    ev.loader = async function() {      const { startSpinner } = await import(&#39;./spinner.js&#39;);      const stop = startSpinner();      await originalLoader();      stop();    };  });&lt;/script&gt;"><div></div></button></div></figure></div>
<div tabindex="-1" class="heading-wrapper level-h3"><h3 id="astroafter-preparation"><code dir="auto">astro:after-preparation</code></h3><a class="anchor-link" href="https://docs.astro.build/en/guides/view-transitions/#astroafter-preparation"><span aria-hidden="true" class="anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span is:raw="" class="sr-only">Section titled astro:after-preparation</span></a></div>
<p><span>
	<strong>Added in:</strong>
	<code>astro@3.6.0</code>
	
	
</span></p>
<p>An event that fires at the end of the preparation phase, after the new page’s content has been loaded and parsed into a document. This event occurs before the view transitions phase.</p>
<p>This example uses the <code>astro:before-preparation</code> event to start a loading indicator and the <code>astro:after-preparation</code> event to stop it:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><div class="code"><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">script</span><span style="--0:#7FDBCA"> </span></span><span style="--0:#C5E478;--1:#3C63B3">is:inline</span><span style="--0:#7FDBCA;--1:#8D46B4">&gt;</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#7FDBCA;--1:#097174">document</span><span style="--0:#C792EA;--1:#8D46B4">.</span><span style="--0:#82AAFF;--1:#3C63B3">addEventListener</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#9B504E">astro:before-preparation</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#D6DEEB;--1:#403F53">, </span><span style="--0:#D9F5DD;--1:#111111">()</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">=&gt;</span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#097174">document</span><span style="--0:#C792EA;--1:#8D46B4">.</span><span style="--0:#82AAFF;--1:#3C63B3">querySelector</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#9B504E">#loading</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#D6DEEB;--1:#403F53">)</span><span style="--0:#C792EA;--1:#8D46B4">.</span><span style="--0:#FAF39F;--1:#111111">classList</span><span style="--0:#C792EA;--1:#8D46B4">.</span><span style="--0:#82AAFF;--1:#3C63B3">add</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#9B504E">show</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#D6DEEB;--1:#403F53">);</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">});</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#7FDBCA;--1:#097174">document</span><span style="--0:#C792EA;--1:#8D46B4">.</span><span style="--0:#82AAFF;--1:#3C63B3">addEventListener</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#9B504E">astro:after-preparation</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#D6DEEB;--1:#403F53">, </span><span style="--0:#D9F5DD;--1:#111111">()</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">=&gt;</span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#097174">document</span><span style="--0:#C792EA;--1:#8D46B4">.</span><span style="--0:#82AAFF;--1:#3C63B3">querySelector</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#9B504E">#loading</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#D6DEEB;--1:#403F53">)</span><span style="--0:#C792EA;--1:#8D46B4">.</span><span style="--0:#FAF39F;--1:#111111">classList</span><span style="--0:#C792EA;--1:#8D46B4">.</span><span style="--0:#82AAFF;--1:#3C63B3">remove</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#9B504E">show</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#D6DEEB;--1:#403F53">);</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">});</span></div></div><div class="ec-line"><div class="code"><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;/</span><span style="--0:#CAECE6">script</span><span style="--0:#7FDBCA">&gt;</span></span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="&lt;script is:inline&gt;  document.addEventListener(&#39;astro:before-preparation&#39;, () =&gt; {    document.querySelector(&#39;#loading&#39;).classList.add(&#39;show&#39;);  });  document.addEventListener(&#39;astro:after-preparation&#39;, () =&gt; {    document.querySelector(&#39;#loading&#39;).classList.remove(&#39;show&#39;);  });&lt;/script&gt;"><div></div></button></div></figure></div>
<p>This is a simpler version of loading a spinner than the example shown above: if all of the listener’s code can be executed synchronously, there is no need to hook into the loader’s callback.</p>
<div tabindex="-1" class="heading-wrapper level-h3"><h3 id="astrobefore-swap"><code dir="auto">astro:before-swap</code></h3><a class="anchor-link" href="https://docs.astro.build/en/guides/view-transitions/#astrobefore-swap"><span aria-hidden="true" class="anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span is:raw="" class="sr-only">Section titled astro:before-swap</span></a></div>
<p><span>
	<strong>Added in:</strong>
	<code>astro@3.6.0</code>
	
	
</span></p>
<p>An event that fires before the new document (which is populated during the preparation phase) replaces the current document. This event occurs inside of the view transition, where the user is still seeing a snapshot of the old page.</p>
<p>This event can be used to make changes before the swap occurs. The <code>newDocument</code> property on the event represents the incoming document. Here is an example of ensuring the browser’s light or dark mode preference in <code>localStorage</code> is carried over to the new page:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><div class="code"><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">script</span><span style="--0:#7FDBCA"> </span></span><span style="--0:#C5E478;--1:#3C63B3">is:inline</span><span style="--0:#7FDBCA;--1:#8D46B4">&gt;</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#C792EA;--1:#8D46B4">function</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3C63B3">setDarkMode</span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#D7DBE0;--1:#403F53">document</span><span style="--0:#D9F5DD;--1:#111111">)</span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C792EA;--1:#8D46B4">let </span><span style="--0:#D7DBE0;--1:#403F53">theme</span><span style="--0:#C792EA;--1:#8D46B4"> = </span><span style="--0:#7FDBCA;--1:#097174">localStorage</span><span style="--0:#C792EA;--1:#8D46B4">.</span><span style="--0:#7FDBCA;--1:#097174">darkMode</span><span style="--0:#C792EA;--1:#8D46B4"> ? </span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#9B504E">dark</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#C792EA;--1:#8D46B4"> : </span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#9B504E">light</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#097174">document</span><span style="--0:#C792EA;--1:#8D46B4">.</span><span style="--0:#FAF39F;--1:#111111">documentElement</span><span style="--0:#C792EA;--1:#8D46B4">.</span><span style="--0:#FAF39F;--1:#111111">dataset</span><span style="--0:#C792EA;--1:#8D46B4">.</span><span style="--0:#7FDBCA;--1:#097174">theme</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">=</span><span style="--1:#403F53"><span style="--0:#D6DEEB"> </span><span style="--0:#D7DBE0">theme</span><span style="--0:#D6DEEB">;</span></span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#82AAFF;--1:#3C63B3">setDarkMode</span><span style="--1:#403F53"><span style="--0:#D6DEEB">(</span><span style="--0:#D7DBE0">document</span><span style="--0:#D6DEEB">);</span></span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#7FDBCA;--1:#097174">document</span><span style="--0:#C792EA;--1:#8D46B4">.</span><span style="--0:#82AAFF;--1:#3C63B3">addEventListener</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#9B504E">astro:before-swap</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--1:#403F53"><span style="--0:#D6DEEB">, </span><span style="--0:#D7DBE0">ev</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#C792EA;--1:#8D46B4">=&gt;</span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#809191;--1:#5E6578">// Pass the incoming document to set the theme on it</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#82AAFF;--1:#3C63B3">setDarkMode</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#7FDBCA;--1:#097174">ev</span><span style="--0:#C792EA;--1:#8D46B4">.</span><span style="--0:#7FDBCA;--1:#097174">newDocument</span><span style="--0:#D6DEEB;--1:#403F53">);</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">});</span></div></div><div class="ec-line"><div class="code"><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;/</span><span style="--0:#CAECE6">script</span><span style="--0:#7FDBCA">&gt;</span></span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="&lt;script is:inline&gt;  function setDarkMode(document) {    let theme = localStorage.darkMode ? &#39;dark&#39; : &#39;light&#39;;    document.documentElement.dataset.theme = theme;  }  setDarkMode(document);  document.addEventListener(&#39;astro:before-swap&#39;, ev =&gt; {    // Pass the incoming document to set the theme on it    setDarkMode(ev.newDocument);  });&lt;/script&gt;"><div></div></button></div></figure></div>
<p>The <code>astro:before-swap</code> event can also be used to change the <em>implementation</em> of the swap. The default swap implementation diffs head content, moves <strong>persistent</strong> elements from the old document to the <code>newDocument</code>, and then replaces the entire <code>body</code> with the body of the new document.</p>
<p>At this point of the lifecycle, you could choose to define your own swap implementation, for example to diff the entire contents of the existing document (which some other routers do):</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><div class="code"><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">script</span><span style="--0:#7FDBCA"> </span></span><span style="--0:#C5E478;--1:#3C63B3">is:inline</span><span style="--0:#7FDBCA;--1:#8D46B4">&gt;</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#7FDBCA;--1:#097174">document</span><span style="--0:#C792EA;--1:#8D46B4">.</span><span style="--0:#82AAFF;--1:#3C63B3">addEventListener</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#9B504E">astro:before-swap</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--1:#403F53"><span style="--0:#D6DEEB">, </span><span style="--0:#D7DBE0">ev</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#C792EA;--1:#8D46B4">=&gt;</span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#097174">ev</span><span style="--0:#C792EA;--1:#8D46B4">.</span><span style="--0:#82AAFF;--1:#3C63B3">swap</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">()</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">=&gt;</span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#82AAFF;--1:#3C63B3">diff</span><span style="--1:#403F53"><span style="--0:#D6DEEB">(</span><span style="--0:#D7DBE0">document</span><span style="--0:#D6DEEB">, </span></span><span style="--0:#7FDBCA;--1:#097174">ev</span><span style="--0:#C792EA;--1:#8D46B4">.</span><span style="--0:#7FDBCA;--1:#097174">newDocument</span><span style="--0:#D6DEEB;--1:#403F53">);</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">};</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">});</span></div></div><div class="ec-line"><div class="code"><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;/</span><span style="--0:#CAECE6">script</span><span style="--0:#7FDBCA">&gt;</span></span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="&lt;script is:inline&gt;  document.addEventListener(&#39;astro:before-swap&#39;, ev =&gt; {    ev.swap = () =&gt; {      diff(document, ev.newDocument);    };  });&lt;/script&gt;"><div></div></button></div></figure></div>
<div tabindex="-1" class="heading-wrapper level-h3"><h3 id="astroafter-swap"><code dir="auto">astro:after-swap</code></h3><a class="anchor-link" href="https://docs.astro.build/en/guides/view-transitions/#astroafter-swap"><span aria-hidden="true" class="anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span is:raw="" class="sr-only">Section titled astro:after-swap</span></a></div>
<p>An event that fires immediately after the new page replaces the old page. You can listen to this event on the <code>document</code> and trigger actions that will occur before the new page’s DOM elements render and scripts run.</p>
<p>This event, when listened to on the <strong>outgoing page</strong>, is useful to pass along and restore any state on the DOM that needs to transfer over to the new page.</p>
<p>This is the latest point in the lifecycle where it is still safe to, for example, add a dark mode class name (<code>&lt;html class="dark-mode"&gt;</code>), though you may wish to do so in an earlier event.</p>
<p>The <code>astro:after-swap</code> event occurs immediately after the browser history has been updated and the scroll position has been set.
Therefore, one use of targeting this event is to override the default scroll restore for history navigation. The following example resets the horizontal and vertical scroll position to the top left corner of the page for each navigation.</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><div class="code"><span style="--0:#7FDBCA;--1:#097174">document</span><span style="--0:#C792EA;--1:#8D46B4">.</span><span style="--0:#82AAFF;--1:#3C63B3">addEventListener</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#9B504E">astro:after-swap</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#D6DEEB;--1:#403F53">,</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#D9F5DD;--1:#111111">()</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">=&gt;</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#097174">window</span><span style="--0:#C792EA;--1:#8D46B4">.</span><span style="--0:#82AAFF;--1:#3C63B3">scrollTo</span><span style="--0:#D6DEEB;--1:#403F53">({ left: </span><span style="--0:#F78C6C;--1:#AA0982">0</span><span style="--0:#D6DEEB;--1:#403F53">, top: </span><span style="--0:#F78C6C;--1:#AA0982">0</span><span style="--0:#D6DEEB;--1:#403F53">, behavior: </span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#9B504E">instant</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#D6DEEB;--1:#403F53"> }))</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="document.addEventListener(&#39;astro:after-swap&#39;,  () =&gt; window.scrollTo({ left: 0, top: 0, behavior: &#39;instant&#39; }))"><div></div></button></div></figure></div>
<div tabindex="-1" class="heading-wrapper level-h3"><h3 id="astropage-load"><code dir="auto">astro:page-load</code></h3><a class="anchor-link" href="https://docs.astro.build/en/guides/view-transitions/#astropage-load"><span aria-hidden="true" class="anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span is:raw="" class="sr-only">Section titled astro:page-load</span></a></div>
<p>An event that fires at the end of page navigation, after the new page is visible to the user and blocking styles and scripts are loaded. You can listen to this event on the <code>document</code>.</p>
<p>The <code>&lt;ViewTransitions /&gt;</code> component fires this event both on initial page navigation for a pre-rendered page and on any subsequent navigation, either forwards or backwards.</p>
<p>You can use this event to run code on every page navigation, or only once ever:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><div class="code"><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">script</span><span style="--0:#7FDBCA">&gt;</span></span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#7FDBCA;--1:#097174">document</span><span style="--0:#C792EA;--1:#8D46B4">.</span><span style="--0:#82AAFF;--1:#3C63B3">addEventListener</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#9B504E">astro:page-load</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#D6DEEB;--1:#403F53">, </span><span style="--0:#D9F5DD;--1:#111111">()</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">=&gt;</span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#809191;--1:#5E6578">// This only runs once.</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#82AAFF;--1:#3C63B3">setupStuff</span><span style="--0:#D6DEEB;--1:#403F53">();</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">}, </span><mark><span style="--0:#D6DEEB;--1:#403F53">{ once: </span><span style="--0:#ff728a;--1:#8b3e3e">true</span><span style="--0:#D6DEEB;--1:#403F53"> }</span></mark><span style="--0:#D6DEEB;--1:#403F53">);</span></div></div><div class="ec-line"><div class="code"><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;/</span><span style="--0:#CAECE6">script</span><span style="--0:#7FDBCA">&gt;</span></span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="&lt;script&gt;  document.addEventListener(&#39;astro:page-load&#39;, () =&gt; {    // This only runs once.    setupStuff();  }, { once: true });&lt;/script&gt;"><div></div></button></div></figure></div>
<div tabindex="-1" class="heading-wrapper level-h2"><h2 id="accessibility">Accessibility</h2><a class="anchor-link" href="https://docs.astro.build/en/guides/view-transitions/#accessibility"><span aria-hidden="true" class="anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span is:raw="" class="sr-only">Section titled Accessibility</span></a></div>
<p>Enabling client-side routing and animating page transitions both come with accessibility challenges, and Astro aims to make sites opting in to View Transitions as accessible-by-default as possible.</p>
<div tabindex="-1" class="heading-wrapper level-h3"><h3 id="route-announcement">Route announcement</h3><a class="anchor-link" href="https://docs.astro.build/en/guides/view-transitions/#route-announcement"><span aria-hidden="true" class="anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span is:raw="" class="sr-only">Section titled Route announcement</span></a></div>
<p><span>
	<strong>Added in:</strong>
	<code>astro@3.2.0</code>
	
	
</span></p>
<p>The <code>&lt;ViewTransitions /&gt;</code> component includes a route announcer for page navigation during client-side routing. No configuration or action is needed to enable this.</p>
<p>Assistive technologies let visitors know that the page has changed by announcing the new page title after navigation. When using server-side routing with traditional full-page browser refreshes, this happens by default after the new page loads. In client-side routing, the <code>&lt;ViewTransitions /&gt;</code> component performs this action.</p>
<p>To add route announcement to client-side routing, the component adds an element to the new page with the <code>aria-live</code> attribute set to <code>assertive</code>. This tells AT (assistive technology) to announce immediately. The component also checks for the following, in priority order, to determine the announcement text:</p>
<ul>
<li>The <code>&lt;title&gt;</code>, if it exists.</li>
<li>The first <code>&lt;h1&gt;</code> it finds.</li>
<li>The <code>pathname</code> of the page.</li>
</ul>
<p>We strongly recommend you always include a <code>&lt;title&gt;</code> in each page for accessibility.</p>
<div tabindex="-1" class="heading-wrapper level-h3"><h3 id="prefers-reduced-motion"><code dir="auto">prefers-reduced-motion</code></h3><a class="anchor-link" href="https://docs.astro.build/en/guides/view-transitions/#prefers-reduced-motion"><span aria-hidden="true" class="anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span is:raw="" class="sr-only">Section titled prefers-reduced-motion</span></a></div>
<p>Astro’s <code>&lt;ViewTransitions /&gt;</code> component includes a CSS media query that disables <em>all</em> view transition animations, including fallback animation, whenever the <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/@media/prefers-reduced-motion"><code>prefer-reduced-motion</code></a> setting is detected. Instead, the browser will simply swap the DOM elements without an animation.</p>
<div tabindex="-1" class="heading-wrapper level-h2"><h2 id="upgrade-to-v30-from-v2x">Upgrade to v3.0 from v2.x</h2><a class="anchor-link" href="https://docs.astro.build/en/guides/view-transitions/#upgrade-to-v30-from-v2x"><span aria-hidden="true" class="anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span is:raw="" class="sr-only">Section titled Upgrade to v3.0 from v2.x</span></a></div>
<p>View transitions are no longer behind an experimental flag in Astro v3.0.</p>
<p>If you had <strong>not</strong> enabled this experimental flag in Astro 2.x, this will not cause any breaking changes to your project. The new View Transitions API has no effect on your existing code.</p>
<p>If you were previously using experimental view transitions, there may be some breaking changes when you upgrade your Astro project from an earlier version.</p>
<p>Please follow the instructions below as appropriate to upgrade <strong>an Astro v2.x project configured with <code>experimental.viewTransitions: true</code></strong>  to v3.0.</p>
<div tabindex="-1" class="heading-wrapper level-h3"><h3 id="upgrade-from-experimentalviewtransitions">Upgrade from <code dir="auto">experimental.viewTransitions</code></h3><a class="anchor-link" href="https://docs.astro.build/en/guides/view-transitions/#upgrade-from-experimentalviewtransitions"><span aria-hidden="true" class="anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span is:raw="" class="sr-only">Section titled Upgrade from experimental.viewTransitions</span></a></div>
<p>If you had previously enabled the experimental flag for view transitions, you will need to update your project for Astro v3.0 which now allows view transitions by default.</p>
<div tabindex="-1" class="heading-wrapper level-h4"><h4 id="remove-experimentalviewtransitions-flag">Remove <code dir="auto">experimental.viewTransitions</code> flag</h4><a class="anchor-link" href="https://docs.astro.build/en/guides/view-transitions/#remove-experimentalviewtransitions-flag"><span aria-hidden="true" class="anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span is:raw="" class="sr-only">Section titled Remove experimental.viewTransitions flag</span></a></div>
<p>Remove the experimental flag:</p>
<div class="expressive-code"><figure class="frame has-title not-content"><figcaption class="header"><span class="title">astro.config.mjs</span></figcaption><pre tabindex="0"><code><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">import</span><span style="--0:#D6DEEB;--1:#403F53"> { defineConfig } </span><span style="--0:#C792EA;--1:#8D46B4">from</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#9B504E">astro/config</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">export</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">default</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3C63B3">defineConfig</span><span style="--0:#D6DEEB;--1:#403F53">({</span></div></div><div class="ec-line highlight del"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">experimental: {</span></div></div><div class="ec-line highlight del"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">   </span></span><span style="--0:#D6DEEB;--1:#403F53">viewTransitions: </span><span style="--0:#ff8499;--1:#7c3838">true</span></div></div><div class="ec-line highlight del"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">});</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="import { defineConfig } from &#39;astro/config&#39;;export default defineConfig({  experimental: {   viewTransitions: true  }});"><div></div></button></div></figure></div>
<div tabindex="-1" class="heading-wrapper level-h4"><h4 id="update-import-source">Update import source</h4><a class="anchor-link" href="https://docs.astro.build/en/guides/view-transitions/#update-import-source"><span aria-hidden="true" class="anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span is:raw="" class="sr-only">Section titled Update import source</span></a></div>
<p>The <code>&lt;ViewTransitions /&gt;</code> component has been moved from <code>astro:components</code> to <code>astro:transitions</code>. Update the import source across all occurrences in your project.</p>
<div class="expressive-code"><figure class="frame has-title not-content"><figcaption class="header"><span class="title">src/layouts/BaseLayout.astro</span></figcaption><pre tabindex="0"><code><div class="ec-line"><div class="code"><span style="--0:#809191;--1:#616671">---</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">import</span><span style="--0:#D6DEEB;--1:#403F53"> { ViewTransitions } </span><span style="--0:#C792EA;--1:#8D46B4">from</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><del><span style="--0:#ECC48D;--1:#743c3b">astro:components</span></del><span style="--0:#ECC48D;--1:#9B504E"> </span><ins><span style="--0:#ECC48D;--1:#773d3c">astro:transitions</span></ins><span style="--0:#D9F5DD;--1:#111111">"</span></div></div><div class="ec-line"><div class="code"><span style="--0:#809191;--1:#616671">---</span></div></div><div class="ec-line"><div class="code"><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">html</span><span style="--0:#7FDBCA"> </span></span><span style="--0:#C5E478;--1:#3C63B3">lang</span><span style="--0:#7FDBCA;--1:#8D46B4">=</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#9B504E">en</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#7FDBCA;--1:#8D46B4">&gt;</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">head</span><span style="--0:#7FDBCA">&gt;</span></span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">title</span><span style="--0:#7FDBCA">&gt;</span></span><span style="--0:#D6DEEB;--1:#403F53">My Homepage</span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;/</span><span style="--0:#CAECE6">title</span><span style="--0:#7FDBCA">&gt;</span></span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#8D46B4">&lt;</span><span style="--0:#C5E478;--1:#3C63B3">ViewTransitions</span><span style="--0:#7FDBCA;--1:#8D46B4"> /&gt;</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;/</span><span style="--0:#CAECE6">head</span><span style="--0:#7FDBCA">&gt;</span></span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">body</span><span style="--0:#7FDBCA">&gt;</span></span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">h1</span><span style="--0:#7FDBCA">&gt;</span></span><span style="--0:#D6DEEB;--1:#403F53">Welcome to my website!</span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;/</span><span style="--0:#CAECE6">h1</span><span style="--0:#7FDBCA">&gt;</span></span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;/</span><span style="--0:#CAECE6">body</span><span style="--0:#7FDBCA">&gt;</span></span></div></div><div class="ec-line"><div class="code"><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;/</span><span style="--0:#CAECE6">html</span><span style="--0:#7FDBCA">&gt;</span></span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="---import { ViewTransitions } from &quot;astro:components astro:transitions&quot;---&lt;html lang=&quot;en&quot;&gt;  &lt;head&gt;    &lt;title&gt;My Homepage&lt;/title&gt;    &lt;ViewTransitions /&gt;  &lt;/head&gt;  &lt;body&gt;    &lt;h1&gt;Welcome to my website!&lt;/h1&gt;  &lt;/body&gt;&lt;/html&gt;"><div></div></button></div></figure></div>
<div tabindex="-1" class="heading-wrapper level-h4"><h4 id="update-transitionanimate-directives">Update <code dir="auto">transition:animate</code> directives</h4><a class="anchor-link" href="https://docs.astro.build/en/guides/view-transitions/#update-transitionanimate-directives"><span aria-hidden="true" class="anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span is:raw="" class="sr-only">Section titled Update transition:animate directives</span></a></div>
<p><strong>Changed:</strong> The <code>transition:animate</code> value <code>morph</code> has been renamed to <code>initial</code>. Also, this is no longer the default animation. If no <code>transition:animate</code> directive is specified, your animations will now default to <code>fade</code>.</p>
<ol>
<li>
<p>Rename any <code>morph</code> animations to <code>initial</code>.</p>
<div class="expressive-code"><figure class="frame has-title not-content"><figcaption class="header"><span class="title">src/components/MyComponent.astro</span></figcaption><pre tabindex="0"><code><div class="ec-line"><div class="code"><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">div</span><span style="--0:#7FDBCA"> </span></span><span style="--0:#C5E478;--1:#3C63B3">transition:name</span><span style="--0:#7FDBCA;--1:#8D46B4">=</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#9B504E">name</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#7FDBCA;--1:#8D46B4"> </span><span style="--0:#C5E478;--1:#3C63B3">transition:animate</span><span style="--0:#7FDBCA;--1:#8D46B4">=</span><span style="--0:#D9F5DD;--1:#111111">"</span><del><span style="--0:#ECC48D;--1:#743c3b">morph</span></del><span style="--0:#ECC48D;--1:#9B504E"> </span><ins><span style="--0:#ECC48D;--1:#773d3c">initial</span></ins><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#7FDBCA;--1:#8D46B4"> /&gt;</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="&lt;div transition:name=&quot;name&quot; transition:animate=&quot;morph initial&quot; /&gt;"><div></div></button></div></figure></div>
</li>
<li>
<p>To keep any animations that were previously using <code>morph</code> by default, explicitly add <code>transition:animate="initial"</code></p>
<div class="expressive-code"><figure class="frame has-title not-content"><figcaption class="header"><span class="title">src/components/MyComponent.astro</span></figcaption><pre tabindex="0"><code><div class="ec-line"><div class="code"><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">div</span><span style="--0:#7FDBCA"> </span></span><span style="--0:#C5E478;--1:#3C63B3">transition:name</span><span style="--0:#7FDBCA;--1:#8D46B4">=</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#9B504E">name</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#7FDBCA;--1:#8D46B4"> </span><ins><span style="--0:#C5E478;--1:#2e4c89">transition:animate</span><span style="--0:#7FDBCA;--1:#6a3587">=</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#773d3c">initial</span><span style="--0:#D9F5DD;--1:#111111">"</span></ins><span style="--0:#7FDBCA;--1:#8D46B4"> /&gt;</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="&lt;div transition:name=&quot;name&quot; transition:animate=&quot;initial&quot; /&gt;"><div></div></button></div></figure></div>
</li>
<li>
<p>You can safely remove any animations explicitly set to <code>fade</code>. This is now the default behavior:</p>
<div class="expressive-code"><figure class="frame has-title not-content"><figcaption class="header"><span class="title">src/components/MyComponent.astro</span></figcaption><pre tabindex="0"><code><div class="ec-line"><div class="code"><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">div</span><span style="--0:#7FDBCA"> </span></span><span style="--0:#C5E478;--1:#3C63B3">transition:name</span><span style="--0:#7FDBCA;--1:#8D46B4">=</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#9B504E">name</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#7FDBCA;--1:#8D46B4"> </span><del><span style="--0:#C5E478;--1:#2d4a86">transition:animate</span><span style="--0:#7FDBCA;--1:#6a3587">=</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#743c3b">fade</span><span style="--0:#D9F5DD;--1:#111111">"</span></del><span style="--0:#7FDBCA;--1:#8D46B4"> /&gt;</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="&lt;div transition:name=&quot;name&quot; transition:animate=&quot;fade&quot; /&gt;"><div></div></button></div></figure></div>
</li>
</ol>
<p><strong>Added:</strong> Astro also supports a new <code>transition:animate</code> value, <code>none</code>. This value can be used on a page’s <code>&lt;html&gt;</code> element to disable animated full-page transitions on an entire page. This will only override <strong>default animation behavior</strong> on page elements without an animation directive. You can still set animations on individual elements, and these specific animations will occur.</p>
<ol start="4">
<li>
<p>You may now disable all default transitions on an individual page, animating only elements that explicitly use a <code>transition:animate</code> directive:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><div class="code"><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">html</span><span style="--0:#7FDBCA"> </span></span><ins><span style="--0:#C5E478;--1:#2e4c89">transition:animate</span><span style="--0:#7FDBCA;--1:#6a3587">=</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#773d3c">none</span><span style="--0:#D9F5DD;--1:#111111">"</span></ins><span style="--0:#7FDBCA;--1:#8D46B4">&gt;</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">head</span><span style="--0:#7FDBCA">&gt;&lt;/</span><span style="--0:#CAECE6">head</span><span style="--0:#7FDBCA">&gt;</span></span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">body</span><span style="--0:#7FDBCA">&gt;</span></span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">h1</span><span style="--0:#7FDBCA">&gt;</span></span><span style="--0:#D6DEEB;--1:#403F53">Hello world!</span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;/</span><span style="--0:#CAECE6">h1</span><span style="--0:#7FDBCA">&gt;</span></span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;/</span><span style="--0:#CAECE6">body</span><span style="--0:#7FDBCA">&gt;</span></span></div></div><div class="ec-line"><div class="code"><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;/</span><span style="--0:#CAECE6">html</span><span style="--0:#7FDBCA">&gt;</span></span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="&lt;html transition:animate=&quot;none&quot;&gt;  &lt;head&gt;&lt;/head&gt;  &lt;body&gt;    &lt;h1&gt;Hello world!&lt;/h1&gt;  &lt;/body&gt;&lt;/html&gt;"><div></div></button></div></figure></div>
</li>
</ol>
<div tabindex="-1" class="heading-wrapper level-h4"><h4 id="update-event-names">Update event names</h4><a class="anchor-link" href="https://docs.astro.build/en/guides/view-transitions/#update-event-names"><span aria-hidden="true" class="anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span is:raw="" class="sr-only">Section titled Update event names</span></a></div>
<p>The event <code>astro:load</code> has been renamed to <code>astro:page-load</code>. Rename all occurrences in your project.</p>
<div class="expressive-code"><figure class="frame has-title not-content"><figcaption class="header"><span class="title">src/components/MyComponent.astro</span></figcaption><pre tabindex="0"><code><div class="ec-line"><div class="code"><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">script</span><span style="--0:#7FDBCA">&gt;</span></span></div></div><div class="ec-line"><div class="code"><span style="--0:#7FDBCA;--1:#097174">document</span><span style="--0:#C792EA;--1:#8D46B4">.</span><span style="--0:#82AAFF;--1:#3C63B3">addEventListener</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#D9F5DD;--1:#111111">'</span><del><span style="--0:#ECC48D;--1:#743c3b">astro:load</span></del><span style="--0:#ECC48D;--1:#9B504E"> </span><ins><span style="--0:#ECC48D;--1:#773d3c">astro:page-load</span></ins><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--1:#403F53"><span style="--0:#D6DEEB">, </span><span style="--0:#D7DBE0">runSetupLogic</span><span style="--0:#D6DEEB">);</span></span></div></div><div class="ec-line"><div class="code"><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;/</span><span style="--0:#CAECE6">script</span><span style="--0:#7FDBCA">&gt;</span></span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="&lt;script&gt;document.addEventListener(&#39;astro:load astro:page-load&#39;, runSetupLogic);&lt;/script&gt;"><div></div></button></div></figure></div>
<p>The event <code>astro:beforeload</code> has been renamed to <code>astro:after-swap</code>. Rename all occurrences in your project.</p>
<div class="expressive-code"><figure class="frame has-title not-content"><figcaption class="header"><span class="title">src/components/MyComponent.astro</span></figcaption><pre tabindex="0"><code><div class="ec-line"><div class="code"><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">script</span><span style="--0:#7FDBCA">&gt;</span></span></div></div><div class="ec-line"><div class="code"><span style="--0:#7FDBCA;--1:#097174">document</span><span style="--0:#C792EA;--1:#8D46B4">.</span><span style="--0:#82AAFF;--1:#3C63B3">addEventListener</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#D9F5DD;--1:#111111">'</span><del><span style="--0:#ECC48D;--1:#743c3b">astro:beforeload</span></del><span style="--0:#ECC48D;--1:#9B504E"> </span><ins><span style="--0:#ECC48D;--1:#773d3c">astro:after-swap</span></ins><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--1:#403F53"><span style="--0:#D6DEEB">, </span><span style="--0:#D7DBE0">setDarkMode</span><span style="--0:#D6DEEB">);</span></span></div></div><div class="ec-line"><div class="code"><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;/</span><span style="--0:#CAECE6">script</span><span style="--0:#7FDBCA">&gt;</span></span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="&lt;script&gt;document.addEventListener(&#39;astro:beforeload astro:after-swap&#39;, setDarkMode);&lt;/script&gt;"><div></div></button></div></figure></div>
									

	
	
	
	
	
	<span id="docsearch-lvl0" hidden="" class="astro-klj6ju3r">Learn</span>
</div>
									<footer class="astro-sovznfwx">
	<div class="meta sl-flex astro-sovznfwx">
		<a href="https://github.com/withastro/docs/edit/main/src/content/docs/en/guides/view-transitions.mdx" class="sl-flex astro-dvlentyv">
			<svg aria-hidden="true" class="astro-dvlentyv astro-3zixussu" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.2em;"><path d="M22 7.24a1 1 0 0 0-.29-.71l-4.24-4.24a1 1 0 0 0-1.1-.22 1 1 0 0 0-.32.22l-2.83 2.83L2.29 16.05a1 1 0 0 0-.29.71V21a1 1 0 0 0 1 1h4.24a1 1 0 0 0 .76-.29l10.87-10.93L21.71 8c.1-.1.17-.2.22-.33a1 1 0 0 0 0-.24v-.14l.07-.05ZM6.83 20H4v-2.83l9.93-9.93 2.83 2.83L6.83 20ZM18.17 8.66l-2.83-2.83 1.42-1.41 2.82 2.82-1.41 1.42Z"></path></svg>
			Edit page
		</a>


		
	</div>
	<div class="pagination-links astro-vhm3clna" dir="ltr">
	<a href="https://docs.astro.build/en/guides/content-collections/" rel="prev" class="astro-vhm3clna">
				<svg aria-hidden="true" class="astro-vhm3clna astro-3zixussu" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.5rem;"><path d="M17 11H9.41l3.3-3.29a1.004 1.004 0 1 0-1.42-1.42l-5 5a1 1 0 0 0-.21.33 1 1 0 0 0 0 .76 1 1 0 0 0 .21.33l5 5a1.002 1.002 0 0 0 1.639-.325 1 1 0 0 0-.219-1.095L9.41 13H17a1 1 0 0 0 0-2Z"></path></svg>
				<span class="astro-vhm3clna">
					Previous
					<br class="astro-vhm3clna">
					<span class="link-title astro-vhm3clna">Content Collections</span>
				</span>
			</a>
	<a href="https://docs.astro.build/en/guides/prefetch/" rel="next" class="astro-vhm3clna">
				<svg aria-hidden="true" class="astro-vhm3clna astro-3zixussu" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.5rem;"><path d="M17.92 11.62a1.001 1.001 0 0 0-.21-.33l-5-5a1.003 1.003 0 1 0-1.42 1.42l3.3 3.29H7a1 1 0 0 0 0 2h7.59l-3.3 3.29a1.002 1.002 0 0 0 .325 1.639 1 1 0 0 0 1.095-.219l5-5a1 1 0 0 0 .21-.33 1 1 0 0 0 0-.76Z"></path></svg>
				<span class="astro-vhm3clna">
					Next
					<br class="astro-vhm3clna">
					<span class="link-title astro-vhm3clna">Prefetch</span>
				</span>
			</a>
</div>
</footer>
								</div>
</div>
							
				</main>
			</div>
</div>
		</div>
</div>
	<div id="extension-ebdbc"></div></body></html>